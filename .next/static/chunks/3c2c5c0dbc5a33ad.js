(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,299936,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(677572),s=e.i(102594),l=e.i(422713),i=e.i(846696),n=e.i(266027),c=e.i(912598),d=e.i(95187);let o=(0,d.createServerReference)("6034a5c363e12c48d78921a1e0770dbce94f6cff56",d.callServer,void 0,d.findSourceMapURL,"getTasksAction"),m=(0,d.createServerReference)("40a5a43b9d2632d76958b3c459aff9994a66bba2ac",d.callServer,void 0,d.findSourceMapURL,"createTaskAction"),u=(0,d.createServerReference)("70de349f8e2650f26ed27e9de63484d5cbd53d334e",d.callServer,void 0,d.findSourceMapURL,"updateTaskAction"),h=(0,d.createServerReference)("60848e5dc2214628ecd58a67490456df40858e9cf4",d.callServer,void 0,d.findSourceMapURL,"deleteTaskAction"),x=(0,d.createServerReference)("70f1e5fff4c4c8952afc4201a1485d37ce36b64a37",d.callServer,void 0,d.findSourceMapURL,"bulkUpdateTasksAction"),g=(0,d.createServerReference)("60bb437c9068ace00a64c1d86874015981b81e317e",d.callServer,void 0,d.findSourceMapURL,"getTaskCategoriesAction"),y=(0,d.createServerReference)("70ed67048c4c61e5594abf6f17318d25dd1920aa49",d.callServer,void 0,d.findSourceMapURL,"createTaskCategoryAction"),p=(0,d.createServerReference)("7030b3a2027f25d11b3e1649f9f48de595689e998d",d.callServer,void 0,d.findSourceMapURL,"updateTaskCategoryAction"),j=(0,d.createServerReference)("6046a2f8db1a44bfb779f4ccf2c1c8815918bdf60e",d.callServer,void 0,d.findSourceMapURL,"deleteTaskCategoryAction"),f=(0,d.createServerReference)("60f0a493b50e7389723a1c99f08bf7a82512acceff",d.callServer,void 0,d.findSourceMapURL,"createDefaultTaskCategoriesAction"),v=()=>{let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0),{user:c}=(0,s.useAuth)(),{currentBusiness:d}=(0,l.useBusiness)(),o=async()=>{if(!c?.id||!d?.id){t([]),n(!1);return}try{let e=await g(c.id,d.id);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch categories");t(e.data)}catch(e){console.error("Error loading task categories:",e),i.toast.error("Failed to load task categories"),t([])}finally{n(!1)}},m=async e=>{if(!c?.id||!d?.id)return null;try{let r=await y(c.id,d.id,e.trim());if(!r.success||!r.data)throw Error(r.error);let a=r.data,s={...a,user_id:a.userId,location_id:a.locationId,created_at:a.createdAt.toISOString(),updated_at:a.updatedAt.toISOString()};return t(e=>[...e,s]),i.toast.success("Category created successfully"),s}catch(e){return console.error("Error creating task category:",e),i.toast.error("Failed to create category"),null}},u=async(e,r)=>{if(!c?.id)return!1;try{let a=await p(e,c.id,r.trim());if(!a.success)throw Error(a.error);return t(t=>t.map(t=>t.id===e?{...t,name:r.trim()}:t)),i.toast.success("Category updated successfully"),!0}catch(e){return console.error("Error updating task category:",e),i.toast.error("Failed to update category"),!1}},h=async e=>{if(!c?.id)return!1;try{let r=await j(e,c.id);if(!r.success)throw Error(r.error);return t(t=>t.filter(t=>t.id!==e)),i.toast.success("Category deleted successfully"),!0}catch(e){return console.error("Error deleting task category:",e),i.toast.error("Failed to delete category"),!1}},x=async()=>{if(c?.id&&d?.id)try{let e=await f(c.id,d.id);if(!e.success)throw Error(e.error);await o()}catch(e){console.error("Error creating default categories:",e)}};return(0,r.useEffect)(()=>{o()},[c?.id,d?.id]),{categories:e,isLoading:a,createCategory:m,updateCategory:u,deleteCategory:h,createDefaultCategories:x,refreshCategories:o}};var b=e.i(677241),N=e.i(24708),C=e.i(550516);function k(e,t){return(0,C.isSameDay)((0,b.constructFrom)(t?.in||e,e),(0,N.constructNow)(t?.in||e))}var w=e.i(776639),T=e.i(519455),S=e.i(793479),_=e.i(110204),D=e.i(624687),M=e.i(967489),E=e.i(699375),R=e.i(227766),I=e.i(337822),A=e.i(747697),L=e.i(401851),F=e.i(688594),P=e.i(975157);let B=({isRecurring:e,recurrenceType:r,recurrenceEndDate:a,dueDate:s,onRecurringChange:l,onRecurrenceTypeChange:i,onRecurrenceEndDateChange:n})=>{let c=(0,F.addMonths)(s,12);return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(E.Switch,{id:"recurring",checked:e,onCheckedChange:l}),(0,t.jsx)(_.Label,{htmlFor:"recurring",children:"Make this a recurring task"})]}),e&&(0,t.jsxs)("div",{className:"space-y-4 pl-6 border-l-2 border-gray-100",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{children:"Repeat frequency"}),(0,t.jsxs)(M.Select,{value:r,onValueChange:e=>i(e),children:[(0,t.jsx)(M.SelectTrigger,{children:(0,t.jsx)(M.SelectValue,{placeholder:"Select frequency"})}),(0,t.jsxs)(M.SelectContent,{children:[(0,t.jsx)(M.SelectItem,{value:"daily",children:"Daily"}),(0,t.jsx)(M.SelectItem,{value:"weekly",children:"Weekly"}),(0,t.jsx)(M.SelectItem,{value:"monthly",children:"Monthly"})]})]})]}),r&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{children:"End date (max 12 months)"}),(0,t.jsxs)(I.Popover,{children:[(0,t.jsx)(I.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(T.Button,{variant:"outline",className:(0,P.cn)("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[(0,t.jsx)(A.CalendarIcon,{className:"mr-2 h-4 w-4"}),a?(0,L.format)(a,"MMM dd, yyyy"):"Select end date"]})}),(0,t.jsx)(I.PopoverContent,{className:"w-auto p-0",children:(0,t.jsx)(R.Calendar,{mode:"single",selected:a||void 0,onSelect:e=>n(e||null),fromDate:s,toDate:c,initialFocus:!0})})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Recurring tasks can repeat for up to 12 months from the due date"})]})]})]})},H=({isOpen:e,onClose:a,onSubmit:s,task:l,initialDate:i})=>{console.log("TaskForm rendering with props:",{isOpen:e,task:l,initialDate:i});let[n,c]=(0,r.useState)({title:"",description:"",priority:"Medium",due_date:(0,L.format)(i||new Date,"yyyy-MM-dd"),category:"",reminder_enabled:!1,reminder_time:"",is_recurring:!1,recurrence_type:void 0,recurrence_end_date:void 0}),[d,o]=(0,r.useState)(!1),[m,u]=(0,r.useState)(i||new Date),[h,x]=(0,r.useState)(null),g=[];try{g=v().categories||[]}catch(e){console.error("Error loading task categories:",e)}(0,r.useEffect)(()=>{console.log("TaskForm useEffect - task changed:",l),l?(c({title:l.title,description:l.description||"",priority:l.priority,due_date:l.due_date,category:l.category||"",reminder_enabled:l.reminder_enabled,reminder_time:l.reminder_time||"",is_recurring:l.is_recurring,recurrence_type:l.recurrence_type||void 0,recurrence_end_date:l.recurrence_end_date||void 0}),u(new Date(l.due_date)),x(l.recurrence_end_date?new Date(l.recurrence_end_date):null)):i&&(c(e=>({...e,due_date:(0,L.format)(i,"yyyy-MM-dd")})),u(i))},[l,i]);let y=async e=>{if(e.preventDefault(),console.log("TaskForm handleSubmit called with data:",n),!n.title.trim())return void console.log("TaskForm - title is empty, not submitting");o(!0);try{let e={...n,category:"no-category"===n.category?"":n.category,recurrence_end_date:h?(0,L.format)(h,"yyyy-MM-dd"):void 0};await s(e),l||(c({title:"",description:"",priority:"Medium",due_date:(0,L.format)(new Date,"yyyy-MM-dd"),category:"",reminder_enabled:!1,reminder_time:"",is_recurring:!1,recurrence_type:void 0,recurrence_end_date:void 0}),u(new Date),x(null)),a()}catch(e){console.error("Error submitting task:",e)}finally{o(!1)}};return console.log("TaskForm about to render dialog, isOpen:",e),(0,t.jsx)(w.Dialog,{open:e,onOpenChange:a,children:(0,t.jsxs)(w.DialogContent,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)(w.DialogHeader,{children:(0,t.jsx)(w.DialogTitle,{children:l?"Edit Task":"Create New Task"})}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{htmlFor:"title",children:"Task Title *"}),(0,t.jsx)(S.Input,{id:"title",value:n.title,onChange:e=>c(t=>({...t,title:e.target.value})),placeholder:"What needs to be done?",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{htmlFor:"description",children:"Description"}),(0,t.jsx)(D.Textarea,{id:"description",value:n.description,onChange:e=>c(t=>({...t,description:e.target.value})),placeholder:"Add more details...",rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{children:"Priority"}),(0,t.jsxs)(M.Select,{value:n.priority,onValueChange:e=>c(t=>({...t,priority:e})),children:[(0,t.jsx)(M.SelectTrigger,{children:(0,t.jsx)(M.SelectValue,{})}),(0,t.jsxs)(M.SelectContent,{children:[(0,t.jsx)(M.SelectItem,{value:"Low",className:"text-green-600",children:"Low Priority"}),(0,t.jsx)(M.SelectItem,{value:"Medium",className:"text-yellow-600",children:"Medium Priority"}),(0,t.jsx)(M.SelectItem,{value:"High",className:"text-red-600",children:"High Priority"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{children:"Due Date"}),(0,t.jsxs)(I.Popover,{children:[(0,t.jsx)(I.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(T.Button,{variant:"outline",className:(0,P.cn)("w-full justify-start text-left font-normal",!m&&"text-muted-foreground"),children:[(0,t.jsx)(A.CalendarIcon,{className:"mr-2 h-4 w-4"}),m?(0,L.format)(m,"MMM dd, yyyy"):"Pick a date"]})}),(0,t.jsx)(I.PopoverContent,{className:"w-auto p-0",children:(0,t.jsx)(R.Calendar,{mode:"single",selected:m,onSelect:e=>{console.log("TaskForm handleDateSelect called with:",e),e&&(u(e),c(t=>({...t,due_date:(0,L.format)(e,"yyyy-MM-dd")})))},initialFocus:!0})})]})]})]}),g.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{children:"Category"}),(0,t.jsxs)(M.Select,{value:n.category||"no-category",onValueChange:e=>c(t=>({...t,category:"no-category"===e?"":e})),children:[(0,t.jsx)(M.SelectTrigger,{children:(0,t.jsx)(M.SelectValue,{placeholder:"Select a category"})}),(0,t.jsxs)(M.SelectContent,{children:[(0,t.jsx)(M.SelectItem,{value:"no-category",children:"No Category"}),g.map(e=>(0,t.jsx)(M.SelectItem,{value:e.name,children:e.name},e.id))]})]})]}),(0,t.jsx)(B,{isRecurring:n.is_recurring||!1,recurrenceType:n.recurrence_type||"",recurrenceEndDate:h,dueDate:m,onRecurringChange:e=>c(t=>({...t,is_recurring:e,recurrence_type:e?t.recurrence_type:void 0})),onRecurrenceTypeChange:e=>c(t=>({...t,recurrence_type:e||void 0})),onRecurrenceEndDateChange:x}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(E.Switch,{id:"reminder",checked:n.reminder_enabled,onCheckedChange:e=>c(t=>({...t,reminder_enabled:e}))}),(0,t.jsx)(_.Label,{htmlFor:"reminder",children:"Enable reminder"})]}),n.reminder_enabled&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(_.Label,{htmlFor:"reminder-time",children:"Reminder Time"}),(0,t.jsx)(S.Input,{id:"reminder-time",type:"time",value:n.reminder_time,onChange:e=>c(t=>({...t,reminder_time:e.target.value}))})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(T.Button,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),(0,t.jsx)(T.Button,{type:"submit",disabled:d||!n.title.trim(),children:d?"Saving...":l?"Update Task":"Create Task"})]})]})]})})};var O=e.i(107233);let U=({pendingTodayTasksCount:e,totalTasksCount:r,onCreateTask:a,canCreate:s=!0})=>(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tasks"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:e>0?`You have ${e} task${1===e?"":"s"} due today`:r>0?"All clear for today! ðŸŽ‰":"What's on your mind today?"})]}),s&&(0,t.jsxs)(T.Button,{onClick:a,className:"mt-4 sm:mt-0",children:[(0,t.jsx)(O.Plus,{className:"w-4 h-4 mr-2"}),"Create Task"]})]});var V=e.i(370956),$=e.i(87316),z=e.i(217923);let Q=({activeTab:e})=>(0,t.jsxs)(a.TabsList,{className:"grid w-full grid-cols-3 lg:w-auto lg:grid-cols-4",children:[(0,t.jsxs)(a.TabsTrigger,{value:"list",className:"flex items-center gap-2",children:[(0,t.jsx)(V.List,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"List"})]}),(0,t.jsxs)(a.TabsTrigger,{value:"calendar",className:"flex items-center gap-2",children:[(0,t.jsx)($.Calendar,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Calendar"})]}),(0,t.jsxs)(a.TabsTrigger,{value:"today",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-white font-bold",children:"T"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Today"})]}),(0,t.jsxs)(a.TabsTrigger,{value:"stats",className:"flex items-center gap-2",children:[(0,t.jsx)(z.BarChart3,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Stats"})]})]});var W=e.i(555436);let Y=({filters:e,onFiltersChange:r,taskCategories:a,selectedTasks:s,onBulkComplete:l,canEdit:i=!0})=>(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(W.Search,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(S.Input,{placeholder:"Search tasks...",value:e.search,onChange:t=>r({...e,search:t.target.value}),className:"pl-10"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,t.jsxs)(M.Select,{value:e.status,onValueChange:t=>r({...e,status:t}),children:[(0,t.jsx)(M.SelectTrigger,{children:(0,t.jsx)(M.SelectValue,{})}),(0,t.jsxs)(M.SelectContent,{children:[(0,t.jsx)(M.SelectItem,{value:"all",children:"All Tasks"}),(0,t.jsx)(M.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(M.SelectItem,{value:"completed",children:"Completed"})]})]}),(0,t.jsxs)(M.Select,{value:e.priority,onValueChange:t=>r({...e,priority:t}),children:[(0,t.jsx)(M.SelectTrigger,{children:(0,t.jsx)(M.SelectValue,{})}),(0,t.jsxs)(M.SelectContent,{children:[(0,t.jsx)(M.SelectItem,{value:"all",children:"All Priorities"}),(0,t.jsx)(M.SelectItem,{value:"High",children:"High Priority"}),(0,t.jsx)(M.SelectItem,{value:"Medium",children:"Medium Priority"}),(0,t.jsx)(M.SelectItem,{value:"Low",children:"Low Priority"})]})]}),(0,t.jsxs)(M.Select,{value:e.category,onValueChange:t=>r({...e,category:t}),children:[(0,t.jsx)(M.SelectTrigger,{children:(0,t.jsx)(M.SelectValue,{})}),(0,t.jsxs)(M.SelectContent,{children:[(0,t.jsx)(M.SelectItem,{value:"all",children:"All Categories"}),(0,t.jsx)(M.SelectItem,{value:"no-category",children:"No Category"}),a.map(e=>(0,t.jsx)(M.SelectItem,{value:e,children:e},e))]})]})]}),s.length>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-3 rounded-md",children:[(0,t.jsxs)("span",{className:"text-sm text-blue-700",children:[s.length," task",1===s.length?"":"s"," selected"]}),i&&(0,t.jsx)(T.Button,{onClick:l,size:"sm",children:"Mark as Complete"})]})]});var q=e.i(595468),K=e.i(515288),G=e.i(257428),J=e.i(487486),X=e.i(688511),Z=e.i(727612),ee=e.i(503116);let et=(0,e.i(475254).default)("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var er=e.i(595727);function ea(e,t){return(0,C.isSameDay)(e,(0,er.addDays)((0,N.constructNow)(t?.in||e),1),t)}var es=e.i(281092);function el(e){return+(0,es.toDate)(e)<Date.now()}var ei=e.i(845110),en=e.i(381515);function ec(e,t,r){let[a,s]=(0,ei.normalizeDates)(r?.in,e,t),l=ed(a,s),i=Math.abs((0,en.differenceInCalendarDays)(a,s));a.setDate(a.getDate()-l*i);let n=Number(ed(a,s)===-l),c=l*(i-n);return 0===c?0:c}function ed(e,t){let r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}let eo=({task:e,onToggleComplete:a,onEdit:s,onDelete:l,canEdit:i=!0,canDelete:n=!0})=>{let c,[d,o]=(0,r.useState)(!1),m=async()=>{o(!0),await a(e.id),o(!1)};return(0,t.jsx)(K.Card,{className:(0,P.cn)("transition-all duration-200 hover:shadow-md",(t=>{if(e.completed)return"border-gray-200";switch(t){case"High":return"border-red-300 bg-red-50";case"Medium":return"border-yellow-300 bg-yellow-50";case"Low":return"border-green-300 bg-green-50";default:return"border-gray-200"}})(e.priority),e.completed&&"opacity-75"),children:(0,t.jsxs)(K.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(G.Checkbox,{checked:e.completed,onCheckedChange:m,disabled:d||!i,className:"mt-1"}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("h3",{className:(0,P.cn)("font-medium text-sm",e.completed&&"line-through text-gray-500"),children:e.title}),e.is_recurring&&(0,t.jsx)(et,{className:"w-3 h-3 text-blue-500"})]}),e.description&&(0,t.jsx)("p",{className:(0,P.cn)("text-xs text-gray-600 mt-1",e.completed&&"text-gray-400"),children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,t.jsx)(J.Badge,{variant:"secondary",className:(e=>{switch(e){case"High":return"bg-red-100 text-red-700 hover:bg-red-200";case"Medium":return"bg-yellow-100 text-yellow-700 hover:bg-yellow-200";case"Low":return"bg-green-100 text-green-700 hover:bg-green-200";default:return"bg-gray-100 text-gray-700 hover:bg-gray-200"}})(e.priority),children:e.priority}),e.category&&(0,t.jsx)(J.Badge,{variant:"outline",className:"text-xs",children:e.category}),e.is_recurring&&(0,t.jsx)(J.Badge,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700",children:e.is_recurring&&e.recurrence_type?({daily:"Daily",weekly:"Weekly",monthly:"Monthly"})[e.recurrence_type]:null}),(0,t.jsxs)("div",{className:(0,P.cn)("flex items-center text-xs",(c=new Date(e.due_date),e.completed?"text-gray-500":el(c)&&!k(c)?"text-red-500":k(c)?"text-orange-500":ea(c)?"text-yellow-500":"text-gray-600")),children:[(0,t.jsx)(ee.Clock,{className:"w-3 h-3 mr-1"}),(e=>{let t=new Date(e);if(k(t))return"Today";if(ea(t))return"Tomorrow";if(el(t)&&!k(t)){let e=Math.abs(ec(new Date,t));return`${e} day${1===e?"":"s"} ago`}let r=ec(t,new Date);return r<=7?`In ${r} day${1===r?"":"s"}`:(0,L.format)(t,"MMM dd, yyyy")})(e.due_date)]})]}),e.parent_task_id&&(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsxs)(J.Badge,{variant:"outline",className:"text-xs bg-gray-50",children:["Instance #",e.recurrence_count]})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[i&&(0,t.jsx)(T.Button,{variant:"ghost",size:"sm",onClick:()=>s(e),className:"h-7 w-7 p-0 hover:bg-gray-100",children:(0,t.jsx)(X.Edit,{className:"h-3 w-3"})}),n&&(0,t.jsx)(T.Button,{variant:"ghost",size:"sm",onClick:()=>l(e.id),className:"h-7 w-7 p-0 hover:bg-red-100 hover:text-red-600",children:(0,t.jsx)(Z.Trash2,{className:"h-3 w-3"})})]})]})})]}),e.reminder_enabled&&e.reminder_time&&(0,t.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[(0,t.jsx)(ee.Clock,{className:"w-3 h-3 mr-1"}),"Reminder at ",e.reminder_time]})]})})},em=({tasks:e,onToggleComplete:r,onEdit:a,onDelete:s,canEdit:l=!0,canDelete:i=!0})=>{let n=e.filter(e=>!e.completed),c=e.filter(e=>e.completed);return 0===e.length?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsxs)("div",{className:"text-gray-400 mb-4",children:[(0,t.jsx)(q.CheckCircle2,{className:"w-16 h-16 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"What's on your mind today?"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Add your first task to get started!"})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[n.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Pending (",n.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,t.jsx)(eo,{task:e,onToggleComplete:r,onEdit:a,onDelete:s,canEdit:l,canDelete:i},e.id))})]}),c.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Completed (",c.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,t.jsx)(eo,{task:e,onToggleComplete:r,onEdit:a,onDelete:s,canEdit:l,canDelete:i},e.id))})]})]})},eu=({tasks:e,onToggleComplete:a,onEdit:s,onDelete:l,onBulkComplete:i,canEdit:n=!0,canDelete:c=!0})=>{let[d,o]=(0,r.useState)({status:"all",priority:"all",category:"all",search:""}),[m,u]=(0,r.useState)([]),{categories:h}=v(),x=(0,r.useMemo)(()=>e.filter(e=>{if("pending"===d.status&&e.completed||"completed"===d.status&&!e.completed||"all"!==d.priority&&e.priority!==d.priority||"all"!==d.category&&("no-category"===d.category&&e.category||"no-category"!==d.category&&e.category!==d.category))return!1;if(d.search){let t=d.search.toLowerCase();return e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)}return!0}),[e,d]),g=[...new Set(e.map(e=>e.category).filter(Boolean))];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(Y,{filters:d,onFiltersChange:o,taskCategories:g,selectedTasks:m,onBulkComplete:()=>{i&&m.length>0&&(i(m),u([]))},canEdit:n}),(0,t.jsx)(em,{tasks:x,onToggleComplete:a,onEdit:s,onDelete:l,canEdit:n,canDelete:c}),0===x.length&&e.length>0&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No tasks match your current filters."})})]})};var eh=e.i(373375),ex=e.i(463059),eg=e.i(619578);let ey=({tasks:e,onToggleComplete:a,onEdit:s,onDelete:l,canEdit:i=!0,canDelete:n=!0})=>{let[c,d]=(0,r.useState)(new Date),[o,m]=(0,r.useState)(new Date),u=(0,r.useMemo)(()=>{let t={};return e.forEach(e=>{let r=(0,L.format)(new Date(e.due_date),"yyyy-MM-dd");t[r]||(t[r]=[]),t[r].push(e)}),t},[e]),h=(0,r.useMemo)(()=>u[(0,L.format)(c,"yyyy-MM-dd")]||[],[u,c]),x=e=>u[(0,L.format)(e,"yyyy-MM-dd")]||[],g=e=>{e&&d(e)};return(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(K.Card,{className:"lg:col-span-2",children:[(0,t.jsx)(K.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(K.CardTitle,{className:"text-lg font-semibold",children:(0,L.format)(o,"MMMM yyyy")}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(T.Button,{variant:"outline",size:"sm",onClick:()=>{let e=new Date;m(e),d(e)},className:"text-xs",children:"Today"}),(0,t.jsx)(T.Button,{variant:"outline",size:"sm",onClick:()=>{m(e=>(0,eg.subMonths)(e,1))},children:(0,t.jsx)(eh.ChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)(T.Button,{variant:"outline",size:"sm",onClick:()=>{m(e=>(0,F.addMonths)(e,1))},children:(0,t.jsx)(ex.ChevronRight,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)(K.CardContent,{children:[(0,t.jsx)(R.Calendar,{mode:"single",selected:c,onSelect:g,month:o,onMonthChange:m,className:"w-full",components:{Day:({date:e,...r})=>{x(e);let a=(0,C.isSameDay)(e,c);return(0,t.jsx)("div",{className:`relative p-2 hover:bg-gray-50 cursor-pointer rounded-md ${a?"bg-blue-100":""}`,onClick:()=>g(e),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:`text-sm ${a?"font-bold":""}`,children:(0,L.format)(e,"d")}),(e=>{let r=x(e);if(0===r.length)return null;let a=r.filter(e=>e.completed).length,s=r.length,l=r.filter(e=>"High"===e.priority&&!e.completed).length;return(0,t.jsxs)("div",{className:"flex items-center justify-center mt-1 space-x-1",children:[l>0&&(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),s-a>0&&(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),a>0&&(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]})})(e)]})})}}}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-4 text-xs text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsx)("span",{children:"High Priority"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{children:"Pending"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:"Completed"})]})]})]})]}),(0,t.jsxs)(K.Card,{children:[(0,t.jsxs)(K.CardHeader,{children:[(0,t.jsx)(K.CardTitle,{className:"text-lg font-semibold",children:(0,L.format)(c,"MMM dd, yyyy")}),h.length>0&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(J.Badge,{variant:"secondary",children:[h.filter(e=>!e.completed).length," pending"]}),(0,t.jsxs)(J.Badge,{variant:"secondary",children:[h.filter(e=>e.completed).length," completed"]})]})]}),(0,t.jsx)(K.CardContent,{children:0===h.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"No tasks for this date."}),(0,t.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"All clear! Time for a coffee break â˜•"})]}):(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.map(e=>(0,t.jsx)(eo,{task:e,onToggleComplete:a,onEdit:s,onDelete:l,canEdit:i,canDelete:n},e.id))})})]})]})};var ep=e.i(168148),ej=e.i(878894),ef=e.i(25652);let ev=({tasks:e})=>{let a=(0,r.useMemo)(()=>{let t=e.length,r=e.filter(e=>e.completed).length,a=e.filter(e=>k(new Date(e.due_date))),s=a.filter(e=>e.completed).length,l=e.filter(e=>el(new Date(e.due_date))&&!e.completed&&!k(new Date(e.due_date))).length,i=e.filter(e=>"High"===e.priority&&!e.completed).length,n=t>0?Math.round(r/t*100):0,c=a.length>0?Math.round(s/a.length*100):0;return{totalTasks:t,completedTasks:r,pendingTasks:t-r,todayTasks:a.length,todayCompleted:s,overdueTasks:l,highPriorityPending:i,completionRate:n,todayCompletionRate:c}},[e]),s=[{title:"Total Tasks",value:a.totalTasks,icon:ee.Clock,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Completed",value:a.completedTasks,icon:q.CheckCircle2,color:"text-green-600",bgColor:"bg-green-50"},{title:"Overdue",value:a.overdueTasks,icon:ej.AlertTriangle,color:"text-red-600",bgColor:"bg-red-50"},{title:"High Priority",value:a.highPriorityPending,icon:ef.TrendingUp,color:"text-orange-600",bgColor:"bg-orange-50"}];return 0===a.totalTasks?(0,t.jsx)(K.Card,{children:(0,t.jsx)(K.CardContent,{className:"p-6 text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No tasks yet. Create your first task to see statistics!"})})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:s.map(e=>(0,t.jsx)(K.Card,{children:(0,t.jsx)(K.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${e.bgColor}`,children:(0,t.jsx)(e.icon,{className:`h-4 w-4 ${e.color}`})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:e.title})]})]})})},e.title))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(K.Card,{children:[(0,t.jsx)(K.CardHeader,{children:(0,t.jsx)(K.CardTitle,{className:"text-base",children:"Overall Progress"})}),(0,t.jsx)(K.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Completion Rate"}),(0,t.jsxs)("span",{className:"font-semibold",children:[a.completionRate,"%"]})]}),(0,t.jsx)(ep.Progress,{value:a.completionRate,className:"h-2"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[a.completedTasks," of ",a.totalTasks," tasks completed"]})]})})]}),(0,t.jsxs)(K.Card,{children:[(0,t.jsx)(K.CardHeader,{children:(0,t.jsx)(K.CardTitle,{className:"text-base",children:"Today's Progress"})}),(0,t.jsx)(K.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"Today's Completion"}),(0,t.jsxs)("span",{className:"font-semibold",children:[a.todayCompletionRate,"%"]})]}),(0,t.jsx)(ep.Progress,{value:a.todayCompletionRate,className:"h-2"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[a.todayCompleted," of ",a.todayTasks," today's tasks completed"]})]})})]})]}),a.completionRate>80&&(0,t.jsx)(K.Card,{className:"bg-green-50 border-green-200",children:(0,t.jsxs)(K.CardContent,{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-green-800 font-medium",children:"ðŸŽ‰ Excellent work!"}),(0,t.jsxs)("p",{className:"text-green-700 text-sm mt-1",children:["You're doing great with a ",a.completionRate,"% completion rate!"]})]})}),a.overdueTasks>0&&(0,t.jsx)(K.Card,{className:"bg-orange-50 border-orange-200",children:(0,t.jsxs)(K.CardContent,{className:"p-4 text-center",children:[(0,t.jsx)("p",{className:"text-orange-800 font-medium",children:"â° Heads up!"}),(0,t.jsxs)("p",{className:"text-orange-700 text-sm mt-1",children:["You have ",a.overdueTasks," overdue task",1===a.overdueTasks?"":"s",". Consider updating your schedule or completing them soon."]})]})})]})},eb=({tasks:e,todayTasks:r,onToggleComplete:s,onEdit:l,onDelete:i,onBulkComplete:n,onCreateTask:c,canCreate:d=!0,canEdit:o=!0,canDelete:m=!0})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.TabsContent,{value:"list",className:"space-y-6",children:(0,t.jsx)(eu,{tasks:e,onToggleComplete:s,onEdit:l,onDelete:i,onBulkComplete:n,canEdit:o,canDelete:m})}),(0,t.jsx)(a.TabsContent,{value:"calendar",className:"space-y-6",children:(0,t.jsx)(ey,{tasks:e,onToggleComplete:s,onEdit:l,onDelete:i,canEdit:o,canDelete:m})}),(0,t.jsx)(a.TabsContent,{value:"today",className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Today's Tasks"}),d&&(0,t.jsxs)(T.Button,{onClick:c,variant:"outline",size:"sm",children:[(0,t.jsx)(O.Plus,{className:"w-4 h-4 mr-2"}),"Add Task"]})]}),0===r.length?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsxs)("div",{className:"text-gray-400 mb-4",children:[(0,t.jsx)($.Calendar,{className:"w-16 h-16 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No tasks for today"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Time for a coffee break â˜•"})]})}):(0,t.jsx)(em,{tasks:r,onToggleComplete:s,onEdit:l,onDelete:i,canEdit:o,canDelete:m})]})}),(0,t.jsx)(a.TabsContent,{value:"stats",className:"space-y-6",children:(0,t.jsx)(ev,{tasks:e})})]});var eN=e.i(777624),eC=e.i(929592),ek=e.i(63209),ew=e.i(871689),eT=e.i(904792);e.s(["default",0,()=>{let e,d,{user:g}=(0,s.useAuth)(),{hasPermission:y,isLoading:p}=(0,eN.useProfiles)(),j=(0,eT.useNavigate)(),f=y("tasks","view"),b=y("tasks","create"),N=y("tasks","edit"),C=y("tasks","delete");try{e=(()=>{let[e,t]=(0,r.useState)([]),{user:a}=(0,s.useAuth)(),{currentBusiness:d}=(0,l.useBusiness)(),g=(0,c.useQueryClient)(),y=(0,r.useCallback)(async()=>{if(!a?.id||!d?.id)return[];try{let e=await o(a.id,d.id);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch tasks");return e.data}catch(e){return console.error("Error loading tasks:",e),i.toast.error("Failed to load tasks"),[]}},[a?.id,d?.id]),p=["tasks",a?.id,d?.id],{data:j,isLoading:f,isFetching:v}=(0,n.useQuery)({queryKey:p,queryFn:y,enabled:!!a?.id&&!!d?.id,staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1});(0,r.useEffect)(()=>{j&&t(j)},[j]);let b=f&&!j,N=async e=>{if(!a?.id||!d?.id)return null;try{let r={userId:a.id,locationId:d.id,title:e.title,description:e.description,priority:e.priority,dueDate:new Date(e.due_date),category:e.category,reminderEnabled:e.reminder_enabled,reminderTime:e.reminder_time&&""!==e.reminder_time.trim()?e.reminder_time:null,isRecurring:e.is_recurring,recurrenceType:e.recurrence_type,recurrenceEndDate:e.recurrence_end_date?new Date(e.recurrence_end_date):null},s=await m(r);if(!s.success||!s.data)throw Error(s.error);let l=s.data,n={...l,user_id:l.userId,location_id:l.locationId,due_date:l.dueDate.toISOString().split("T")[0],completed_at:l.completedAt?.toISOString()||null,created_at:l.createdAt.toISOString(),updated_at:l.updatedAt.toISOString(),reminder_enabled:l.reminderEnabled,reminder_time:l.reminderTime,is_recurring:l.isRecurring,recurrence_type:l.recurrenceType,recurrence_end_date:l.recurrenceEndDate?.toISOString().split("T")[0]||null,parent_task_id:l.parentTaskId,recurrence_count:l.recurrenceCount};return t(e=>[n,...e]),g.setQueryData(p,e=>e?[n,...e]:[n]),g.invalidateQueries({queryKey:p}),i.toast.success("Task created successfully"),n}catch(e){return console.error("Error creating task:",e),i.toast.error("Failed to create task"),null}},C=async(e,t)=>{if(!a?.id)return!1;try{let r={...t};t.due_date&&(r.dueDate=new Date(t.due_date)),t.completed_at&&(r.completedAt=new Date(t.completed_at)),t.recurrence_end_date&&(r.recurrenceEndDate=new Date(t.recurrence_end_date)),void 0!==t.is_recurring&&(r.isRecurring=t.is_recurring),t.recurrence_type&&(r.recurrenceType=t.recurrence_type),void 0!==t.reminder_time&&(r.reminderTime=t.reminder_time&&""!==t.reminder_time.trim()?t.reminder_time:null);let s=await u(e,a.id,r);if(!s.success||!s.data)throw Error(s.error);return g.invalidateQueries({queryKey:p}),!0}catch(e){return console.error("Error updating task:",e),i.toast.error("Failed to update task"),!1}},k=async t=>{let r=e.find(e=>e.id===t);if(!r)return!1;let a={completed:!r.completed,completed_at:r.completed?null:new Date().toISOString()},s=await C(t,a);return s&&(r.completed?i.toast.success("Task marked as pending"):i.toast.success("Well done! ðŸŽ‰ Task completed")),s},w=async e=>{if(!a?.id)return!1;try{let t=await h(e,a.id);if(!t.success)throw Error(t.error);return g.invalidateQueries({queryKey:p}),i.toast.success("Task deleted successfully"),!0}catch(e){return console.error("Error deleting task:",e),i.toast.error("Failed to delete task"),!1}},T=async(e,t)=>{if(!a?.id||0===e.length)return!1;try{let r={...t};void 0!==t.completed&&(r.completed=t.completed),void 0!==t.completed_at&&(r.completedAt=t.completed_at?new Date(t.completed_at):null);let s=await x(e,a.id,r);if(!s.success)throw Error(s.error);return g.invalidateQueries({queryKey:p}),i.toast.success(`Updated ${e.length} tasks`),!0}catch(e){return console.error("Error bulk updating tasks:",e),i.toast.error("Failed to update tasks"),!1}};return{tasks:e,isLoading:b,createTask:N,updateTask:C,deleteTask:w,toggleTaskCompletion:k,bulkUpdateTasks:T,refreshTasks:()=>{g.invalidateQueries({queryKey:p})}}})()}catch(t){console.error("Error in useTasks:",t),e={tasks:[],isLoading:!1,createTask:async()=>null,updateTask:async()=>!1,deleteTask:async()=>!1,toggleTaskCompletion:async()=>!1,bulkUpdateTasks:async()=>!1}}try{d=v()}catch(e){console.error("Error in useTaskCategories:",e),d={categories:[],createDefaultCategories:async()=>{}}}let{tasks:w,isLoading:S,createTask:_,updateTask:D,deleteTask:M,toggleTaskCompletion:E,bulkUpdateTasks:R}=e,{categories:I,createDefaultCategories:A}=d,L=(({tasks:e,createTask:t,updateTask:a,deleteTask:s,toggleTaskCompletion:l,bulkUpdateTasks:i})=>{let[n,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[m,u]=(0,r.useState)(null),[h,x]=(0,r.useState)("list"),g=e.filter(e=>k(new Date(e.due_date))),y=g.filter(e=>!e.completed),p=(0,r.useCallback)(()=>{o(null),u(null),c(!0)},[]),j=(0,r.useCallback)(e=>{o(e),c(!0)},[]),f=(0,r.useCallback)(async e=>!!window.confirm("Are you sure you want to delete this task?")&&await s(e),[s]),v=(0,r.useCallback)(async e=>{try{d?await a(d.id,e):await t(e)}catch(e){console.error("Error in handleFormSubmit:",e)}},[d,a,t]);return{isTaskFormOpen:n,editingTask:d,selectedDate:m,activeTab:h,todayTasks:g,pendingTodayTasks:y,setActiveTab:x,handleCreateTask:p,handleEditTask:j,handleDeleteTask:f,handleFormSubmit:v,handleBulkComplete:(0,r.useCallback)(async e=>await i(e,{completed:!0,completed_at:new Date().toISOString()}),[i]),handleFormClose:(0,r.useCallback)(()=>{c(!1),o(null),u(null)},[]),toggleTaskCompletion:l}})({tasks:w,createTask:_,updateTask:D,deleteTask:M,toggleTaskCompletion:E,bulkUpdateTasks:R});return(r.default.useEffect(()=>{0!==I.length||S||A()},[I.length,S,A]),g)?p||S?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f?(0,t.jsxs)("div",{className:"max-w-6xl mx-auto p-4 sm:p-6",children:[(0,t.jsx)(U,{pendingTodayTasksCount:L.pendingTodayTasks.length,totalTasksCount:w.length,onCreateTask:L.handleCreateTask,canCreate:b}),(0,t.jsxs)(a.Tabs,{value:L.activeTab,onValueChange:L.setActiveTab,className:"space-y-6",children:[(0,t.jsx)(Q,{activeTab:L.activeTab}),(0,t.jsx)(eb,{tasks:w,todayTasks:L.todayTasks,onToggleComplete:L.toggleTaskCompletion,onEdit:L.handleEditTask,onDelete:L.handleDeleteTask,onBulkComplete:L.handleBulkComplete,onCreateTask:L.handleCreateTask,canCreate:b,canEdit:N,canDelete:C})]}),(0,t.jsx)(H,{isOpen:L.isTaskFormOpen,onClose:L.handleFormClose,onSubmit:L.handleFormSubmit,task:L.editingTask,initialDate:L.selectedDate||void 0})]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,t.jsxs)(eC.Alert,{variant:"destructive",children:[(0,t.jsx)(ek.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(eC.AlertTitle,{children:"Access Denied"}),(0,t.jsx)(eC.AlertDescription,{children:"You do not have permission to view the tasks module. Please contact your administrator if you believe this is an error."})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(T.Button,{onClick:()=>j("/"),variant:"outline",className:"gap-2",children:[(0,t.jsx)(ew.ArrowLeft,{className:"h-4 w-4"}),"Back to Dashboard"]})})]}):(0,t.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 p-4 rounded-md",children:(0,t.jsx)("p",{className:"text-amber-800",children:"You need to be signed in to manage your tasks. All tasks are saved to your account."})})})}],299936)}]);