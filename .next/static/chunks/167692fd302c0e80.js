(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,756043,e=>{"use strict";let t=(0,e.i(369547).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],756043)},229767,e=>{"use strict";var t=e.i(921161);e.s(["CalendarIcon",()=>t.default])},834492,e=>{"use strict";var t=e.i(498170),r=e.i(635113);function n(e,n,i){let o=(0,r.toDate)(e,i?.in);return isNaN(n)?(0,t.constructFrom)(i?.in||e,NaN):(n&&o.setDate(o.getDate()+n),o)}e.s(["addDays",()=>n])},601587,e=>{"use strict";var t=e.i(834492);function r(e,r,n){return(0,t.addDays)(e,-r,n)}e.s(["subDays",()=>r])},653162,e=>{"use strict";var t=e.i(498170),r=e.i(635113);function n(e,n,i){let o=(0,r.toDate)(e,i?.in);if(isNaN(n))return(0,t.constructFrom)(i?.in||e,NaN);if(!n)return o;let a=o.getDate(),s=(0,t.constructFrom)(i?.in||e,o.getTime());return(s.setMonth(o.getMonth()+n+1,0),a>=s.getDate())?s:(o.setFullYear(s.getFullYear(),s.getMonth(),a),o)}e.s(["addMonths",()=>n])},419326,e=>{"use strict";var t=e.i(653162);function r(e,r,n){return(0,t.addMonths)(e,12*r,n)}e.s(["addYears",()=>r])},721614,e=>{"use strict";let t=(0,e.i(369547).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],721614)},635113,402848,498170,e=>{"use strict";let t=Symbol.for("constructDateFrom");function r(e,r){return"function"==typeof e?e(r):e&&"object"==typeof e&&t in e?e[t](r):e instanceof Date?new e.constructor(r):new Date(r)}function n(e,t){return r(t||e,e)}e.s(["constructFromSymbol",0,t,"millisecondsInDay",0,864e5,"millisecondsInHour",0,36e5,"millisecondsInMinute",0,6e4,"millisecondsInSecond",0,1e3,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200],402848),e.s(["constructFrom",()=>r],498170),e.s(["toDate",()=>n],635113)},724537,e=>{"use strict";var t=e.i(191788);e.i(391398);var r=t.createContext(void 0);function n(e){let n=t.useContext(r);return e||n||"ltr"}e.s(["useDirection",()=>n])},998847,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},474864,e=>{"use strict";var t=e.i(191788),r=e.i(776833);function n(e){let[n,i]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,n;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let e=o.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,n=t.blockSize}else r=e.offsetWidth,n=e.offsetHeight;i({width:r,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}i(void 0)},[e]),n}e.s(["useSize",()=>n])},593427,e=>{"use strict";var t=e.i(191788);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},151670,e=>{"use strict";var t=e.i(921161);e.s(["Calendar",()=>t.default])},322138,e=>{"use strict";let t=(0,e.i(369547).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],322138)},286012,e=>{"use strict";var t=e.i(256680);async function r(e){try{return await t.db.activityHistory.create({data:{userId:e.userId,locationId:e.locationId,activityType:e.activityType,module:e.module,entityType:e.entityType,entityId:e.entityId||null,entityName:e.entityName,description:e.description,metadata:e.metadata||null,profileId:e.profileId||null,profileName:e.profileName||null}}),{success:!0}}catch(e){return console.error("Error logging activity:",e),{success:!1,error:e.message}}}async function n(e,r,i=1,o=20,a){try{let n={locationId:e,userId:r};if(a&&(a.activityType&&"ALL"!==a.activityType&&(n.activityType=a.activityType),a.module&&"ALL"!==a.module&&(n.module=a.module),a.search&&(n.OR=[{entityName:{contains:a.search,mode:"insensitive"}},{description:{contains:a.search,mode:"insensitive"}}]),a.dateFrom||a.dateTo)&&(n.createdAt={},a.dateFrom&&(n.createdAt.gte=new Date(a.dateFrom)),a.dateTo)){let e=new Date(a.dateTo);e.setHours(23,59,59,999),n.createdAt.lte=e}let[s,l]=await Promise.all([t.db.activityHistory.findMany({where:n,skip:(i-1)*o,take:o,orderBy:{createdAt:"desc"}}),t.db.activityHistory.count({where:n})]);return{success:!0,data:{activities:s.map(e=>({...e,created_at:e.createdAt.toISOString(),activity_type:e.activityType,location_id:e.locationId,user_id:e.userId,entity_type:e.entityType,entity_id:e.entityId,entity_name:e.entityName,profile_id:e.profileId,profile_name:e.profileName})),count:l}}}catch(e){return console.error("Error fetching activity history:",e),{success:!1,error:e.message}}}e.s(["getActivityHistoryAction",()=>n,"logActivityAction",()=>r])},923850,e=>{"use strict";var t=e.i(824216);e.s(["useCurrentUser",0,()=>{let{user:e}=(0,t.useAuth)();return{userId:e?.id}}])},810686,e=>{"use strict";e.s(["mapDbProductToProduct",0,e=>({id:e.id,itemNumber:e.item_number,barcode:e.barcode,manufacturerBarcode:e.manufacturer_barcode,name:e.name,description:e.description,category:e.category,quantity:e.quantity,costPrice:Number(e.cost_price),sellingPrice:Number(e.selling_price),supplier:e.supplier,imageUrl:e.image_url,minimumStock:e.minimum_stock,createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at)}),"mapDbSaleToSale",0,e=>{let t=(Array.isArray(e.items)?e.items:[]).map(e=>{let t=void 0!==e.discountPercentage?Number(e.discountPercentage):void 0,r=void 0!==e.discountAmount?Number(e.discountAmount):void 0,n=e.discountType;return!n&&(t&&t>0?n="percentage":r&&r>0&&(n="amount")),{description:e.description||"",quantity:Number(e.quantity)||0,price:Number(e.price)||0,cost:Number(e.cost)||0,productId:e.productId||void 0,discountType:n,discountPercentage:t,discountAmount:r,createdAt:e.createdAt||void 0}});return{id:e.id,receiptNumber:e.receipt_number,customerName:e.customer_name,customerAddress:e.customer_address||"",customerContact:e.customer_contact||"",customerId:e.customer_id||void 0,items:t,paymentStatus:e.payment_status,profit:Number(e.profit),date:new Date(e.date),taxRate:e.tax_rate?Number(e.tax_rate):0,cashTransactionId:e.cash_transaction_id||void 0,amountPaid:e.amount_paid?Number(e.amount_paid):void 0,amountDue:e.amount_due?Number(e.amount_due):void 0,notes:e.notes||"",categoryId:e.category_id||void 0,createdAt:new Date(e.created_at)}},"mapSaleToDbSale",0,(e,t,r,n,i,o,a)=>({user_id:i,location_id:o,receipt_number:n,customer_name:e.customerName,customer_address:e.customerAddress||null,customer_contact:e.customerContact||null,customer_id:e.customerId||null,items:e.items,payment_status:e.paymentStatus,profit:r,date:t.toISOString().split("T")[0],tax_rate:e.taxRate||0,cash_transaction_id:a||null,amount_paid:e.amountPaid||null,amount_due:e.amountDue||null,notes:e.notes||null,category_id:e.categoryId||null})])},546462,e=>{"use strict";var t=e.i(286012),r=e.i(923850),n=e.i(46108),i=e.i(638822);e.s(["useActivityLogger",0,()=>{let{userId:e}=(0,r.useCurrentUser)(),{currentBusiness:o}=(0,n.useBusiness)(),a=null;try{let{currentProfile:e}=(0,i.useProfiles)();a=e}catch{a=null}return{logActivity:async r=>{if(!e||!o?.id)return void console.warn("Cannot log activity: missing user or business context");try{let n=await (0,t.logActivityAction)({userId:e,locationId:o.id,activityType:r.activityType,module:r.module,entityType:r.entityType,entityId:r.entityId||void 0,entityName:r.entityName,description:r.description,metadata:r.metadata||void 0,profileId:a?.id||void 0,profileName:a?.profile_name||void 0});n.success||console.error("Error logging activity:",n.error)}catch(e){console.error("Failed to log activity:",e)}}}}])},554913,e=>{"use strict";var t=e.i(355879),r=e.i(679935),n=e.i(8745);e.s(["useInventoryActions",0,e=>{let{updateProductsBulk:i}=(0,t.useProducts)(e),o=async(e,t)=>{if(!e.length)return[];try{return await (0,n.getProductsByIdsAction)(e,t)}catch(e){throw console.error("Error fetching fresh products:",e),e}};return{deductStockForSale:async(t,n,a,s,l)=>{if(!e)return!1;try{let c=t.filter(e=>e.productId);if(0===c.length)return!0;let u=[...new Set(c.map(e=>e.productId))],d=await o(u,l);if(0===d.length)return!1;let f=new Map;for(let e of c){let t=f.get(e.productId)||0;f.set(e.productId,t+e.quantity)}let p=[];for(let[e,t]of f.entries()){let n=d.find(t=>t.id===e);if(!n)continue;let i=n.quantity-t;p.push({id:e,updated:{...n,quantity:i}}),i<0&&r.toast.warning(`${n.name} inventory is now negative (${i}). Please restock soon.`)}return p.length>0&&await i(p,e,"Sale",n,a,s),!0}catch(e){return console.error("Error deducting stock for sale:",e),!1}},restoreStockForSale:async(t,r,n,a)=>{if(!e)return!1;try{let s=t.filter(e=>e.productId);if(0===s.length)return!0;let l=[...new Set(s.map(e=>e.productId))],c=await o(l,a),u=new Map;for(let e of s){let t=u.get(e.productId)||0;u.set(e.productId,t+e.quantity)}let d=[];for(let[e,t]of u.entries()){let r=c.find(t=>t.id===e);if(!r)continue;let n=r.quantity+t;d.push({id:e,updated:{...r,quantity:n}})}return d.length>0&&await i(d,e,"Deleted Sale",r,void 0,n),!0}catch(e){return console.error("Error restoring stock for sale:",e),!1}},adjustStockForEditedSale:async(t,n,a,s,l,c)=>{if(!e)return!1;try{let u=[...t.filter(e=>e.productId).map(e=>e.productId),...n.filter(e=>e.productId).map(e=>e.productId)],d=[...new Set(u)];if(0===d.length)return!0;let f=await o(d,c),p=new Map;for(let e of t.filter(e=>e.productId)){let t=p.get(e.productId)||0;p.set(e.productId,t+e.quantity)}for(let e of n.filter(e=>e.productId)){let t=p.get(e.productId)||0;p.set(e.productId,t-e.quantity)}let m=[];for(let[e,t]of p.entries()){if(0===t)continue;let n=f.find(t=>t.id===e);if(!n)continue;let i=n.quantity+t;m.push({id:e,updated:{...n,quantity:i}}),i<0&&r.toast.warning(`${n.name} inventory is now negative (${i}). Please restock soon.`)}return m.length>0&&await i(m,e,"Sale Status/Qty Edit",a,s,l),!0}catch(e){return console.error("Error adjusting stock for edited sale:",e),!1}}}}])},873015,e=>{"use strict";var t=e.i(256680),r=e.i(290205);async function n(e,r="desc",i){try{let n={where:{branchId:e},orderBy:{createdAt:r},include:{cashTransaction:!0}};return i&&i>0&&(n.take=i),(await t.db.sale.findMany(n)).map(e=>({id:e.id,user_id:e.userId,location_id:e.branchId,receipt_number:e.saleNumber,customer_name:e.customerName,customer_address:e.customerAddress,customer_contact:e.customerPhone,customer_id:e.customerId,items:e.items,payment_status:e.paymentStatus,profit:0,date:e.date.toISOString(),tax_rate:e.taxRate?Number(e.taxRate):0,created_at:e.createdAt.toISOString(),updated_at:e.updatedAt.toISOString(),cash_transaction_id:e.cashTransactionId,amount_paid:Number(e.amountPaid),amount_due:Number(e.balance),category_id:e.categoryId,notes:e.notes}))}catch(e){return console.error("Error fetching sales:",e),[]}}async function i(e,r){try{let n=await t.db.sale.findUnique({where:{id:e},include:{cashTransaction:!0,installmentPayments:!0}});if(!n||n.branchId!==r)return{success:!1,error:"Sale not found or unauthorized"};return await t.db.$transaction(async t=>{await t.installmentPayment.deleteMany({where:{saleId:e}}),n.cashTransactionId&&await t.cashTransaction.delete({where:{id:n.cashTransactionId}}),await t.sale.delete({where:{id:e}})}),{success:!0,sale:{receiptNumber:n.saleNumber,customerName:n.customerName,customerAddress:n.customerAddress,customerContact:n.customerPhone,paymentStatus:n.paymentStatus,cashTransactionId:n.cashTransactionId,items:n.items,amountPaid:Number(n.amountPaid),amountDue:Number(n.balance),profit:0,taxRate:Number(n.taxRate),notes:n.notes}}}catch(e){return console.error("Error deleting sale:",e),{success:!1,error:e.message||"Failed to delete sale"}}}async function o(e,r,n){try{let i=e.payment_status;"NOT PAID"===i?i="UNPAID":"Installment Sale"===i?i="INSTALLMENT":"Paid"===i?i="PAID":"Quote"===i&&(i="QUOTE");let o={userId:e.user_id,branchId:e.location_id,saleNumber:e.receipt_number,customerName:e.customer_name,customerAddress:e.customer_address,customerPhone:e.customer_contact,customerId:e.customer_id,items:e.items,paymentStatus:i,date:new Date(e.date),taxRate:e.tax_rate,cashTransactionId:e.cash_transaction_id,amountPaid:e.amount_paid,balance:e.amount_due,categoryId:e.category_id,notes:e.notes,subtotal:0,total:0};if(r&&n){let e=await t.db.sale.update({where:{id:n},data:o});return{success:!0,data:e}}{let e=await t.db.sale.create({data:o});return{success:!0,data:e}}}catch(e){return console.error("Error upserting sale:",e),{success:!1,error:e.message||"Failed to preserve sale"}}}async function a(e){try{let r=await t.db.saleCategory.findMany({where:{branchId:e},orderBy:{name:"asc"}});return{success:!0,data:r}}catch(e){return console.error("Error fetching sales categories:",e),{success:!1,error:e.message}}}async function s(e,n,i,o=!1){try{let a=await t.db.saleCategory.create({data:{branchId:e,userId:n,name:i,is_default:o}});return(0,r.revalidatePath)("/sales"),{success:!0,data:a}}catch(e){return console.error("Error creating sales category:",e),{success:!1,error:e.message}}}async function l(e,n){try{let i=await t.db.saleCategory.update({where:{id:e},data:{name:n}});return(0,r.revalidatePath)("/sales"),{success:!0,data:i}}catch(e){return console.error("Error updating sales category:",e),{success:!1,error:e.message}}}async function c(e){try{return await t.db.saleCategory.delete({where:{id:e}}),(0,r.revalidatePath)("/sales"),{success:!0}}catch(e){return console.error("Error deleting sales category:",e),{success:!1,error:e.message}}}async function u(e,r){if(!e||!r)return null;try{return await t.db.customer.findFirst({where:{branchId:e,name:{contains:r,mode:"insensitive"}},select:{id:!0,name:!0}})}catch(e){return console.error("Error looking up customer by name:",e),null}}async function d(e,r){try{return await t.db.sale.update({where:{id:e},data:{customerId:r}}),{success:!0}}catch(e){return console.error("Error updating sale customer:",e),{success:!1,error:e.message}}}async function i(e){try{return await t.db.sale.delete({where:{id:e}}),(0,r.revalidatePath)("/sales"),!0}catch(e){return console.error("Error deleting sale:",e),!1}}e.s(["createSalesCategoryAction",()=>s,"deleteSaleAction",()=>i,"deleteSalesCategoryAction",()=>c,"getCustomerByNameAction",()=>u,"getSalesAction",()=>n,"getSalesCategoriesAction",()=>a,"updateSaleCustomerAction",()=>d,"updateSalesCategoryAction",()=>l,"upsertSaleAction",()=>o])},852577,e=>{"use strict";var t=e.i(191788),r=e.i(810686),n=e.i(150064),i=e.i(893930),o=e.i(285700),a=e.i(546462),s=e.i(46108),l=e.i(554913),c=e.i(775778),u=e.i(873015);e.s(["useSalesData",0,(e,d="desc",f)=>{let p=(0,o.useQueryClient)(),{toast:m}=(0,n.useToast)(),{logActivity:y}=(0,a.useActivityLogger)(),{currentBusiness:h}=(0,s.useBusiness)(),{restoreStockForSale:g}=(0,l.useInventoryActions)(e),v=(0,t.useCallback)(async()=>{try{if(!e||!h)return[];let t=await (0,u.getSalesAction)(h.id,d,f);return t?t.map(e=>{let t={id:e.id,user_id:e.user_id,location_id:e.location_id,receipt_number:e.receipt_number,customer_name:e.customer_name,customer_address:e.customer_address,customer_contact:e.customer_contact,customer_id:e.customer_id,items:e.items,payment_status:e.payment_status,profit:e.profit?Number(e.profit):0,date:e.date,tax_rate:e.tax_rate||0,created_at:e.created_at,updated_at:e.updated_at,cash_transaction_id:e.cash_transaction_id,amount_paid:e.amount_paid?Number(e.amount_paid):void 0,amount_due:e.amount_due?Number(e.amount_due):void 0,category_id:e.category_id,notes:e.notes};return(0,r.mapDbSaleToSale)(t)}):[]}catch(e){return console.error("Error loading sales:",e),m({title:"Error",description:"Failed to load sales data. Please try again.",variant:"destructive"}),[]}},[e,h?.id,d,f,m]),b=(0,t.useMemo)(()=>["sales",h?.id,e],[h?.id,e]),w=(0,t.useMemo)(()=>[...b,d,f],[b,d,f]),{data:x=[],isLoading:S,isFetching:j,refetch:k}=(0,i.useQuery)({queryKey:w,queryFn:v,enabled:!!e&&!!h?.id,staleTime:3e4,gcTime:18e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0}),C=S||j&&0===x.length,P=(0,t.useMemo)(()=>{let e=x.filter(e=>"Quote"!==e.paymentStatus),t=new Map;return e.forEach(e=>{let r=e.customerName,n=e.items.reduce((e,t)=>e+t.price*t.quantity,0);if(t.has(r)){let i=t.get(r);t.set(r,{total:i.total+n,count:i.count+1,customerId:i.customerId||e.customerId})}else t.set(r,{total:n,count:1,customerId:e.customerId})}),Array.from(t.entries()).map(([e,t])=>({id:t.customerId,name:e,totalPurchases:t.total,orderCount:t.count})).sort((e,t)=>t.totalPurchases-e.totalPurchases)},[x]),E=(0,t.useMemo)(()=>e=>{let t=x.filter(t=>t.customerName.toLowerCase()===e.toLowerCase()&&"Quote"!==t.paymentStatus);return{total:t.reduce((e,t)=>e+t.items.reduce((e,t)=>e+t.price*t.quantity,0),0),count:t.length}},[x]),A=async e=>{try{let t=x.find(t=>t.id===e);if(!t)throw Error("Sale not found");if("Quote"!==t.paymentStatus&&t.items.length>0&&(console.log("Restoring product quantities via useInventoryActions..."),await g(t.items,e,t.receiptNumber,h?.id)||m({title:"Inventory Update Warning",description:"Sale deleted, but inventory restoration might have failed. Please check your stock levels.",variant:"destructive"})),!h?.id)throw Error("Business context missing for deletion");let r=await (0,u.deleteSaleAction)(e,h.id);if(!r.success)throw Error(r.error);return p.setQueryData(w,t=>t?t.filter(t=>t.id!==e):[]),p.invalidateQueries({queryKey:b}),N(),await y({activityType:"DELETE",module:"SALES",entityType:"sale",entityId:e,entityName:`Sale #${t.receiptNumber}`,description:`Deleted sale for ${t.customerName} - Total: UGX ${((t.amountPaid||0)+(t.amountDue||0)).toLocaleString()} (Stock restored)`,metadata:{receiptNumber:t.receiptNumber,customerName:t.customerName,customerAddress:t.customerAddress,customerContact:t.customerContact,totalAmount:(t.amountPaid||0)+(t.amountDue||0),amountPaid:t.amountPaid,profit:t.profit,paymentStatus:t.paymentStatus,taxRate:t.taxRate,itemCount:t.items.length,items:t.items.map(e=>({description:e.description,quantity:e.quantity,price:e.price,cost:e.cost,total:e.quantity*e.price,discountPercentage:e.discountPercentage,discountAmount:e.discountAmount})),notes:t.notes,cashTransactionDeleted:!!t.cashTransactionId}}),m({title:"Sale Deleted",description:"The sale record and associated data have been successfully deleted."}),(0,c.clearInventoryCaches)(),!0}catch(e){return console.error("Error deleting sale:",e),m({title:"Error",description:"Failed to delete sale. Please try again.",variant:"destructive"}),!1}},N=(0,t.useCallback)(()=>{if(!h?.id)return;let e=`soldItemsFilters_${h.id}`;localStorage.removeItem(e),localStorage.removeItem("soldItemsFilters")},[h?.id]);return{sales:x,isLoading:C,deleteSale:A,addSale:(0,t.useCallback)(e=>{p.setQueryData(w,t=>t?[e,...t]:[e]),p.invalidateQueries({queryKey:b}),N(),(0,c.clearInventoryCaches)()},[p,w,b,N,c.clearInventoryCaches]),updateSale:(0,t.useCallback)(e=>{p.setQueryData(w,t=>t?t.map(t=>t.id===e.id?e:t):[e]),p.invalidateQueries({queryKey:b}),N(),(0,c.clearInventoryCaches)()},[p,w,b,N,c.clearInventoryCaches]),getTopCustomers:P,getCustomerLifetimePurchases:E,clearSoldItemsCache:N,refetch:k,isFetching:j}}])},398934,e=>{"use strict";var t,r,n,i;let o,a,s,l,c,u;(r=t||(t={})).Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE";class d extends Error{constructor(e,t,r){super(e),this.message=e,this.code=t,this.data=r}}let f=(o=(i=n="u">typeof globalThis?globalThis:"u">typeof self?self:"u">typeof window?window:e.g).CapacitorCustomPlatform||null,s=(a=i.Capacitor||{}).Plugins=a.Plugins||{},l=()=>{var e,t;return null!==o?o.name:(null==i?void 0:i.androidBridge)?"android":(null==(t=null==(e=null==i?void 0:i.webkit)?void 0:e.messageHandlers)?void 0:t.bridge)?"ios":"web"},c=e=>{var t;return null==(t=a.PluginHeaders)?void 0:t.find(t=>t.name===e)},u=new Map,a.convertFileSrc||(a.convertFileSrc=e=>e),a.getPlatform=l,a.handleError=e=>i.console.error(e),a.isNativePlatform=()=>"web"!==l(),a.isPluginAvailable=e=>{let t=u.get(e);return!!((null==t?void 0:t.platforms.has(l()))||c(e))},a.registerPlugin=(e,r={})=>{let n,i=u.get(e);if(i)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),i.proxy;let f=l(),p=c(e),m=async()=>(!n&&f in r?n=n="function"==typeof r[f]?await r[f]():r[f]:null!==o&&!n&&"web"in r&&(n=n="function"==typeof r.web?await r.web():r.web),n),y=r=>{let n,i=(...i)=>{let o=m().then(o=>{let s=((r,n)=>{var i,o;if(p){let t=null==p?void 0:p.methods.find(e=>n===e.name);if(t)if("promise"===t.rtype)return t=>a.nativePromise(e,n.toString(),t);else return(t,r)=>a.nativeCallback(e,n.toString(),t,r);if(r)return null==(i=r[n])?void 0:i.bind(r)}else if(r)return null==(o=r[n])?void 0:o.bind(r);else throw new d(`"${e}" plugin is not implemented on ${f}`,t.Unimplemented)})(o,r);if(s){let e=s(...i);return n=null==e?void 0:e.remove,e}throw new d(`"${e}.${r}()" is not implemented on ${f}`,t.Unimplemented)});return"addListener"===r&&(o.remove=async()=>n()),o};return i.toString=()=>`${r.toString()}() { [capacitor code] }`,Object.defineProperty(i,"name",{value:r,writable:!1,configurable:!1}),i},h=y("addListener"),g=y("removeListener"),v=(e,t)=>{let r=h({eventName:e},t),n=async()=>{g({eventName:e,callbackId:await r},t)},i=new Promise(e=>r.then(()=>e({remove:n})));return i.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()},i},b=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?v:h;case"removeListener":return g;default:return y(t)}}});return s[e]=b,u.set(e,{name:e,proxy:b,platforms:new Set([...Object.keys(r),...p?[f]:[]])}),b},a.Exception=d,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,n.Capacitor=a),p=f.registerPlugin;class m{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(t);let n=this.windowListeners[e];return n&&!n.registered&&this.addWindowListener(n),r&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){for(let e in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,r){let n=this.listeners[e];if(!n){if(r){let r=this.retainedEventArguments[e];r||(r=[]),r.push(t),this.retainedEventArguments[e]=r}return}n.forEach(e=>e(t))}hasListeners(e){var t;return!!(null==(t=this.listeners[e])?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new f.Exception(e,t.Unimplemented)}unavailable(e="not available"){return new f.Exception(e,t.Unavailable)}async removeListener(e,t){let r=this.listeners[e];if(!r)return;let n=r.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}}let y=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);class h extends m{async getCookies(){let e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[r,n]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent).trim(),n=n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent).trim(),t[r]=n}),t}async setCookie(e){try{let t=y(e.key),r=y(e.value),n=e.expires?`; expires=${e.expires.replace("expires=","")}`:"",i=(e.path||"/").replace("path=",""),o=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${r||""}${n}; path=${i}; ${o};`}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(e){return Promise.reject(e)}}async clearCookies(){try{for(let e of document.cookie.split(";")||[])document.cookie=e.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}p("CapacitorCookies",{web:()=>new h});let g=async e=>new Promise((t,r)=>{let n=new FileReader;n.onload=()=>{let e=n.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},n.onerror=e=>r(e),n.readAsDataURL(e)});class v extends m{async request(e){let t,r,n=((e,t={})=>{let r=Object.assign({method:e.method||"GET",headers:e.headers},t),n=((e={})=>{let t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((r,n,i)=>(r[n]=e[t[i]],r),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)r.body=e.data;else if(n.includes("application/x-www-form-urlencoded")){let t=new URLSearchParams;for(let[r,n]of Object.entries(e.data||{}))t.set(r,n);r.body=t.toString()}else if(n.includes("multipart/form-data")||e.data instanceof FormData){let t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,r)=>{t.append(r,e)});else for(let r of Object.keys(e.data))t.append(r,e.data[r]);r.body=t;let n=new Headers(r.headers);n.delete("content-type"),r.headers=n}else(n.includes("application/json")||"object"==typeof e.data)&&(r.body=JSON.stringify(e.data));return r})(e,e.webFetchExtra),i=((e,t=!0)=>e?Object.entries(e).reduce((e,r)=>{let n,i,[o,a]=r;return Array.isArray(a)?(i="",a.forEach(e=>{n=t?encodeURIComponent(e):e,i+=`${o}=${n}&`}),i.slice(0,-1)):(n=t?encodeURIComponent(a):a,i=`${o}=${n}`),`${e}&${i}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),o=i?`${e.url}?${i}`:e.url,a=await fetch(o,n),s=a.headers.get("content-type")||"",{responseType:l="text"}=a.ok?e:{};switch(s.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":r=await a.blob(),t=await g(r);break;case"json":t=await a.json();break;default:t=await a.text()}let c={};return a.headers.forEach((e,t)=>{c[t]=e}),{data:t,headers:c,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}p("CapacitorHttp",{web:()=>new v}),e.s(["Capacitor",()=>f,"WebPlugin",()=>m,"registerPlugin",()=>p])},646190,e=>{"use strict";var t=e.i(391398),r=e.i(353533);function n({className:e,...n}){return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",e),...n})}e.s(["Skeleton",()=>n])},450095,e=>{"use strict";let t=(0,e.i(369547).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],450095)},102150,e=>{"use strict";var t=e.i(391398),r=e.i(191788);e.i(730943);var n=e.i(817549),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let o=(0,n.createSlot)(`Primitive.${i}`),a=r.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?o:i,{...a,ref:r})});return a.displayName=`Primitive.${i}`,{...e,[i]:a}},{}),o="horizontal",a=["horizontal","vertical"],s=r.forwardRef((e,r)=>{var n;let{decorative:s,orientation:l=o,...c}=e,u=(n=l,a.includes(n))?l:o;return(0,t.jsx)(i.div,{"data-orientation":u,...s?{role:"none"}:{"aria-orientation":"vertical"===u?u:void 0,role:"separator"},...c,ref:r})});s.displayName="Separator";var l=e.i(353533);let c=r.forwardRef(({className:e,orientation:r="horizontal",decorative:n=!0,...i},o)=>(0,t.jsx)(s,{ref:o,decorative:n,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",e),...i}));c.displayName=s.displayName,e.s(["Separator",()=>c],102150)},737650,e=>{"use strict";var t=e.i(191788),r=e.i(150064),n=e.i(46108),i=e.i(8745);e.s(["useCategories",0,e=>{let[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),{toast:c}=(0,r.useToast)(),{currentBusiness:u}=(0,n.useBusiness)(),d=(0,t.useCallback)(async()=>{try{if(!u?.id){a([]),l(!1);return}l(!0);let e=await (0,i.getProductCategoriesAction)(u.id);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch categories");let t=e.data.map(e=>({id:e.id,name:e.name,createdAt:e.createdAt?new Date(e.createdAt):e.created_at?new Date(e.created_at):void 0}));a(t)}catch(e){console.error("Error loading categories:",e),c({title:"Error",description:"Failed to load product categories.",variant:"destructive"})}finally{l(!1)}},[u?.id,c]);(0,t.useEffect)(()=>{d()},[d]);let f=async t=>{try{if(!e||!u?.id)return null;let r=o.find(e=>e.name.toLowerCase()===t.toLowerCase());if(r)return c({title:"Category exists",description:"This category already exists."}),r;let n=await (0,i.createProductCategoryAction)(u.id,e,t);if(!n.success||!n.data)throw Error(n.error);let s={id:n.data.id,name:n.data.name,createdAt:new Date(n.data.createdAt)};return a(e=>[...e,s]),c({title:"Success",description:"Category created successfully"}),s}catch(e){return console.error("Error creating category:",e),c({title:"Error",description:"Failed to create category.",variant:"destructive"}),null}},p=async(e,t)=>{try{if(o.find(r=>r.name.toLowerCase()===t.toLowerCase()&&r.id!==e))return c({title:"Category exists",description:"Another category with this name already exists."}),!1;let r=await (0,i.updateProductCategoryAction)(e,t);if(!r.success)throw Error(r.error);return a(r=>r.map(r=>r.id===e?{...r,name:t}:r)),c({title:"Success",description:"Category updated successfully"}),!0}catch(e){return console.error("Error updating category:",e),c({title:"Error",description:"Failed to update category.",variant:"destructive"}),!1}};return{categories:o,isLoading:s,loadCategories:d,createCategory:f,updateCategory:p,deleteCategory:async e=>{try{let t=await (0,i.deleteProductCategoryAction)(e);if(!t.success)return c({title:"Cannot delete category",description:t.error||"Failed to delete category.",variant:"destructive"}),!1;return a(t=>t.filter(t=>t.id!==e)),c({title:"Success",description:"Category deleted successfully"}),!0}catch(e){return console.error("Error deleting category:",e),c({title:"Error",description:"Failed to delete category.",variant:"destructive"}),!1}}}}])},660522,e=>{"use strict";var t=e.i(411168);let r=(e,t="Ush")=>{let r=Math.round(e).toLocaleString();return`${t} ${r}`},n=async(e,n)=>{let{filename:i,orientation:o="portrait",format:a="a4",margins:s={top:20,right:20,bottom:20,left:20},returnBlob:l=!1}=n,c=new t.default({orientation:o,unit:"mm",format:a,compress:!0}),u=c.internal.pageSize.getWidth(),d=c.internal.pageSize.getHeight(),f=u-s.left-s.right,p=s.top,m=()=>{c.setLineWidth(.2)},y=(e,t,r,n={})=>{let{fontSize:i=10,fontStyle:o="normal",align:a="left",maxWidth:s}=n;if(c.setFontSize(i),c.setFont("helvetica",o),!s)return c.text(e,t,r,{align:a}),.35*i;{let n=c.splitTextToSize(e,s);return c.text(n,t,r,{align:a}),n.length*(.35*i)}},h=(e,t,r,n,i={})=>{let{fontSize:o=10,fontStyle:a="normal",align:s="left",lineHeight:l=1.2}=i;c.setFontSize(o),c.setFont("helvetica",a);let u=c.splitTextToSize(e,n),d=.35*o*l;return u.forEach((e,n)=>{c.text(e,t,r+n*d,{align:s})}),u.length*d},g=(e,t,r,n)=>{m(),c.line(e,t,r,n)},v=(e,t,r,n,i="S")=>{m(),c.rect(e,t,r,n,i)},b=()=>{v(s.left,s.top,f,d-s.top-s.bottom,"S")},w=e=>p+e>d-s.bottom&&(c.addPage(),p=s.top+10,b(),!0);b();let x=s.left+8,S=f-16;if(p+=8,e.businessLogo)try{let t=new Image;t.crossOrigin="anonymous",await new Promise((r,n)=>{t.onload=()=>{try{let e=document.createElement("canvas"),r=e.getContext("2d");if(r){e.width=t.width,e.height=t.height,r.drawImage(t,0,0);let n=e.toDataURL("image/png"),i=t.width/t.height;c.addImage(n,"PNG",x,p,15*i,15)}}catch(e){console.error("Error adding logo to PDF:",e)}r()},t.onerror=()=>{console.error("Error loading logo image"),r()},t.src=e.businessLogo})}catch(e){console.error("Error processing logo:",e)}let j=.75*S,k=x+S,C=p;if(e.businessName&&(C+=y(e.businessName,k,C,{fontSize:14,fontStyle:"bold",align:"right"}),C+=1.5),e.businessAddress){let t=c.splitTextToSize(e.businessAddress,j);t.forEach((e,t)=>{c.setFontSize(10),c.setFont("helvetica","normal"),c.text(e,k,C+3.15*t,{align:"right"})}),C+=3.15*t.length+.5}e.businessPhone&&(C+=y(`Phone: ${e.businessPhone}`,k,C,{fontSize:9,align:"right"}),C+=.5),e.businessEmail&&(C+=y(`Email: ${e.businessEmail}`,k,C,{fontSize:9,align:"right"}),C+=.5),p=Math.max(p+18,C)+5,w(20),g(x,p,x+S,p),p+=6,p+=y(e.documentTitle.toUpperCase(),u/2,p,{fontSize:16,fontStyle:"bold",align:"center"});let P=p+=4,E=P;E+=y(`${e.documentNumberLabel} ${e.receiptNumber}`,x,E,{fontSize:11,fontStyle:"bold"}),E+=2,E+=y(`Date: ${e.date}`,x,E,{fontSize:10}),E+=2,E+=y(`Time: ${e.time}`,x,E,{fontSize:10});let A=x+.7*S;if(y(`Status: ${e.status}`,A,P,{fontSize:11,fontStyle:"bold",align:"left"}),p=E+4,e.customerName&&""!==e.customerName.trim()){if(w(30),p+=y("Customer Information:",x,p,{fontSize:11,fontStyle:"bold"}),p+=3,p+=y(e.customerName,x,p,{fontSize:10}),p+=2.5,e.customerAddress&&""!==e.customerAddress.trim()){let t=h(e.customerAddress,x,p,.8*S,{fontSize:10,lineHeight:1});p+=t,p+=2.5}e.customerContact&&""!==e.customerContact.trim()&&(p+=y(e.customerContact,x,p,{fontSize:10}),p+=2.5),p+=3}let N=e.items.some(e=>(e.discountPercentage||0)>0||(e.discountAmount||0)>0),O=N?["Description","Qty","Unit Price","Discount","Amount"]:["Description","Qty","Unit Price","Amount"],T=N?[.35*S,.15*S,.18*S,.12*S,.2*S]:[.45*S,.15*S,.2*S,.2*S];c.setFillColor(245,245,245),v(x,p-2,S,10,"F"),v(x,p-2,S,10,"S");let R=x;O.forEach((e,t)=>{y(e,R+3,p+4,{fontSize:10,fontStyle:"bold"}),t<O.length-1&&g(R+T[t],p-2,R+T[t],p+8),R+=T[t]}),p+=10;let I=0;e.items.forEach((t,n)=>{c.setFontSize(9);let i=Math.max(8,3.5*c.splitTextToSize(t.description,T[0]-6).length+4);w(i+5),t.unitPrice,t.quantity,t.discountAmount;let o=t.amount;if(I+=o,n%2==1&&(c.setFillColor(250,250,250),v(x,p,S,i,"F")),v(x,p,S,i,"S"),R=x,h(t.description,R+3,p+4,T[0]-6,{fontSize:9,lineHeight:1.1}),g(R+=T[0],p,R,p+i),y(t.quantity.toString(),R+T[1]-3,p+i/2+1.5,{fontSize:9,align:"right"}),g(R+=T[1],p,R,p+i),y(r(t.unitPrice,e.currency),R+T[2]-3,p+i/2+1.5,{fontSize:9,align:"right"}),g(R+=T[2],p,R,p+i),N){let n="-";(t.discountPercentage||0)>0?n=`${t.discountPercentage}%`:(t.discountAmount||0)>0&&(n=r(t.discountAmount,e.currency)),y(n,R+T[3]-3,p+i/2+1.5,{fontSize:9,align:"right"}),g(R+=T[3],p,R,p+i)}y(r(o,e.currency),R+T[N?4:3]-3,p+i/2+1.5,{fontSize:9,align:"right"}),p+=i,n<e.items.length-1&&g(x,p,x+S,p)}),p+=5,w(70);let D=x+.45*S,_=.55*S,L=.55*_,F=.45*_,M=e.items.reduce((e,t)=>{let r=t.unitPrice*t.quantity;return e+("amount"===t.discountType?t.discountAmount||0:r*(t.discountPercentage||0)/100)},0);if(M>0&&(v(D,p,_,8,"S"),c.setFillColor(248,248,248),v(D,p,_,8,"F"),y("Subtotal (before discount):",D+4,p+5.5,{fontSize:10,fontStyle:"normal"}),g(D+L,p,D+L,p+8),y(r(I+M,e.currency),D+L+F-4,p+5.5,{fontSize:10,fontStyle:"normal",align:"right"}),v(D,p+=8,_,8,"S"),c.setFillColor(255,240,220),v(D,p,_,8,"F"),y("Total Discount:",D+4,p+5.5,{fontSize:10,fontStyle:"normal"}),g(D+L,p,D+L,p+8),y(`-${r(M,e.currency)}`,D+L+F-4,p+5.5,{fontSize:10,fontStyle:"normal",align:"right"}),p+=8),v(D,p,_,8,"S"),c.setFillColor(248,248,248),v(D,p,_,8,"F"),y(M>0?"Subtotal (after discount):":"Subtotal:",D+4,p+5.5,{fontSize:10,fontStyle:"normal"}),g(D+L,p,D+L,p+8),y(r(I,e.currency),D+L+F-4,p+5.5,{fontSize:10,fontStyle:"normal",align:"right"}),p+=8,e.showTaxRow&&e.taxAmount>0&&(v(D,p,_,8,"S"),c.setFillColor(250,250,250),v(D,p,_,8,"F"),y(`Tax (${e.taxRate}%):`,D+4,p+5.5,{fontSize:10,fontStyle:"normal"}),g(D+L,p,D+L,p+8),y(r(e.taxAmount,e.currency),D+L+F-4,p+5.5,{fontSize:10,fontStyle:"normal",align:"right"}),p+=8),v(D,p,_,12,"S"),c.setFillColor(220,220,220),v(D,p,_,12,"F"),y("TOTAL:",D+4,p+7.5,{fontSize:12,fontStyle:"bold"}),g(D+L,p,D+L,p+12),y(r(e.totalAmount,e.currency),D+L+F-4,p+7.5,{fontSize:12,fontStyle:"bold",align:"right"}),p+=12,e.isInstallmentSale&&(void 0!==e.amountPaid&&(v(D,p,_,8,"S"),c.setFillColor(240,248,255),v(D,p,_,8,"F"),y("Amount Paid:",D+4,p+5.5,{fontSize:10,fontStyle:"bold"}),g(D+L,p,D+L,p+8),y(r(e.amountPaid,e.currency),D+L+F-4,p+5.5,{fontSize:10,fontStyle:"bold",align:"right"}),p+=8),void 0!==e.amountDue&&(v(D,p,_,8,"S"),c.setFillColor(255,240,240),v(D,p,_,8,"F"),y("Amount Due:",D+4,p+5.5,{fontSize:10,fontStyle:"bold"}),g(D+L,p,D+L,p+8),y(r(e.amountDue,e.currency),D+L+F-4,p+5.5,{fontSize:10,fontStyle:"bold",align:"right"}),p+=8)),p+=7,e.totalAmountInWords){w(20),y("Amount in words:",x,p+=2,{fontSize:10,fontStyle:"bold"}),p+=4;let t=h(`${e.currency} ${e.totalAmountInWords} only`,x,p,.9*S,{fontSize:10,fontStyle:"italic",lineHeight:1.4});p+=t+4}if(e.hasPaymentInfo&&e.paymentMethods&&e.paymentMethods.length>0){w(40),g(x,p,x+S,p),y("Payment Information:",x,p+=5,{fontSize:11,fontStyle:"bold"}),p+=4;let t=["Payment Method","Account Number","Account Name"],r=[.28*S,.36*S,.36*S];c.setFillColor(240,240,240),v(x,p-2,S,10,"F"),v(x,p-2,S,10,"S");let n=x;t.forEach((e,i)=>{y(e,n+4,p+4,{fontSize:9,fontStyle:"bold"}),i<t.length-1&&g(n+r[i],p-2,n+r[i],p+10-2),n+=r[i]}),p+=10,e.paymentMethods.filter(e=>e.method.trim()||e.accountNumber.trim()||e.accountName.trim()).forEach((e,t)=>{w(15),t%2==1&&(c.setFillColor(248,248,248),v(x,p,S,10,"F")),v(x,p,S,10,"S"),n=x,y(e.method,n+4,p+5,{fontSize:9,fontStyle:"bold"}),g(n+=r[0],p,n,p+10),y(e.accountNumber,n+4,p+5,{fontSize:9}),g(n+=r[1],p,n,p+10),y(e.accountName,n+4,p+5,{fontSize:9}),p+=10}),p+=4}if(e.notes&&e.notes.trim()){w(25),g(x,p,x+S,p),y("Notes:",x,p+=4,{fontSize:11,fontStyle:"bold"}),p+=6;let t=S-8;c.splitTextToSize(e.notes,t).forEach(e=>{w(8),y(e,x+4,p,{fontSize:10}),p+=5}),p+=4}if(e.signature)try{w(35);let t=new Image;t.crossOrigin="anonymous",await new Promise(r=>{t.onload=()=>{try{let e=document.createElement("canvas"),r=e.getContext("2d");if(r){let n,i;e.width=t.width,e.height=t.height,r.drawImage(t,0,0);let o=e.toDataURL("image/png"),a=t.width/t.height;a>2?(n=40,i=40/a):(i=20,n=20*a);let s=x+S-n;g(x,p,x+S,p),p+=4,c.addImage(o,"PNG",s,p,n,i),p+=i+2,y("Authorized Signature",s+n/2,p,{fontSize:8,align:"center"}),p+=4}}catch(e){console.error("Error adding signature to PDF:",e)}r()},t.onerror=()=>{console.error("Error loading signature image"),r()},t.src=e.signature})}catch(e){console.error("Error processing signature:",e)}if(w(25),y("Thank you for your business!",u/2,p+=6,{fontSize:11,fontStyle:"bold",align:"center"}),y("Created by Gonza Systems",u/2,p+=5,{fontSize:9,align:"center"}),l)return c.output("blob");i&&c.save(i)};e.s(["generateReceiptVectorPDF",0,n])},21860,e=>{"use strict";var t=e.i(849543),r=e.i(327765),n=e.i(324906),i=e.i(492110),o=e.i(319133),a=e.i(738609),s=e.i(429557),l=e.i(438647),c=e.i(601587),u=e.i(443388),d=e.i(93445);e.s(["getDateRangeFromFilter",0,e=>{let f=new Date,p=(0,t.startOfDay)(f);switch(e){case"today":return{from:p,to:(0,r.endOfDay)(f)};case"yesterday":let m=(0,c.subDays)(p,1);return{from:m,to:(0,r.endOfDay)(m)};case"this-week":return{from:(0,n.startOfWeek)(f),to:(0,i.endOfWeek)(f)};case"last-week":let y=(0,n.startOfWeek)((0,u.subWeeks)(f,1));return{from:y,to:(0,i.endOfWeek)(y)};case"this-month":return{from:(0,o.startOfMonth)(f),to:(0,a.endOfMonth)(f)};case"last-month":let h=(0,o.startOfMonth)((0,d.subMonths)(f,1));return{from:h,to:(0,a.endOfMonth)(h)};case"this-year":return{from:(0,s.startOfYear)(f),to:(0,l.endOfYear)(f)};default:return{from:new Date(2e3,0,1),to:(0,r.endOfDay)(f)}}},"isDateInRange",0,(e,t,r)=>!t&&!r||(t?r?e>=t&&e<=r:e>=t:e<=r)])},212283,e=>{"use strict";let t;var r=e.i(391398),n=e.i(191788),i=e.i(479293),o=e.i(357006),a=e.i(135598),s=e.i(671185),l=Symbol("radix.slottable"),c="AlertDialog",[u,d]=(0,i.createContextScope)(c,[a.createDialogScope]),f=(0,a.createDialogScope)(),p=e=>{let{__scopeAlertDialog:t,...n}=e,i=f(t);return(0,r.jsx)(a.Root,{...i,...n,modal:!0})};p.displayName=c;var m=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...i}=e,o=f(n);return(0,r.jsx)(a.Trigger,{...o,...i,ref:t})});m.displayName="AlertDialogTrigger";var y=e=>{let{__scopeAlertDialog:t,...n}=e,i=f(t);return(0,r.jsx)(a.Portal,{...i,...n})};y.displayName="AlertDialogPortal";var h=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...i}=e,o=f(n);return(0,r.jsx)(a.Overlay,{...o,...i,ref:t})});h.displayName="AlertDialogOverlay";var g="AlertDialogContent",[v,b]=u(g),w=((t=({children:e})=>(0,r.jsx)(r.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",t.__radixId=l,t),x=n.forwardRef((e,t)=>{let{__scopeAlertDialog:i,children:l,...c}=e,u=f(i),d=n.useRef(null),p=(0,o.useComposedRefs)(t,d),m=n.useRef(null);return(0,r.jsx)(a.WarningProvider,{contentName:g,titleName:S,docsSlug:"alert-dialog",children:(0,r.jsx)(v,{scope:i,cancelRef:m,children:(0,r.jsxs)(a.Content,{role:"alertdialog",...u,...c,ref:p,onOpenAutoFocus:(0,s.composeEventHandlers)(c.onOpenAutoFocus,e=>{e.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(w,{children:l}),(0,r.jsx)(N,{contentRef:d})]})})})});x.displayName=g;var S="AlertDialogTitle",j=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...i}=e,o=f(n);return(0,r.jsx)(a.Title,{...o,...i,ref:t})});j.displayName=S;var k="AlertDialogDescription",C=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...i}=e,o=f(n);return(0,r.jsx)(a.Description,{...o,...i,ref:t})});C.displayName=k;var P=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...i}=e,o=f(n);return(0,r.jsx)(a.Close,{...o,...i,ref:t})});P.displayName="AlertDialogAction";var E="AlertDialogCancel",A=n.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...i}=e,{cancelRef:s}=b(E,n),l=f(n),c=(0,o.useComposedRefs)(t,s);return(0,r.jsx)(a.Close,{...l,...i,ref:c})});A.displayName=E;var N=({contentRef:e})=>{let t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${k}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},O=e.i(353533),T=e.i(939310);let R=n.forwardRef(({className:e,...t},n)=>(0,r.jsx)(h,{className:(0,O.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));R.displayName=h.displayName;let I=n.forwardRef(({className:e,...t},n)=>(0,r.jsxs)(y,{children:[(0,r.jsx)(R,{}),(0,r.jsx)(x,{ref:n,className:(0,O.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));I.displayName=x.displayName;let D=({className:e,...t})=>(0,r.jsx)("div",{className:(0,O.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});D.displayName="AlertDialogHeader";let _=({className:e,...t})=>(0,r.jsx)("div",{className:(0,O.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_.displayName="AlertDialogFooter";let L=n.forwardRef(({className:e,...t},n)=>(0,r.jsx)(j,{ref:n,className:(0,O.cn)("text-lg font-semibold",e),...t}));L.displayName=j.displayName;let F=n.forwardRef(({className:e,...t},n)=>(0,r.jsx)(C,{ref:n,className:(0,O.cn)("text-sm text-muted-foreground",e),...t}));F.displayName=C.displayName;let M=n.forwardRef(({className:e,...t},n)=>(0,r.jsx)(P,{ref:n,className:(0,O.cn)((0,T.buttonVariants)(),e),...t}));M.displayName=P.displayName;let z=n.forwardRef(({className:e,...t},n)=>(0,r.jsx)(A,{ref:n,className:(0,O.cn)((0,T.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));z.displayName=A.displayName,e.s(["AlertDialog",()=>p,"AlertDialogAction",()=>M,"AlertDialogCancel",()=>z,"AlertDialogContent",()=>I,"AlertDialogDescription",()=>F,"AlertDialogFooter",()=>_,"AlertDialogHeader",()=>D,"AlertDialogTitle",()=>L,"AlertDialogTrigger",()=>m],212283)},438647,443388,e=>{"use strict";var t=e.i(635113);function r(e,r){let n=(0,t.toDate)(e,r?.in),i=n.getFullYear();return n.setFullYear(i+1,0,0),n.setHours(23,59,59,999),n}e.s(["endOfYear",()=>r],438647);var n=e.i(530174);function i(e,t,r){return(0,n.addWeeks)(e,-t,r)}e.s(["subWeeks",()=>i],443388)},221498,e=>{"use strict";var t=e.i(191788),r=e.i(671185),n=e.i(352162),i=e.i(357006),o=e.i(479293),a=e.i(64592),s=e.i(674534),l=e.i(998657),c=e.i(55037),u=e.i(724537),d=e.i(391398),f="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},m="RovingFocusGroup",[y,h,g]=(0,n.createCollection)(m),[v,b]=(0,o.createContextScope)(m,[g]),[w,x]=v(m),S=t.forwardRef((e,t)=>(0,d.jsx)(y.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,d.jsx)(y.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,d.jsx)(j,{...e,ref:t})})}));S.displayName=m;var j=t.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:o,orientation:a,loop:y=!1,dir:g,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:x,onEntryFocus:S,preventScrollOnEntryFocus:j=!1,...k}=e,C=t.useRef(null),P=(0,i.useComposedRefs)(n,C),A=(0,u.useDirection)(g),[N,O]=(0,c.useControllableState)({prop:v,defaultProp:b??null,onChange:x,caller:m}),[T,R]=t.useState(!1),I=(0,l.useCallbackRef)(S),D=h(o),_=t.useRef(!1),[L,F]=t.useState(0);return t.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(f,I),()=>e.removeEventListener(f,I)},[I]),(0,d.jsx)(w,{scope:o,orientation:a,dir:A,loop:y,currentTabStopId:N,onItemFocus:t.useCallback(e=>O(e),[O]),onItemShiftTab:t.useCallback(()=>R(!0),[]),onFocusableItemAdd:t.useCallback(()=>F(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>F(e=>e-1),[]),children:(0,d.jsx)(s.Primitive.div,{tabIndex:T||0===L?-1:0,"data-orientation":a,...k,ref:P,style:{outline:"none",...e.style},onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,()=>{_.current=!0}),onFocus:(0,r.composeEventHandlers)(e.onFocus,e=>{let t=!_.current;if(e.target===e.currentTarget&&t&&!T){let t=new CustomEvent(f,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=D().filter(e=>e.focusable);E([e.find(e=>e.active),e.find(e=>e.id===N),...e].filter(Boolean).map(e=>e.ref.current),j)}}_.current=!1}),onBlur:(0,r.composeEventHandlers)(e.onBlur,()=>R(!1))})})}),k="RovingFocusGroupItem",C=t.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:i,focusable:o=!0,active:l=!1,tabStopId:c,children:u,...f}=e,p=(0,a.useId)(),m=c||p,g=x(k,i),v=g.currentTabStopId===m,b=h(i),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:j}=g;return t.useEffect(()=>{if(o)return w(),()=>S()},[o,w,S]),(0,d.jsx)(y.ItemSlot,{scope:i,id:m,focusable:o,active:l,children:(0,d.jsx)(s.Primitive.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...f,ref:n,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{o?g.onItemFocus(m):e.preventDefault()}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void g.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let i=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(i))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(i)))return P[i]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let i=b().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)i.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&i.reverse();let o=i.indexOf(e.currentTarget);i=g.loop?(r=i,n=o+1,r.map((e,t)=>r[(n+t)%r.length])):i.slice(o+1)}setTimeout(()=>E(i))}}),children:"function"==typeof u?u({isCurrentTabStop:v,hasTabStop:null!=j}):u})})});C.displayName=k;var P={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function E(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}e.s(["Item",()=>C,"Root",()=>S,"createRovingFocusGroupScope",()=>b])},550292,e=>{"use strict";var t=e.i(391398),r=e.i(191788),n=e.i(671185),i=e.i(479293),o=e.i(221498),a=e.i(993953),s=e.i(674534),l=e.i(724537),c=e.i(55037),u=e.i(64592),d="Tabs",[f,p]=(0,i.createContextScope)(d,[o.createRovingFocusGroupScope]),m=(0,o.createRovingFocusGroupScope)(),[y,h]=f(d),g=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:i,onValueChange:o,defaultValue:a,orientation:f="horizontal",dir:p,activationMode:m="automatic",...h}=e,g=(0,l.useDirection)(p),[v,b]=(0,c.useControllableState)({prop:i,onChange:o,defaultProp:a??"",caller:d});return(0,t.jsx)(y,{scope:n,baseId:(0,u.useId)(),value:v,onValueChange:b,orientation:f,dir:g,activationMode:m,children:(0,t.jsx)(s.Primitive.div,{dir:g,"data-orientation":f,...h,ref:r})})});g.displayName=d;var v="TabsList",b=r.forwardRef((e,r)=>{let{__scopeTabs:n,loop:i=!0,...a}=e,l=h(v,n),c=m(n);return(0,t.jsx)(o.Root,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:i,children:(0,t.jsx)(s.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:r})})});b.displayName=v;var w="TabsTrigger",x=r.forwardRef((e,r)=>{let{__scopeTabs:i,value:a,disabled:l=!1,...c}=e,u=h(w,i),d=m(i),f=k(u.baseId,a),p=C(u.baseId,a),y=a===u.value;return(0,t.jsx)(o.Item,{asChild:!0,...d,focusable:!l,active:y,children:(0,t.jsx)(s.Primitive.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":p,"data-state":y?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:f,...c,ref:r,onMouseDown:(0,n.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():u.onValueChange(a)}),onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&u.onValueChange(a)}),onFocus:(0,n.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==u.activationMode;y||l||!e||u.onValueChange(a)})})})});x.displayName=w;var S="TabsContent",j=r.forwardRef((e,n)=>{let{__scopeTabs:i,value:o,forceMount:l,children:c,...u}=e,d=h(S,i),f=k(d.baseId,o),p=C(d.baseId,o),m=o===d.value,y=r.useRef(m);return r.useEffect(()=>{let e=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(a.Presence,{present:l||m,children:({present:r})=>(0,t.jsx)(s.Primitive.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!r,id:p,tabIndex:0,...u,ref:n,style:{...e.style,animationDuration:y.current?"0s":void 0},children:r&&c})})});function k(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}j.displayName=S;var P=e.i(353533);let E=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(b,{ref:n,className:(0,P.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));E.displayName=b.displayName;let A=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(x,{ref:n,className:(0,P.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));A.displayName=x.displayName;let N=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(j,{ref:n,className:(0,P.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));N.displayName=j.displayName,e.s(["Tabs",()=>g,"TabsContent",()=>N,"TabsList",()=>E,"TabsTrigger",()=>A],550292)},93445,e=>{"use strict";var t=e.i(653162);function r(e,r,n){return(0,t.addMonths)(e,-r,n)}e.s(["subMonths",()=>r])},327765,e=>{"use strict";var t=e.i(635113);function r(e,r){let n=(0,t.toDate)(e,r?.in);return n.setHours(23,59,59,999),n}e.s(["endOfDay",()=>r])},681912,(e,t,r)=>{"use strict";var n=e.r(730943);r.createRoot=n.createRoot,r.hydrateRoot=n.hydrateRoot},741705,(e,t,r)=>{"use strict";r._=function(e){return e&&e.__esModule?e:{default:e}}},952456,(e,t,r)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}r._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}},713584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"HeadManagerContext",{enumerable:!0,get:function(){return n}});let n=e.r(741705)._(e.r(191788)).default.createContext({})},894470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},889129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return x},MissingStaticPage:function(){return w},NormalizeError:function(){return v},PageNotFoundError:function(){return b},SP:function(){return y},ST:function(){return h},WEB_VITALS:function(){return o},execOnce:function(){return a},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return S}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>s.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let y="u">typeof performance,h=y&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class v extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class w extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class x extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function S(e){return JSON.stringify({message:e.message,stack:e.stack})}},701085,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={AppRouterContext:function(){return a},GlobalLayoutRouterContext:function(){return l},LayoutRouterContext:function(){return s},MissingSlotContext:function(){return u},TemplateContext:function(){return c}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(741705)._(e.r(191788)),a=o.default.createContext(null),s=o.default.createContext(null),l=o.default.createContext(null),c=o.default.createContext(null),u=o.default.createContext(new Set)},531430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return i}});class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},470008,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NavigationPromisesContext:function(){return u},PathParamsContext:function(){return c},PathnameContext:function(){return l},ReadonlyURLSearchParams:function(){return a.ReadonlyURLSearchParams},SearchParamsContext:function(){return s},createDevToolsInstrumentedPromise:function(){return d}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o=e.r(191788),a=e.r(531430),s=(0,o.createContext)(null),l=(0,o.createContext)(null),c=(0,o.createContext)(null),u=(0,o.createContext)(null);function d(e,t){let r=Promise.resolve(t);return r.status="fulfilled",r.value=t,r.displayName=`${e} (SSR)`,r}},991622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HTTPAccessErrorStatus:function(){return o},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return s},getAccessFallbackErrorTypeByStatus:function(){return u},getAccessFallbackHTTPStatus:function(){return c},isHTTPAccessFallbackError:function(){return l}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let o={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},a=new Set(Object.values(o)),s="NEXT_HTTP_ERROR_FALLBACK";function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===s&&a.has(Number(r))}function c(e){return Number(e.digest.split(";")[1])}function u(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},40184,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return i}});var n,i=((n={})[n.SeeOther=303]="SeeOther",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},301939,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i={REDIRECT_ERROR_CODE:function(){return s},RedirectType:function(){return l},isRedirectError:function(){return c}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});let a=e.r(40184),s="NEXT_REDIRECT";var l=((n={}).push="push",n.replace="replace",n);function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,i=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===s&&("replace"===n||"push"===n)&&"string"==typeof i&&!isNaN(o)&&o in a.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},68934,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return o}});let n=e.r(991622),i=e.r(301939);function o(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},443915,e=>{"use strict";var t=e.i(391398),r=e.i(191788),n=e.i(353533);let i=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));i.displayName="Textarea",e.s(["Textarea",()=>i])},675878,e=>{"use strict";let t=(0,e.i(369547).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],675878)},626427,e=>{"use strict";var t=e.i(391398),r=e.i(191788),n=e.i(648684),i=e.i(353533);let o=(0,n.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),a=r.forwardRef(({className:e,variant:r,...n},a)=>(0,t.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(o({variant:r}),e),...n}));a.displayName="Alert";let s=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("h5",{ref:n,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...r}));s.displayName="AlertTitle";let l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)("div",{ref:n,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...r}));l.displayName="AlertDescription",e.s(["Alert",()=>a,"AlertDescription",()=>l,"AlertTitle",()=>s])},262945,e=>{"use strict";var t=e.i(391398),r=e.i(191788),n=e.i(357006),i=e.i(479293),o=e.i(671185),a=e.i(55037),s=e.i(593427),l=e.i(474864),c=e.i(993953),u=e.i(674534),d="Checkbox",[f,p]=(0,i.createContextScope)(d),[m,y]=f(d);function h(e){let{__scopeCheckbox:n,checked:i,children:o,defaultChecked:s,disabled:l,form:c,name:u,onCheckedChange:f,required:p,value:y="on",internal_do_not_use_render:h}=e,[g,v]=(0,a.useControllableState)({prop:i,defaultProp:s??!1,onChange:f,caller:d}),[b,w]=r.useState(null),[x,S]=r.useState(null),j=r.useRef(!1),C=!b||!!c||!!b.closest("form"),P={checked:g,disabled:l,setChecked:v,control:b,setControl:w,name:u,form:c,value:y,hasConsumerStoppedPropagationRef:j,required:p,defaultChecked:!k(s)&&s,isFormControl:C,bubbleInput:x,setBubbleInput:S};return(0,t.jsx)(m,{scope:n,...P,children:"function"==typeof h?h(P):o})}var g="CheckboxTrigger",v=r.forwardRef(({__scopeCheckbox:e,onKeyDown:i,onClick:a,...s},l)=>{let{control:c,value:d,disabled:f,checked:p,required:m,setControl:h,setChecked:v,hasConsumerStoppedPropagationRef:b,isFormControl:w,bubbleInput:x}=y(g,e),S=(0,n.useComposedRefs)(l,h),j=r.useRef(p);return r.useEffect(()=>{let e=c?.form;if(e){let t=()=>v(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,v]),(0,t.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":k(p)?"mixed":p,"aria-required":m,"data-state":C(p),"data-disabled":f?"":void 0,disabled:f,value:d,...s,ref:S,onKeyDown:(0,o.composeEventHandlers)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.composeEventHandlers)(a,e=>{v(e=>!!k(e)||!e),x&&w&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})});v.displayName=g;var b=r.forwardRef((e,r)=>{let{__scopeCheckbox:n,name:i,checked:o,defaultChecked:a,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return(0,t.jsx)(h,{__scopeCheckbox:n,checked:o,defaultChecked:a,disabled:l,required:s,onCheckedChange:u,name:i,form:d,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{...f,ref:r,__scopeCheckbox:n}),e&&(0,t.jsx)(j,{__scopeCheckbox:n})]})})});b.displayName=d;var w="CheckboxIndicator",x=r.forwardRef((e,r)=>{let{__scopeCheckbox:n,forceMount:i,...o}=e,a=y(w,n);return(0,t.jsx)(c.Presence,{present:i||k(a.checked)||!0===a.checked,children:(0,t.jsx)(u.Primitive.span,{"data-state":C(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});x.displayName=w;var S="CheckboxBubbleInput",j=r.forwardRef(({__scopeCheckbox:e,...i},o)=>{let{control:a,hasConsumerStoppedPropagationRef:c,checked:d,defaultChecked:f,required:p,disabled:m,name:h,value:g,form:v,bubbleInput:b,setBubbleInput:w}=y(S,e),x=(0,n.useComposedRefs)(o,w),j=(0,s.usePrevious)(d),C=(0,l.useSize)(a);r.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(j!==d&&e){let r=new Event("click",{bubbles:t});b.indeterminate=k(d),e.call(b,!k(d)&&d),b.dispatchEvent(r)}},[b,j,d,c]);let P=r.useRef(!k(d)&&d);return(0,t.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??P.current,required:p,disabled:m,name:h,value:g,form:v,...i,tabIndex:-1,ref:x,style:{...i.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function k(e){return"indeterminate"===e}function C(e){return k(e)?"indeterminate":e?"checked":"unchecked"}j.displayName=S;var P=e.i(770084),E=e.i(353533);let A=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(b,{ref:n,className:(0,E.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,t.jsx)(x,{className:(0,E.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(P.Check,{className:"h-4 w-4"})})}));A.displayName=b.displayName,e.s(["Checkbox",()=>A],262945)},430788,e=>{"use strict";let t=(0,e.i(369547).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],430788)},300550,e=>{"use strict";let t=(0,e.i(369547).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],300550)},168994,676379,e=>{"use strict";var t=e.i(369547);let r=(0,t.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>r],168994);let n=(0,t.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>n],676379)},17255,e=>{"use strict";var t=e.i(391398),r=e.i(191788),n=e.i(674534),i=e.i(993953),o=e.i(479293),a=e.i(357006),s=e.i(998657),l=e.i(724537),c=e.i(776833),u=e.i(998847),d=e.i(671185),f="ScrollArea",[p,m]=(0,o.createContextScope)(f),[y,h]=p(f),g=r.forwardRef((e,i)=>{let{__scopeScrollArea:o,type:s="hover",dir:c,scrollHideDelay:u=600,...d}=e,[f,p]=r.useState(null),[m,h]=r.useState(null),[g,v]=r.useState(null),[b,w]=r.useState(null),[x,S]=r.useState(null),[j,k]=r.useState(0),[C,P]=r.useState(0),[E,A]=r.useState(!1),[N,O]=r.useState(!1),T=(0,a.useComposedRefs)(i,e=>p(e)),R=(0,l.useDirection)(c);return(0,t.jsx)(y,{scope:o,type:s,dir:R,scrollHideDelay:u,scrollArea:f,viewport:m,onViewportChange:h,content:g,onContentChange:v,scrollbarX:b,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:S,scrollbarYEnabled:N,onScrollbarYEnabledChange:O,onCornerWidthChange:k,onCornerHeightChange:P,children:(0,t.jsx)(n.Primitive.div,{dir:R,...d,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});g.displayName=f;var v="ScrollAreaViewport",b=r.forwardRef((e,i)=>{let{__scopeScrollArea:o,children:s,nonce:l,...c}=e,u=h(v,o),d=r.useRef(null),f=(0,a.useComposedRefs)(i,d,u.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),(0,t.jsx)(n.Primitive.div,{"data-radix-scroll-area-viewport":"",...c,ref:f,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});b.displayName=v;var w="ScrollAreaScrollbar",x=r.forwardRef((e,n)=>{let{forceMount:i,...o}=e,a=h(w,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:l}=a,c="horizontal"===e.orientation;return r.useEffect(()=>(c?s(!0):l(!0),()=>{c?s(!1):l(!1)}),[c,s,l]),"hover"===a.type?(0,t.jsx)(S,{...o,ref:n,forceMount:i}):"scroll"===a.type?(0,t.jsx)(j,{...o,ref:n,forceMount:i}):"auto"===a.type?(0,t.jsx)(k,{...o,ref:n,forceMount:i}):"always"===a.type?(0,t.jsx)(C,{...o,ref:n}):null});x.displayName=w;var S=r.forwardRef((e,n)=>{let{forceMount:o,...a}=e,s=h(w,e.__scopeScrollArea),[l,c]=r.useState(!1);return r.useEffect(()=>{let e=s.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),c(!0)},n=()=>{t=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[s.scrollArea,s.scrollHideDelay]),(0,t.jsx)(i.Presence,{present:o||l,children:(0,t.jsx)(k,{"data-state":l?"visible":"hidden",...a,ref:n})})}),j=r.forwardRef((e,n)=>{var o;let{forceMount:a,...s}=e,l=h(w,e.__scopeScrollArea),c="horizontal"===e.orientation,u=$(()=>p("SCROLL_END"),100),[f,p]=(o={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>o[e][t]??e,"hidden"));return r.useEffect(()=>{if("idle"===f){let e=window.setTimeout(()=>p("HIDE"),l.scrollHideDelay);return()=>window.clearTimeout(e)}},[f,l.scrollHideDelay,p]),r.useEffect(()=>{let e=l.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(p("SCROLL"),u()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[l.viewport,c,p,u]),(0,t.jsx)(i.Presence,{present:a||"hidden"!==f,children:(0,t.jsx)(C,{"data-state":"hidden"===f?"hidden":"visible",...s,ref:n,onPointerEnter:(0,d.composeEventHandlers)(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:(0,d.composeEventHandlers)(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),k=r.forwardRef((e,n)=>{let o=h(w,e.__scopeScrollArea),{forceMount:a,...s}=e,[l,c]=r.useState(!1),u="horizontal"===e.orientation,d=$(()=>{if(o.viewport){let e=o.viewport.offsetWidth<o.viewport.scrollWidth,t=o.viewport.offsetHeight<o.viewport.scrollHeight;c(u?e:t)}},10);return Q(o.viewport,d),Q(o.content,d),(0,t.jsx)(i.Presence,{present:a||l,children:(0,t.jsx)(C,{"data-state":l?"visible":"hidden",...s,ref:n})})}),C=r.forwardRef((e,n)=>{let{orientation:i="vertical",...o}=e,a=h(w,e.__scopeScrollArea),s=r.useRef(null),l=r.useRef(0),[c,u]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=M(c.viewport,c.content),f={...o,sizes:c,onSizesChange:u,hasThumb:!!(d>0&&d<1),onThumbChange:e=>s.current=e,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:e=>l.current=e};function p(e,t){return function(e,t,r,n="ltr"){let i=z(r),o=t||i/2,a=r.scrollbar.paddingStart+o,s=r.scrollbar.size-r.scrollbar.paddingEnd-(i-o),l=r.content-r.viewport;return q([a,s],"ltr"===n?[0,l]:[-1*l,0])(e)}(e,l.current,c,t)}return"horizontal"===i?(0,t.jsx)(P,{...f,ref:n,onThumbPositionChange:()=>{if(a.viewport&&s.current){let e=H(a.viewport.scrollLeft,c,a.dir);s.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollLeft=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollLeft=p(e,a.dir))}}):"vertical"===i?(0,t.jsx)(E,{...f,ref:n,onThumbPositionChange:()=>{if(a.viewport&&s.current){let e=H(a.viewport.scrollTop,c);s.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{a.viewport&&(a.viewport.scrollTop=e)},onDragScroll:e=>{a.viewport&&(a.viewport.scrollTop=p(e))}}):null}),P=r.forwardRef((e,n)=>{let{sizes:i,onSizesChange:o,...s}=e,l=h(w,e.__scopeScrollArea),[c,u]=r.useState(),d=r.useRef(null),f=(0,a.useComposedRefs)(n,d,l.onScrollbarXChange);return r.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),(0,t.jsx)(O,{"data-orientation":"horizontal",...s,ref:f,sizes:i,style:{bottom:0,left:"rtl"===l.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===l.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":z(i)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(l.viewport){var n,i;let o=l.viewport.scrollLeft+t.deltaX;e.onWheelScroll(o),n=o,i=r,n>0&&n<i&&t.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&o({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:F(c.paddingLeft),paddingEnd:F(c.paddingRight)}})}})}),E=r.forwardRef((e,n)=>{let{sizes:i,onSizesChange:o,...s}=e,l=h(w,e.__scopeScrollArea),[c,u]=r.useState(),d=r.useRef(null),f=(0,a.useComposedRefs)(n,d,l.onScrollbarYChange);return r.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),(0,t.jsx)(O,{"data-orientation":"vertical",...s,ref:f,sizes:i,style:{top:0,right:"ltr"===l.dir?0:void 0,left:"rtl"===l.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":z(i)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(l.viewport){var n,i;let o=l.viewport.scrollTop+t.deltaY;e.onWheelScroll(o),n=o,i=r,n>0&&n<i&&t.preventDefault()}},onResize:()=>{d.current&&l.viewport&&c&&o({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:F(c.paddingTop),paddingEnd:F(c.paddingBottom)}})}})}),[A,N]=p(w),O=r.forwardRef((e,i)=>{let{__scopeScrollArea:o,sizes:l,hasThumb:c,onThumbChange:u,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:m,onDragScroll:y,onWheelScroll:g,onResize:v,...b}=e,x=h(w,o),[S,j]=r.useState(null),k=(0,a.useComposedRefs)(i,e=>j(e)),C=r.useRef(null),P=r.useRef(""),E=x.viewport,N=l.content-l.viewport,O=(0,s.useCallbackRef)(g),T=(0,s.useCallbackRef)(m),R=$(v,10);function I(e){C.current&&y({x:e.clientX-C.current.left,y:e.clientY-C.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;S?.contains(t)&&O(e,N)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[E,S,N,O]),r.useEffect(T,[l,T]),Q(S,R),Q(x.content,R),(0,t.jsx)(A,{scope:o,scrollbar:S,hasThumb:c,onThumbChange:(0,s.useCallbackRef)(u),onThumbPointerUp:(0,s.useCallbackRef)(f),onThumbPositionChange:T,onThumbPointerDown:(0,s.useCallbackRef)(p),children:(0,t.jsx)(n.Primitive.div,{...b,ref:k,style:{position:"absolute",...b.style},onPointerDown:(0,d.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),C.current=S.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),I(e))}),onPointerMove:(0,d.composeEventHandlers)(e.onPointerMove,I),onPointerUp:(0,d.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=P.current,x.viewport&&(x.viewport.style.scrollBehavior=""),C.current=null})})})}),T="ScrollAreaThumb",R=r.forwardRef((e,r)=>{let{forceMount:n,...o}=e,a=N(T,e.__scopeScrollArea);return(0,t.jsx)(i.Presence,{present:n||a.hasThumb,children:(0,t.jsx)(I,{ref:r,...o})})}),I=r.forwardRef((e,i)=>{let{__scopeScrollArea:o,style:s,...l}=e,c=h(T,o),u=N(T,o),{onThumbPositionChange:f}=u,p=(0,a.useComposedRefs)(i,e=>u.onThumbChange(e)),m=r.useRef(void 0),y=$(()=>{m.current&&(m.current(),m.current=void 0)},100);return r.useEffect(()=>{let e=c.viewport;if(e){let t=()=>{y(),m.current||(m.current=B(e,f),f())};return f(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[c.viewport,y,f]),(0,t.jsx)(n.Primitive.div,{"data-state":u.hasThumb?"visible":"hidden",...l,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:(0,d.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;u.onThumbPointerDown({x:r,y:n})}),onPointerUp:(0,d.composeEventHandlers)(e.onPointerUp,u.onThumbPointerUp)})});R.displayName=T;var D="ScrollAreaCorner",_=r.forwardRef((e,r)=>{let n=h(D,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&i?(0,t.jsx)(L,{...e,ref:r}):null});_.displayName=D;var L=r.forwardRef((e,i)=>{let{__scopeScrollArea:o,...a}=e,s=h(D,o),[l,c]=r.useState(0),[u,d]=r.useState(0),f=!!(l&&u);return Q(s.scrollbarX,()=>{let e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),d(e)}),Q(s.scrollbarY,()=>{let e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),c(e)}),f?(0,t.jsx)(n.Primitive.div,{...a,ref:i,style:{width:l,height:u,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function F(e){return e?parseInt(e,10):0}function M(e,t){let r=e/t;return isNaN(r)?0:r}function z(e){let t=M(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function H(e,t,r="ltr"){let n=z(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,s=(0,u.clamp)(e,"ltr"===r?[0,a]:[-1*a,0]);return q([0,a],[0,o-n])(s)}function q(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var B=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return!function i(){let o={left:e.scrollLeft,top:e.scrollTop},a=r.left!==o.left,s=r.top!==o.top;(a||s)&&t(),r=o,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function $(e,t){let n=(0,s.useCallbackRef)(e),i=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(i.current),[]),r.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function Q(e,t){let r=(0,s.useCallbackRef)(t);(0,c.useLayoutEffect)(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}var U=e.i(353533);let W=r.forwardRef(({className:e,children:r,...n},i)=>(0,t.jsxs)(g,{ref:i,className:(0,U.cn)("relative overflow-hidden",e),...n,children:[(0,t.jsx)(b,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(G,{}),(0,t.jsx)(_,{})]}));W.displayName=g.displayName;let G=r.forwardRef(({className:e,orientation:r="vertical",...n},i)=>(0,t.jsx)(x,{ref:i,orientation:r,className:(0,U.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:(0,t.jsx)(R,{className:"relative flex-1 rounded-full bg-border"})}));G.displayName=x.displayName,e.s(["ScrollArea",()=>W],17255)},427534,e=>{"use strict";let t=(0,e.i(369547).default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);e.s(["TrendingDown",()=>t],427534)},606310,e=>{"use strict";var t=e.i(391398),r=e.i(646190);e.s(["default",0,()=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.Skeleton,{className:"h-8 w-48 mb-2"}),(0,t.jsx)(r.Skeleton,{className:"h-4 w-64"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Skeleton,{className:"h-9 w-9"}),(0,t.jsx)(r.Skeleton,{className:"h-9 w-24"}),(0,t.jsx)(r.Skeleton,{className:"h-9 w-32"})]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(r.Skeleton,{className:"h-10 w-full max-w-md"})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,n)=>(0,t.jsx)(r.Skeleton,{className:"h-24"},n))})}),(0,t.jsx)(r.Skeleton,{className:"h-64 mb-6"}),(0,t.jsx)(r.Skeleton,{className:"h-96"})]})])},569479,e=>{"use strict";let t;var r=e.i(391398),n=e.i(191788),i=e.i(671185),o=e.i(357006),a=e.i(479293),s=e.i(64899),l=e.i(64592),c=e.i(746359),u=(e.i(437767),e.i(993953)),d=e.i(674534),f=Symbol("radix.slottable"),p=e.i(55037),m=e.i(349577),[y,h]=(0,a.createContextScope)("Tooltip",[c.createPopperScope]),g=(0,c.createPopperScope)(),v="TooltipProvider",b="tooltip.open",[w,x]=y(v),S=e=>{let{__scopeTooltip:t,delayDuration:i=700,skipDelayDuration:o=300,disableHoverableContent:a=!1,children:s}=e,l=n.useRef(!0),c=n.useRef(!1),u=n.useRef(0);return n.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,r.jsx)(w,{scope:t,isOpenDelayedRef:l,delayDuration:i,onOpen:n.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:n.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,o)},[o]),isPointerInTransitRef:c,onPointerInTransitChange:n.useCallback(e=>{c.current=e},[]),disableHoverableContent:a,children:s})};S.displayName=v;var j="Tooltip",[k,C]=y(j),P=e=>{let{__scopeTooltip:t,children:i,open:o,defaultOpen:a,onOpenChange:s,disableHoverableContent:u,delayDuration:d}=e,f=x(j,e.__scopeTooltip),m=g(t),[y,h]=n.useState(null),v=(0,l.useId)(),w=n.useRef(0),S=u??f.disableHoverableContent,C=d??f.delayDuration,P=n.useRef(!1),[E,A]=(0,p.useControllableState)({prop:o,defaultProp:a??!1,onChange:e=>{e?(f.onOpen(),document.dispatchEvent(new CustomEvent(b))):f.onClose(),s?.(e)},caller:j}),N=n.useMemo(()=>E?P.current?"delayed-open":"instant-open":"closed",[E]),O=n.useCallback(()=>{window.clearTimeout(w.current),w.current=0,P.current=!1,A(!0)},[A]),T=n.useCallback(()=>{window.clearTimeout(w.current),w.current=0,A(!1)},[A]),R=n.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{P.current=!0,A(!0),w.current=0},C)},[C,A]);return n.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),(0,r.jsx)(c.Root,{...m,children:(0,r.jsx)(k,{scope:t,contentId:v,open:E,stateAttribute:N,trigger:y,onTriggerChange:h,onTriggerEnter:n.useCallback(()=>{f.isOpenDelayedRef.current?R():O()},[f.isOpenDelayedRef,R,O]),onTriggerLeave:n.useCallback(()=>{S?T():(window.clearTimeout(w.current),w.current=0)},[T,S]),onOpen:O,onClose:T,disableHoverableContent:S,children:i})})};P.displayName=j;var E="TooltipTrigger",A=n.forwardRef((e,t)=>{let{__scopeTooltip:a,...s}=e,l=C(E,a),u=x(E,a),f=g(a),p=n.useRef(null),m=(0,o.useComposedRefs)(t,p,l.onTriggerChange),y=n.useRef(!1),h=n.useRef(!1),v=n.useCallback(()=>y.current=!1,[]);return n.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),(0,r.jsx)(c.Anchor,{asChild:!0,...f,children:(0,r.jsx)(d.Primitive.button,{"aria-describedby":l.open?l.contentId:void 0,"data-state":l.stateAttribute,...s,ref:m,onPointerMove:(0,i.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||u.isPointerInTransitRef.current||(l.onTriggerEnter(),h.current=!0))}),onPointerLeave:(0,i.composeEventHandlers)(e.onPointerLeave,()=>{l.onTriggerLeave(),h.current=!1}),onPointerDown:(0,i.composeEventHandlers)(e.onPointerDown,()=>{l.open&&l.onClose(),y.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{y.current||l.onOpen()}),onBlur:(0,i.composeEventHandlers)(e.onBlur,l.onClose),onClick:(0,i.composeEventHandlers)(e.onClick,l.onClose)})})});A.displayName=E;var[N,O]=y("TooltipPortal",{forceMount:void 0}),T="TooltipContent",R=n.forwardRef((e,t)=>{let n=O(T,e.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...a}=e,s=C(T,e.__scopeTooltip);return(0,r.jsx)(u.Presence,{present:i||s.open,children:s.disableHoverableContent?(0,r.jsx)(F,{side:o,...a,ref:t}):(0,r.jsx)(I,{side:o,...a,ref:t})})}),I=n.forwardRef((e,t)=>{let i=C(T,e.__scopeTooltip),a=x(T,e.__scopeTooltip),s=n.useRef(null),l=(0,o.useComposedRefs)(t,s),[c,u]=n.useState(null),{trigger:d,onClose:f}=i,p=s.current,{onPointerInTransitChange:m}=a,y=n.useCallback(()=>{u(null),m(!1)},[m]),h=n.useCallback((e,t)=>{let r,n=e.currentTarget,i={x:e.clientX,y:e.clientY},o=function(e,t){let r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,i,o)){case o:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());u(((r=[...function(e,t,r=5){let n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return n}(i,o),...function(e){let{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let r=0;r<e.length;r++){let n=e[r];for(;t.length>=2;){let e=t[t.length-1],r=t[t.length-2];if((e.x-r.x)*(n.y-r.y)>=(e.y-r.y)*(n.x-r.x))t.pop();else break}t.push(n)}t.pop();let r=[];for(let t=e.length-1;t>=0;t--){let n=e[t];for(;r.length>=2;){let e=r[r.length-1],t=r[r.length-2];if((e.x-t.x)*(n.y-t.y)>=(e.y-t.y)*(n.x-t.x))r.pop();else break}r.push(n)}return(r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y)?t:t.concat(r)}(r))),m(!0)},[m]);return n.useEffect(()=>()=>y(),[y]),n.useEffect(()=>{if(d&&p){let e=e=>h(e,p),t=e=>h(e,d);return d.addEventListener("pointerleave",e),p.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),p.removeEventListener("pointerleave",t)}}},[d,p,h,y]),n.useEffect(()=>{if(c){let e=e=>{let t=e.target,r={x:e.clientX,y:e.clientY},n=d?.contains(t)||p?.contains(t),i=!function(e,t){let{x:r,y:n}=e,i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let a=t[e],s=t[o],l=a.x,c=a.y,u=s.x,d=s.y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(i=!i)}return i}(r,c);n?y():i&&(y(),f())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,p,c,f,y]),(0,r.jsx)(F,{...e,ref:l})}),[D,_]=y(j,{isInside:!1}),L=((t=({children:e})=>(0,r.jsx)(r.Fragment,{children:e})).displayName="TooltipContent.Slottable",t.__radixId=f,t),F=n.forwardRef((e,t)=>{let{__scopeTooltip:i,children:o,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:u,...d}=e,f=C(T,i),p=g(i),{onClose:y}=f;return n.useEffect(()=>(document.addEventListener(b,y),()=>document.removeEventListener(b,y)),[y]),n.useEffect(()=>{if(f.trigger){let e=e=>{let t=e.target;t?.contains(f.trigger)&&y()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[f.trigger,y]),(0,r.jsx)(s.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:e=>e.preventDefault(),onDismiss:y,children:(0,r.jsxs)(c.Content,{"data-state":f.stateAttribute,...p,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,r.jsx)(L,{children:o}),(0,r.jsx)(D,{scope:i,isInside:!0,children:(0,r.jsx)(m.Root,{id:f.contentId,role:"tooltip",children:a||o})})]})})});R.displayName=T;var M="TooltipArrow";n.forwardRef((e,t)=>{let{__scopeTooltip:n,...i}=e,o=g(n);return _(M,n).isInside?null:(0,r.jsx)(c.Arrow,{...o,...i,ref:t})}).displayName=M;var z=e.i(353533);let H=n.forwardRef(({className:e,sideOffset:t=4,...n},i)=>(0,r.jsx)(R,{ref:i,sideOffset:t,className:(0,z.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));H.displayName=R.displayName,e.s(["Tooltip",()=>P,"TooltipContent",()=>H,"TooltipProvider",()=>S,"TooltipTrigger",()=>A],569479)},857274,e=>{"use strict";var t=e.i(391398);let r=(0,e.i(369547).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",0,({imageUrl:e,alt:n,size:i="md"})=>{let o="sm"===i?"w-10 h-10":"w-12 h-12";return e?(0,t.jsx)("img",{src:e,alt:n,className:`${o} object-cover rounded-md`}):(0,t.jsx)("div",{className:`${o} bg-gray-100 flex items-center justify-center rounded-md`,children:(0,t.jsx)(r,{size:"sm"===i?16:18,className:"text-gray-400"})})}],857274)},83049,e=>{"use strict";var t=e.i(191788),r=e.i(46108),n=e.i(924432);e.s(["useStockHistory",0,(e,i)=>{let[o,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),{currentBusiness:c}=(0,r.useBusiness)(),u=(0,t.useCallback)(async()=>{if(!e||!c){a([]),l(!1);return}try{l(!0);let e=await (0,n.getStockHistoryAction)(c.id,i);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch stock history");let t=e.data.map(e=>({id:e.id,productId:e.productId,oldQuantity:e.oldQuantity,newQuantity:e.newQuantity,changeReason:e.changeReason,createdAt:new Date(e.createdAt),referenceId:e.referenceId,receiptNumber:e.receiptNumber,product:e.product}));a(t)}catch(e){console.error("Error loading stock history:",e)}finally{l(!1)}},[e,c?.id,i]);return(0,t.useEffect)(()=>{u()},[u]),{stockHistory:o,isLoading:s,createStockHistoryEntry:async(t,r,i,o,a,s,l,d)=>{try{if(!e||!c)return!1;let f=d?`[${d}] | ${o}`:o,p=await (0,n.createStockHistoryAction)({userId:e,locationId:c.id,productId:t,previousQuantity:r,newQuantity:i,changeReason:f,referenceId:a,receiptNumber:l,createdAt:s?.toISOString()});if(!p.success)return console.error("Error creating stock history entry:",p.error),!1;return await u(),!0}catch(e){return console.error("Error creating stock history:",e),!1}},deleteMultipleStockHistoryEntriesByReference:async e=>{try{if(!c)return!1;let t=await (0,n.deleteStockHistoryEntriesByReferenceAction)(e,c.id);if(!t.success)throw Error(t.error);return await u(),!0}catch(e){return console.error("Error deleting stock history entries:",e),!1}},recalculateStockChain:async e=>{try{if(!c)return!1;let t=await (0,n.recalculateStockChainAction)(e,c.id);if(!t.success)throw Error(t.error);return await u(),!0}catch(e){return console.error("Error recalculating stock chain:",e),!1}},updateStockHistoryDatesBySaleId:async(e,t)=>{try{if(!c)return!1;let r=await (0,n.updateStockHistoryDatesByReferenceAction)(e,c.id,t.toISOString());if(!r.success)throw Error(r.error);return await u(),!0}catch(e){return console.error("Error updating stock history dates:",e),!1}},repairAllStockChains:async e=>{try{if(!c)return{repaired:0,failed:0};let e=await (0,n.repairStockChainsAction)(c.id);if(e.success&&e.data)return e.data;return{repaired:0,failed:0}}catch(e){return console.error("Error repairing all chains:",e),{repaired:0,failed:0}}},previewStockChainRepairs:async e=>{try{if(!c)return[];let e=await (0,n.getStockRepairsPreviewAction)(c.id);if(e.success&&e.data)return e.data;return[]}catch(e){return console.error("Error previewing repairs:",e),[]}},refreshHistory:u}}])},928936,e=>{"use strict";e.s(["matchProductSearch",0,(e,t)=>{if(!t||!t.trim())return!0;let r=t.toLowerCase().trim().split(/\s+/),n=[String(e.name||""),String(e.description||""),String(e.category||""),String(e.supplier||""),String(e.itemNumber||""),String(e.barcode||""),String(e.manufacturerBarcode||"")].map(e=>e.toLowerCase());return r.every(e=>n.some(t=>t.includes(e)))}])},924432,e=>{"use strict";var t=e.i(256680),r=e.i(290205);async function n(e,r){try{let n={locationId:e};r&&(n.productId=r);let i=await t.db.productHistory.findMany({where:n,include:{product:{select:{name:!0,costPrice:!0,sellingPrice:!0,sku:!0}}},orderBy:[{createdAt:"desc"},{id:"desc"}]});return{success:!0,data:i.map(e=>({id:e.id,productId:e.productId,oldQuantity:e.previousQuantity,newQuantity:e.newQuantity,changeReason:e.changeReason,createdAt:e.createdAt.toISOString(),referenceId:e.referenceId,receiptNumber:e.receiptNumber,product:e.product?{name:e.product.name,costPrice:e.product.costPrice,sellingPrice:e.product.sellingPrice,itemNumber:e.product.sku}:void 0}))}}catch(e){return console.error("Error fetching stock history:",e),{success:!1,error:e.message}}}async function i(e){try{let n=await t.db.$transaction(async t=>{let r=await t.productHistory.create({data:{userId:e.userId,locationId:e.locationId,productId:e.productId,previousQuantity:e.previousQuantity,newQuantity:e.newQuantity,changeReason:e.changeReason,referenceId:e.referenceId||null,receiptNumber:e.receiptNumber||null,createdAt:e.createdAt?new Date(e.createdAt):void 0}});return await t.product.update({where:{id:e.productId},data:{stock:e.newQuantity}}),r});return(0,r.revalidatePath)("/inventory"),{success:!0,data:n}}catch(e){return console.error("Error creating stock history:",e),{success:!1,error:e.message}}}async function o(e,n){try{let i=await t.db.$transaction(async t=>{let r=await t.productHistory.findMany({where:{productId:e,locationId:n},orderBy:[{createdAt:"asc"},{id:"asc"}]});if(0===r.length)return{finalQuantity:0};let i=0,o=[];for(let e of r){let r=e.newQuantity-e.previousQuantity,n=i,a=n+r;(e.previousQuantity!==n||e.newQuantity!==a)&&o.push(t.productHistory.update({where:{id:e.id},data:{previousQuantity:n,newQuantity:a}})),i=a}return o.length>0&&await Promise.all(o),await t.product.update({where:{id:e},data:{stock:i}}),{finalQuantity:i}});return(0,r.revalidatePath)("/inventory"),{success:!0,data:i}}catch(e){return console.error("Error recalculating stock chain:",e),{success:!1,error:e.message}}}async function a(e,n){try{let i=await t.db.$transaction(async t=>{let r=await t.productHistory.findMany({where:{referenceId:e,locationId:n},select:{productId:!0}}),i=[...new Set(r.map(e=>e.productId))];for(let r of(await t.productHistory.deleteMany({where:{referenceId:e,locationId:n}}),i))await l(t,r,n);return{affectedProducts:i.length}});return(0,r.revalidatePath)("/inventory"),{success:!0,data:i}}catch(e){return console.error("Error deleting stock history by reference:",e),{success:!1,error:e.message}}}async function s(e,n,i){try{let o=await t.db.productHistory.updateMany({where:{referenceId:e,locationId:n},data:{createdAt:new Date(i)}});return(0,r.revalidatePath)("/inventory"),{success:!0,data:o}}catch(e){return console.error("Error updating stock history dates:",e),{success:!1,error:e.message}}}async function l(e,t,r){let n=await e.productHistory.findMany({where:{productId:t,locationId:r},orderBy:[{createdAt:"asc"},{id:"asc"}]}),i=0;for(let t of n){let r=t.newQuantity-t.previousQuantity,n=i,o=n+r;(t.previousQuantity!==n||t.newQuantity!==o)&&await e.productHistory.update({where:{id:t.id},data:{previousQuantity:n,newQuantity:o}}),i=o}await e.product.update({where:{id:t},data:{stock:i}})}async function c(e,r){try{let n=await t.db.requisition.findMany({where:{userId:e,locationId:r},orderBy:{createdAt:"desc"}});return{success:!0,data:n.map(e=>({id:e.id,userId:e.userId,locationId:e.branchId,requisitionNumber:e.requisitionNumber,title:e.title||"",items:e.items||[],notes:e.notes,status:e.status,createdAt:e.createdAt.toISOString(),updatedAt:e.updatedAt.toISOString()}))}}catch(e){return console.error("Error fetching requisitions:",e),{success:!1,error:e.message}}}async function u(e){try{let n=await t.db.requisition.create({data:{userId:e.userId,branchId:e.locationId,requisitionNumber:e.requisitionNumber,title:e.title,items:e.items,notes:e.notes,status:e.status||"draft"}});return(0,r.revalidatePath)("/requisitions"),{success:!0,data:{id:n.id,userId:n.userId,locationId:n.branchId,requisitionNumber:n.requisitionNumber,title:n.title||"",items:n.items||[],notes:n.notes,status:n.status,createdAt:n.createdAt.toISOString(),updatedAt:n.updatedAt.toISOString()}}}catch(e){return console.error("Error creating requisition:",e),{success:!1,error:e.message}}}async function d(e,n,i){try{let o=await t.db.requisition.update({where:{id:e,userId:n},data:{title:i.title,items:i.items,notes:i.notes,status:i.status,updatedAt:new Date}});return(0,r.revalidatePath)("/requisitions"),{success:!0,data:{id:o.id,userId:o.userId,locationId:o.branchId,requisitionNumber:o.requisitionNumber,title:o.title||"",items:o.items||[],notes:o.notes,status:o.status,createdAt:o.createdAt.toISOString(),updatedAt:o.updatedAt.toISOString()}}}catch(e){return console.error("Error updating requisition:",e),{success:!1,error:e.message}}}async function f(e,n){try{return await t.db.requisition.delete({where:{id:e,userId:n}}),(0,r.revalidatePath)("/requisitions"),{success:!0}}catch(e){return console.error("Error deleting requisition:",e),{success:!1,error:e.message}}}async function p(e,r,n){try{let i=new Date(r),o=new Date(n),a=await t.db.product.findMany({where:{branchId:e},include:{category:!0}}),s=await Promise.all(a.map(async r=>{let n=await t.db.productHistory.findMany({where:{productId:r.id,locationId:e,createdAt:{gte:i,lte:o}},orderBy:{createdAt:"asc"}}),a=0,s=0,l=0,c=0;n.forEach(e=>{let t=e.newQuantity-e.previousQuantity;"SALE"===e.changeReason?a+=Math.abs(t):"STOCK_IN"===e.changeReason||"RESTOCK"===e.changeReason?s+=t:t>0?l+=t:c+=Math.abs(t)});let u=await t.db.productHistory.findFirst({where:{productId:r.id,locationId:e,createdAt:{lte:o}},orderBy:{createdAt:"desc"}}),d=u?u.newQuantity:0,f=d-(s+l-a-c);return{productId:r.id,productName:r.name,itemNumber:r.sku||r.id,imageUrl:r.imageUrl,costPrice:Number(r.costPrice),sellingPrice:Number(r.sellingPrice),category:r.category?.name,openingStock:f,itemsSold:a,stockIn:s,transferOut:0,returnIn:0,returnOut:0,adjustmentsIn:l,adjustmentsOut:c,closingStock:d,revaluation:d*Number(r.costPrice)}}));return{success:!0,data:s}}catch(e){return console.error("Error generating stock summary report:",e),{success:!1,error:e.message}}}async function m(e,r){try{let n=await t.db.product.findUnique({where:{id:r},include:{category:!0}});if(!n)return{success:!1,error:"Product not found"};let i=await t.db.productHistory.findMany({where:{productId:r,locationId:e},orderBy:[{createdAt:"asc"},{id:"asc"}]}),o=await t.db.sale.findMany({where:{branchId:e},orderBy:{date:"asc"}}),a=i.length>0?i[0].newStock:0,s=i.length>0?i[0].createdAt:null,l=new Map,c=0;o.forEach(e=>{let t=(e.items||[]).filter(e=>e.productId===r).reduce((e,t)=>e+(Number(t.quantity)||0),0);if(t>0)if(s&&e.date<s)c+=t;else{let r=e.date.toISOString().split("T")[0],n=l.get(r)||{itemsSold:0,stockAdded:0,transferOut:0,returnIn:0,returnOut:0,adjustments:0};n.itemsSold+=t,l.set(r,n)}}),i.slice(1).forEach(e=>{let t=e.createdAt.toISOString().split("T")[0],r=e.newStock-e.oldStock,n=(e.changeReason||"").toLowerCase(),i=l.get(t)||{itemsSold:0,stockAdded:0,transferOut:0,returnIn:0,returnOut:0,adjustments:0};"RESTOCK"===e.type||n.includes("purchase")||n.includes("addition")?i.stockAdded+=r:n.includes("transfer out")?i.transferOut+=Math.abs(r):n.includes("customer return")?i.returnIn+=r:n.includes("return to supplier")?i.returnOut+=Math.abs(r):"SALE"!==e.type&&(i.adjustments+=r),l.set(t,i)});let u=Array.from(l.keys()).sort(),d=[],f=a;for(let e of u){let t=l.get(e),r=f,n=r-t.itemsSold+t.stockAdded-t.transferOut+t.returnIn-t.returnOut+t.adjustments;d.push({date:e,startingStock:r,...t,endingStock:n}),f=n}return{success:!0,data:{product:{id:n.id,name:n.name,quantity:n.stock,itemNumber:n.sku},currentStock:n.stock,calculatedStock:f,discrepancy:n.stock-f,openingStock:a,openingDate:s?.toISOString(),excludedSalesQty:c,dailyBreakdown:d}}}catch(e){return console.error("Error in reconciliation action:",e),{success:!1,error:e.message}}}async function y(e){try{let r=await t.db.product.findMany({where:{branchId:e},select:{id:!0,name:!0,stock:!0}}),n=[];for(let i of r){let r=await t.db.productHistory.findMany({where:{productId:i.id,locationId:e},orderBy:[{createdAt:"asc"},{id:"asc"}]});if(0===r.length)continue;let o=0,a=[];for(let e of r){let t=e.newStock-e.oldStock,r=o,n=r+t;(e.oldStock!==r||e.newStock!==n)&&a.push({entryId:e.id,createdAt:e.createdAt.toISOString(),changeReason:e.changeReason,currentPrevQty:e.oldStock,currentNewQty:e.newStock,fixedPrevQty:r,fixedNewQty:n}),o=n}(a.length>0||Math.abs(i.stock-o)>.001)&&n.push({productId:i.id,productName:i.name,totalEntries:r.length,brokenEntries:a,finalFixedQty:o,currentProductQty:i.stock})}return{success:!0,data:n}}catch(e){return{success:!1,error:e.message}}}async function h(e,r){try{let n=r||(await t.db.product.findMany({where:{branchId:e},select:{id:!0}})).map(e=>e.id),i=0,a=0;for(let t of n)try{await o(t,e),i++}catch(e){a++}return{success:!0,data:{repaired:i,failed:a}}}catch(e){return{success:!1,error:e.message}}}async function g(e){try{let r=await t.db.activityHistory.findMany({where:{entityId:{in:e}},select:{entityId:!0,entityName:!0}});return{success:!0,data:r}}catch(e){return{success:!1,error:e.message,data:[]}}}async function v(e,r){try{return await t.db.productHistory.updateMany({where:{id:{in:e}},data:{createdAt:new Date(r)}}),{success:!0}}catch(e){return{success:!1,error:e.message}}}e.s(["createRequisitionAction",()=>u,"createStockHistoryAction",()=>i,"deleteRequisitionAction",()=>f,"deleteStockHistoryEntriesByReferenceAction",()=>a,"getActivityByEntityIdsAction",()=>g,"getProductReconciliationAction",()=>m,"getRequisitionsAction",()=>c,"getStockHistoryAction",()=>n,"getStockRepairsPreviewAction",()=>y,"getStockSummaryReportAction",()=>p,"recalculateStockChainAction",()=>o,"repairStockChainsAction",()=>h,"updateRequisitionAction",()=>d,"updateStockHistoryDatesAction",()=>v,"updateStockHistoryDatesByReferenceAction",()=>s])},368104,e=>{"use strict";var t=e.i(824216),r=e.i(46108),n=e.i(893930),i=e.i(285700),o=e.i(924432);e.s(["useStockSummaryData",0,e=>{let{user:a}=(0,t.useAuth)(),{currentBusiness:s}=(0,r.useBusiness)(),l=(0,i.useQueryClient)(),c=async()=>{if(!a?.id||!s?.id||!e?.from||!e?.to)return[];try{let t=await (0,o.getStockSummaryReportAction)(s.id,e.from.toISOString(),e.to.toISOString());if(t.success&&t.data)return t.data;throw Error(t.error)}catch(e){throw console.error("[StockSummary] Error fetching report:",e.message),e}},{data:u=[],isLoading:d,refetch:f}=(0,n.useQuery)({queryKey:["stockSummary",s?.id,e.from?.toISOString(),e.to?.toISOString()],queryFn:c,enabled:!!a?.id&&!!s?.id&&!!e?.from&&!!e?.to,staleTime:3e5,gcTime:18e5});return{stockSummaryData:u,isLoading:d,loadStockSummaryData:f,clearCache:()=>{l.invalidateQueries({queryKey:["stockSummary"]})},clearAllLocationCaches:()=>{l.invalidateQueries({queryKey:["stockSummary"]})}}}])},432237,e=>{"use strict";let t=(0,e.i(369547).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],432237)},327877,e=>{"use strict";let t=(0,e.i(369547).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],327877)},317176,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},910432,(e,t,r)=>{"use strict";var n=e.r(317176);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},691567,(e,t,r)=>{t.exports=e.r(910432)()},721070,297375,531877,e=>{"use strict";let t=(0,e.i(369547).default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>t],721070);var r=e.i(391398),n=e.i(191788),i=e.i(296202),o=e.i(939310),a=e.i(45124),s=e.i(91762),l=e.i(792042),c=e.i(150064),u=e.i(638822);e.s(["default",0,({open:e,onOpenChange:t,entry:d,onConfirm:f,isInitialStock:p=!1,stockHistory:m=[],productCreatedAt:y})=>{let[h,g]=(0,n.useState)(0),[v,b]=(0,n.useState)(""),[w,x]=(0,n.useState)(!1),[S,j]=(0,n.useState)(""),{toast:k}=(0,c.useToast)(),{hasPermission:C}=(0,u.useProfiles)();(0,n.useEffect)(()=>{d&&(g(d.newQuantity-d.oldQuantity),b(d.changeReason),j(""))},[d]);let P=(e,t)=>t<0&&e>0?"Cannot change from negative to positive value.":t>0&&e<0?"Cannot change from positive to negative value.":"",E=e=>{if(""===e){g(""),j("");return}let t=parseInt(e)||0,r=P(t,""===h?0:h);r?j(r):(g(t),j(""))},A=async(e=!1)=>{if(!d)return;let r=""===h?0:h,n=P(r,d.newQuantity-d.oldQuantity);if(n)return void k({title:"Invalid quantity change",description:n,variant:"destructive"});let i=d.oldQuantity+r;if(!v.trim())return void k({title:"Invalid reason",description:"Please provide a reason for this stock change",variant:"destructive"});x(!0);try{await f(d.id,i,v.trim())?(k({title:"Stock history updated",description:"The stock history entry has been updated successfully."}),t(!1)):k({title:"Update failed",description:"Failed to update stock history entry. Please try again.",variant:"destructive"})}catch(e){console.error("Error updating stock history:",e),k({title:"Error",description:"An error occurred while updating the stock history.",variant:"destructive"})}finally{x(!1)}},N=()=>{t(!1)};if(!d)return null;if(p)return(0,r.jsx)(i.Dialog,{open:e,onOpenChange:t,children:(0,r.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsxs)(i.DialogHeader,{children:[(0,r.jsx)(i.DialogTitle,{children:"Edit Initial Stock Entry"}),(0,r.jsx)(i.DialogDescription,{children:"This is the initial stock entry. You can modify quantity, reason, and date, but the date must be earlier than all other stock transactions."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s.Label,{htmlFor:"quantity",children:"Quantity Change"}),(0,r.jsx)(a.Input,{id:"quantity",type:"number",value:h,onChange:e=>E(e.target.value),className:S?"border-destructive border-2 bg-destructive/5 focus:border-destructive focus:ring-destructive":""}),S&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:S})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s.Label,{htmlFor:"reason",children:"Change Reason"}),(0,r.jsx)(a.Input,{id:"reason",value:v,onChange:e=>b(e.target.value),placeholder:"Enter reason for stock change"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,r.jsx)(o.Button,{variant:"outline",onClick:N,disabled:w,children:"Cancel"}),(0,r.jsx)(o.Button,{onClick:()=>A(),disabled:w||!C("inventory","stock_adjustment"),children:w?"Updating...":"Update Entry"})]})]})});if(["Sale","Delete sale","Deleted Sale","Sale qty edit"].some(e=>d.changeReason.toLowerCase().includes(e.toLowerCase())))return(0,r.jsx)(i.Dialog,{open:e,onOpenChange:t,children:(0,r.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsxs)(i.DialogHeader,{children:[(0,r.jsx)(i.DialogTitle,{children:"Cannot Edit Sale-Related Entry"}),(0,r.jsx)(i.DialogDescription,{children:"This stock history entry was created by a sales operation and can only be modified through the Edit Sale form."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[(0,r.jsx)("div",{className:"font-medium",children:"Entry Details:"}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Date:"})," ",(0,l.format)(d.createdAt,"PPP p")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Change:"})," ",d.oldQuantity,"  ",d.newQuantity]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Reason:"})," ",d.changeReason.replace("Deleted sale","Deleted Sale")]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:(0,r.jsxs)("div",{className:"text-blue-800 text-sm",children:[(0,r.jsx)("strong",{children:"Note:"})," To modify this entry, please use the Edit Sale form in the Sales section."]})})]}),(0,r.jsx)("div",{className:"flex justify-end gap-2 mt-6",children:(0,r.jsx)(o.Button,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})});let O=d.newQuantity-d.oldQuantity,T=""===h?0:h,R=d.oldQuantity+T;return(0,r.jsx)(i.Dialog,{open:e,onOpenChange:t,children:(0,r.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,r.jsxs)(i.DialogHeader,{children:[(0,r.jsx)(i.DialogTitle,{children:"Edit Stock History Entry"}),(0,r.jsx)(i.DialogDescription,{children:"Modify the details of this stock history entry. The product's current stock will be recalculated after saving."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Label,{className:"text-muted-foreground",children:"Original"}),(0,r.jsxs)("div",{className:"font-medium",children:[d.oldQuantity,"  ",d.newQuantity]}),(0,r.jsxs)("div",{className:`text-xs ${O>=0?"text-green-600":"text-red-600"}`,children:[O>=0?"+":"",O]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s.Label,{className:"text-muted-foreground",children:"New"}),(0,r.jsxs)("div",{className:"font-medium",children:[d.oldQuantity,"  ",R]}),(0,r.jsxs)("div",{className:`text-xs ${T>=0?"text-green-600":"text-red-600"}`,children:[T>=0?"+":"",T]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s.Label,{htmlFor:"quantity",children:"Quantity Change"}),(0,r.jsx)(a.Input,{id:"quantity",type:"number",value:h,onChange:e=>E(e.target.value),className:S?"border-destructive border-2 bg-destructive/5 focus:border-destructive focus:ring-destructive":""}),d&&(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[" ",(""===h?0:h)<0?"Current change is negative - you cannot change to positive values":"Current change is positive - you cannot change to negative values"]}),S&&(0,r.jsx)("p",{className:"text-sm text-destructive",children:S})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(s.Label,{htmlFor:"reason",children:"Change Reason"}),(0,r.jsx)(a.Input,{id:"reason",value:v,onChange:e=>b(e.target.value),placeholder:"Enter reason for stock change"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,r.jsx)(o.Button,{variant:"outline",onClick:N,disabled:w,children:"Cancel"}),(0,r.jsx)(o.Button,{onClick:()=>A(),disabled:w||!C("inventory","stock_adjustment"),children:w?"Updating...":"Update Entry"})]})]})})}],297375);var d=e.i(212283),f=e.i(432237);e.s(["default",0,({open:e,onOpenChange:t,entry:i,onConfirm:o})=>{let[a,s]=(0,n.useState)(!1),{toast:u}=(0,c.useToast)(),p=async()=>{if(i){s(!0);try{await o(i.id)?(u({title:"Stock history deleted",description:"The stock history entry has been deleted and stock recalculated."}),t(!1)):u({title:"Delete failed",description:"Failed to delete stock history entry. Please try again.",variant:"destructive"})}catch(e){console.error("Error deleting stock history:",e),u({title:"Error",description:"An error occurred while deleting the stock history.",variant:"destructive"})}finally{s(!1)}}};if(!i)return null;if(["Sale","Delete sale","Deleted Sale","Sale qty edit"].some(e=>i.changeReason.toLowerCase().includes(e.toLowerCase())))return(0,r.jsx)(d.AlertDialog,{open:e,onOpenChange:t,children:(0,r.jsxs)(d.AlertDialogContent,{children:[(0,r.jsxs)(d.AlertDialogHeader,{children:[(0,r.jsxs)(d.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(f.AlertTriangle,{className:"h-5 w-5 text-blue-600"}),"Cannot Delete Sale-Related Entry"]}),(0,r.jsxs)(d.AlertDialogDescription,{className:"space-y-3",children:[(0,r.jsx)("p",{children:"This stock history entry was created by a sales operation and cannot be deleted directly."}),(0,r.jsxs)("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[(0,r.jsx)("div",{className:"font-medium",children:"Entry Details:"}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Date:"})," ",(0,l.format)(i.createdAt,"PPP p")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Change:"})," ",i.oldQuantity,"  ",i.newQuantity]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Reason:"})," ",i.changeReason.replace("Deleted sale","Deleted Sale")]})]})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:(0,r.jsxs)("div",{className:"text-blue-800 text-sm",children:[(0,r.jsx)("strong",{children:"Note:"})," To remove this entry, please edit or delete the corresponding sale in the Sales section."]})})]})]}),(0,r.jsx)(d.AlertDialogFooter,{children:(0,r.jsx)(d.AlertDialogCancel,{children:"Close"})})]})});let m=i.newQuantity-i.oldQuantity;return(0,r.jsx)(d.AlertDialog,{open:e,onOpenChange:t,children:(0,r.jsxs)(d.AlertDialogContent,{children:[(0,r.jsxs)(d.AlertDialogHeader,{children:[(0,r.jsxs)(d.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(f.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Delete Stock History Entry"]}),(0,r.jsxs)(d.AlertDialogDescription,{className:"space-y-3",children:[(0,r.jsx)("p",{children:"Are you sure you want to delete this stock history entry? This action cannot be undone."}),(0,r.jsxs)("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[(0,r.jsx)("div",{className:"font-medium",children:"Entry Details:"}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Date:"})," ",(0,l.format)(i.createdAt,"PPP p")]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Change:"})," ",i.oldQuantity,"  ",i.newQuantity]}),(0,r.jsxs)("div",{className:`${m>=0?"text-green-600":"text-red-600"}`,children:[(0,r.jsx)("strong",{children:"Impact:"})," ",m>=0?"+":"",m," units"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"Reason:"})," ",i.changeReason.replace("Deleted sale","Deleted Sale")]})]})]}),(0,r.jsx)("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-lg",children:(0,r.jsxs)("div",{className:"text-amber-800 text-sm",children:[(0,r.jsx)("strong",{children:"Warning:"})," After deletion, the product's current stock will be automatically recalculated based on the remaining stock history entries."]})})]})]}),(0,r.jsxs)(d.AlertDialogFooter,{children:[(0,r.jsx)(d.AlertDialogCancel,{disabled:a,children:"Cancel"}),(0,r.jsx)(d.AlertDialogAction,{onClick:p,disabled:a,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a?"Deleting...":"Delete Entry"})]})]})})}],531877)},282717,756902,976835,526626,e=>{"use strict";var t=e.i(397250),r=e.i(57699),n=e.i(191788),i=e.i(56206),o=e.i(901841),a=e.i(335716),s=e.i(489118),l=e.i(208140),c=e.i(379472),u=e.i(61320),d=e.i(905e3),f=e.i(270627),p=e.i(778979),m=e.i(106043),y=e.i(602227),h=e.i(57216),g=e.i(240626);function v(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],i=0;i<e.length;i+=t)if(void 0!==r&&!0!==r(e[i]))return;else n.push(e[i]);return n}function b(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-i)<=0}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=w(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t,r){var n,i,o,s,l,c=e.tick,u=e.ticks,d=e.viewBox,p=e.minTickGap,m=e.orientation,w=e.interval,x=e.tickFormatter,j=e.unit,k=e.angle;if(!u||!u.length||!c)return[];if((0,f.isNumber)(w)||h.Global.isSsr)return v(u,("number"==typeof w&&(0,f.isNumber)(w)?w:0)+1);var C="top"===m||"bottom"===m?"width":"height",P=j&&"width"===C?(0,y.getStringSize)(j,{fontSize:t,letterSpacing:r}):{width:0,height:0},E=function(e,n){var i,o,s=(0,a.default)(x)?x(e.value,n):e.value;return"width"===C?(i=(0,y.getStringSize)(s,{fontSize:t,letterSpacing:r}),o={width:i.width+P.width,height:i.height+P.height},(0,g.getAngledRectangleWidth)(o,k)):(0,y.getStringSize)(s,{fontSize:t,letterSpacing:r})[C]},A=u.length>=2?(0,f.mathSign)(u[1].coordinate-u[0].coordinate):1,N=(n="width"===C,i=d.x,o=d.y,s=d.width,l=d.height,1===A?{start:n?i:o,end:n?i+s:o+l}:{start:n?i+s:o+l,end:n?i:o});return"equidistantPreserveStart"===w?function(e,t,r,n,i){for(var o,a=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s;u<=a.length;)if(o=function(){var t,o=null==n?void 0:n[c];if(void 0===o)return{v:v(n,u)};var a=c,f=function(){return void 0===t&&(t=r(o,a)),t},p=o.coordinate,m=0===c||b(e,p,f,d,l);m||(c=0,d=s,u+=1),m&&(d=p+e*(f()/2+i),c+=u)}())return o.v;return[]}(A,N,E,u,p):("preserveStart"===w||"preserveStartEnd"===w?function(e,t,r,n,i,o){var a=(n||[]).slice(),s=a.length,l=t.start,c=t.end;if(o){var u=n[s-1],d=r(u,s-1),f=e*(u.coordinate+e*d/2-c);a[s-1]=u=S(S({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),b(e,u.tickCoord,function(){return d},l,c)&&(c=u.tickCoord-e*(d/2+i),a[s-1]=S(S({},u),{},{isShow:!0}))}for(var p=o?s-1:s,m=function(t){var n,o=a[t],s=function(){return void 0===n&&(n=r(o,t)),n};if(0===t){var u=e*(o.coordinate-e*s()/2-l);a[t]=o=S(S({},o),{},{tickCoord:u<0?o.coordinate-u*e:o.coordinate})}else a[t]=o=S(S({},o),{},{tickCoord:o.coordinate});b(e,o.tickCoord,s,l,c)&&(l=o.tickCoord+e*(s()/2+i),a[t]=S(S({},o),{},{isShow:!0}))},y=0;y<p;y++)m(y);return a}(A,N,E,u,p,"preserveStartEnd"===w):function(e,t,r,n,i){for(var o=(n||[]).slice(),a=o.length,s=t.start,l=t.end,c=function(t){var n,c=o[t],u=function(){return void 0===n&&(n=r(c,t)),n};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);o[t]=c=S(S({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else o[t]=c=S(S({},c),{},{tickCoord:c.coordinate});b(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),o[t]=S(S({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return o}(A,N,E,u,p)).filter(function(e){return e.isShow})}var k=["viewBox"],C=["viewBox"],P=["ticks"];function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign.bind()).apply(this,arguments)}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(I=function(){return!!e})()}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=E(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}var M=function(e){var t,r;function o(e){var t,r,n;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");return r=o,n=[e],r=D(r),(t=function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,I()?Reflect.construct(r,n||[],D(this).constructor):r.apply(this,n))).state={fontSize:"",letterSpacing:""},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&_(o,e),t=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=T(e,k),i=this.props,o=i.viewBox,a=T(i,C);return!(0,l.shallowEqual)(r,o)||!(0,l.shallowEqual)(n,a)||!(0,l.shallowEqual)(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,i,o,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,p=s.orientation,m=s.tickSize,y=s.mirror,h=s.tickMargin,g=y?-1:1,v=e.tickSize||m,b=(0,f.isNumber)(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=r=e.coordinate,a=(n=(i=c+!y*d)-g*v)-g*h,o=b;break;case"left":n=i=e.coordinate,o=(t=(r=l+!y*u)-g*v)-g*h,a=b;break;case"right":n=i=e.coordinate,o=(t=(r=l+y*u)+g*v)+g*h,a=b;break;default:t=r=e.coordinate,a=(n=(i=c+y*d)+g*v)+g*h,o=b}return{line:{x1:t,y1:n,x2:r,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,o=e.width,a=e.height,l=e.orientation,c=e.mirror,u=e.axisLine,d=O(O(O({},(0,m.filterProps)(this.props,!1)),(0,m.filterProps)(u,!1)),{},{fill:"none"});if("top"===l||"bottom"===l){var f=+("top"===l&&!c||"bottom"===l&&c);d=O(O({},d),{},{x1:t,y1:r+f*a,x2:t+o,y2:r+f*a})}else{var p=+("left"===l&&!c||"right"===l&&c);d=O(O({},d),{},{x1:t+p*o,y1:r,x2:t+p*o,y2:r+a})}return n.default.createElement("line",A({},d,{className:(0,i.default)("recharts-cartesian-axis-line",(0,s.default)(u,"className"))}))}},{key:"renderTicks",value:function(e,t,r){var l=this,u=this.props,d=u.tickLine,f=u.stroke,y=u.tick,h=u.tickFormatter,g=u.unit,v=j(O(O({},this.props),{},{ticks:e}),t,r),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=(0,m.filterProps)(this.props,!1),S=(0,m.filterProps)(y,!1),k=O(O({},x),{},{fill:"none"},(0,m.filterProps)(d,!1)),C=v.map(function(e,t){var r=l.getTickLineCoord(e),u=r.line,m=r.tick,j=O(O(O(O({textAnchor:b,verticalAnchor:w},x),{},{stroke:"none",fill:f},S),m),{},{index:t,payload:e,visibleTicksCount:v.length,tickFormatter:h});return n.default.createElement(c.Layer,A({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},(0,p.adaptEventsOfChild)(l.props,e,t)),d&&n.default.createElement("line",A({},k,u,{className:(0,i.default)("recharts-cartesian-axis-tick-line",(0,s.default)(d,"className"))})),y&&o.renderTickItem(y,j,"".concat((0,a.default)(h)?h(e.value,t):e.value).concat(g||"")))});return n.default.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,o=t.width,s=t.height,l=t.ticksGenerator,u=t.className;if(t.hide)return null;var f=this.props,p=f.ticks,m=T(f,P),y=p;return((0,a.default)(l)&&(y=l(p&&p.length>0?this.props:m)),o<=0||s<=0||!y||!y.length)?null:n.default.createElement(c.Layer,{className:(0,i.default)("recharts-cartesian-axis",u),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),d.Label.renderCallByParent(this.props))}}],r=[{key:"renderTickItem",value:function(e,t,r){var o=(0,i.default)(t.className,"recharts-cartesian-axis-tick-value");return n.default.isValidElement(e)?n.default.cloneElement(e,O(O({},t),{},{className:o})):(0,a.default)(e)?e(O(O({},t),{},{className:o})):n.default.createElement(u.Text,A({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],t&&R(o.prototype,t),r&&R(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);L(M,"displayName","CartesianAxis"),L(M,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var z=e.i(703315);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q=function(){return!!e})()}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e,t,r){return(t=U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=H(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}function W(){return(W=Object.assign.bind()).apply(this,arguments)}function G(e){var t=e.xAxisId,r=(0,o.useChartWidth)(),a=(0,o.useChartHeight)(),s=(0,o.useXAxisOrThrow)(t);return null==s?null:n.createElement(M,W({},s,{className:(0,i.default)("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return(0,z.getTicksOfAxis)(e,!0)}}))}var Y=function(e){var t;function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=B(e),function(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,q()?Reflect.construct(e,t||[],B(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&$(r,e),t=[{key:"render",value:function(){return n.createElement(G,this.props)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(n.Component);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Q(Y,"displayName","XAxis"),Q(Y,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0}),e.s(["XAxis",()=>Y],756902);function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(K=function(){return!!e})()}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,r){return(t=ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=V(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}function et(){return(et=Object.assign.bind()).apply(this,arguments)}var er=function(e){var t=e.yAxisId,r=(0,o.useChartWidth)(),a=(0,o.useChartHeight)(),s=(0,o.useYAxisOrThrow)(t);return null==s?null:n.createElement(M,et({},s,{className:(0,i.default)("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(e){return(0,z.getTicksOfAxis)(e,!0)}}))},en=function(e){var t;function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=X(e),function(e,t){if(t&&("object"===V(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,K()?Reflect.construct(e,t||[],X(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&J(r,e),t=[{key:"render",value:function(){return n.createElement(er,this.props)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ee(n.key),n)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(n.Component);Z(en,"displayName","YAxis"),Z(en,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1}),e.s(["YAxis",()=>en],976835);var ei=(0,t.generateCategoricalChart)({chartName:"BarChart",GraphicalChild:r.Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Y},{axisType:"yAxis",AxisComp:en}],formatAxisMap:g.formatAxisMap});e.s(["BarChart",()=>ei],282717);var eo=e.i(991461),ea=["x1","y1","x2","y2","key"],es=["offset"];function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){var n,i,o;n=e,i=t,o=r[t],(i=function(e){var t=function(e,t){if("object"!=el(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=el(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==el(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ed(){return(ed=Object.assign.bind()).apply(this,arguments)}function ef(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ep=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return n.default.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function em(e,t){var r;if(n.default.isValidElement(e))r=n.default.cloneElement(e,t);else if((0,a.default)(e))r=e(t);else{var i=t.x1,o=t.y1,s=t.x2,l=t.y2,c=t.key,u=ef(t,ea),d=(0,m.filterProps)(u,!1),f=(d.offset,ef(d,es));r=n.default.createElement("line",ed({},f,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:c}))}return r}function ey(e){var t=e.x,r=e.width,i=e.horizontal,o=void 0===i||i,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var s=a.map(function(n,i){return em(o,eu(eu({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(i),index:i}))});return n.default.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function eh(e){var t=e.y,r=e.height,i=e.vertical,o=void 0===i||i,a=e.verticalPoints;if(!o||!a||!a.length)return null;var s=a.map(function(n,i){return em(o,eu(eu({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(i),index:i}))});return n.default.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function eg(e){var t=e.horizontalFill,r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var d=u.map(function(e,l){var c=u[l+1]?u[l+1]-e:o+s-e;if(c<=0)return null;var d=l%t.length;return n.default.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return n.default.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ev(e){var t=e.vertical,r=e.verticalFill,i=e.fillOpacity,o=e.x,a=e.y,s=e.width,l=e.height,c=e.verticalPoints;if(!(void 0===t||t)||!r||!r.length)return null;var u=c.map(function(e){return Math.round(e+o-o)}).sort(function(e,t){return e-t});o!==u[0]&&u.unshift(0);var d=u.map(function(e,t){var c=u[t+1]?u[t+1]-e:o+s-e;if(c<=0)return null;var d=t%r.length;return n.default.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:c,height:l,stroke:"none",fill:r[d],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return n.default.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var eb=function(e,t){var r=e.xAxis,n=e.width,i=e.height,o=e.offset;return(0,z.getCoordinatesOfGrid)(j(eu(eu(eu({},M.defaultProps),r),{},{ticks:(0,z.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,t)},ew=function(e,t){var r=e.yAxis,n=e.width,i=e.height,o=e.offset;return(0,z.getCoordinatesOfGrid)(j(eu(eu(eu({},M.defaultProps),r),{},{ticks:(0,z.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,t)},ex=[],eS=[];function ej(e){var t,r,i,s,l,c,u=(0,o.useChartWidth)(),d=(0,o.useChartHeight)(),p=(0,o.useOffset)(),m=eu(eu({},e),{},{stroke:null!=(t=e.stroke)?t:"#ccc",fill:null!=(r=e.fill)?r:"none",horizontal:null==(i=e.horizontal)||i,horizontalFill:null!=(s=e.horizontalFill)?s:eS,vertical:null==(l=e.vertical)||l,verticalFill:null!=(c=e.verticalFill)?c:ex,x:(0,f.isNumber)(e.x)?e.x:p.left,y:(0,f.isNumber)(e.y)?e.y:p.top,width:(0,f.isNumber)(e.width)?e.width:p.width,height:(0,f.isNumber)(e.height)?e.height:p.height}),y=m.x,h=m.y,g=m.width,v=m.height,b=m.syncWithTicks,w=m.horizontalValues,x=m.verticalValues,S=(0,o.useArbitraryXAxis)(),j=(0,o.useYAxisWithFiniteDomainOrRandom)();if(!(0,f.isNumber)(g)||g<=0||!(0,f.isNumber)(v)||v<=0||!(0,f.isNumber)(y)||y!==+y||!(0,f.isNumber)(h)||h!==+h)return null;var k=m.verticalCoordinatesGenerator||eb,C=m.horizontalCoordinatesGenerator||ew,P=m.horizontalPoints,E=m.verticalPoints;if((!P||!P.length)&&(0,a.default)(C)){var A=w&&w.length,N=C({yAxis:j?eu(eu({},j),{},{ticks:A?w:j.ticks}):void 0,width:u,height:d,offset:p},!!A||b);(0,eo.warn)(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(el(N),"]")),Array.isArray(N)&&(P=N)}if((!E||!E.length)&&(0,a.default)(k)){var O=x&&x.length,T=k({xAxis:S?eu(eu({},S),{},{ticks:O?x:S.ticks}):void 0,width:u,height:d,offset:p},!!O||b);(0,eo.warn)(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(el(T),"]")),Array.isArray(T)&&(E=T)}return n.default.createElement("g",{className:"recharts-cartesian-grid"},n.default.createElement(ep,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),n.default.createElement(ey,ed({},m,{offset:p,horizontalPoints:P,xAxis:S,yAxis:j})),n.default.createElement(eh,ed({},m,{offset:p,verticalPoints:E,xAxis:S,yAxis:j})),n.default.createElement(eg,ed({},m,{horizontalPoints:P})),n.default.createElement(ev,ed({},m,{verticalPoints:E})))}ej.displayName="CartesianGrid",e.s(["CartesianGrid",()=>ej],526626)},648761,e=>{e.v(t=>Promise.all(["static/chunks/2edb2b394ba4d2db.js"].map(t=>e.l(t))).then(()=>t(825455)))},828805,e=>{e.v(t=>Promise.all(["static/chunks/820c94ec438563d7.js"].map(t=>e.l(t))).then(()=>t(879466)))},154496,e=>{e.v(t=>Promise.all(["static/chunks/e27b932a0aa32323.js"].map(t=>e.l(t))).then(()=>t(57977)))},45814,e=>{e.v(t=>Promise.all(["static/chunks/44e51831a27a79ab.js"].map(t=>e.l(t))).then(()=>t(425448)))},492756,e=>{e.v(t=>Promise.all(["static/chunks/97d212cb1a6b9949.js"].map(t=>e.l(t))).then(()=>t(545302)))},330168,e=>{e.v(t=>Promise.all(["static/chunks/0ba14d4349b45896.js","static/chunks/e27b932a0aa32323.js"].map(t=>e.l(t))).then(()=>t(918245)))},271188,e=>{e.v(t=>Promise.all(["static/chunks/a61b3327814dbfb5.js"].map(t=>e.l(t))).then(()=>t(62019)))},330602,e=>{e.v(t=>Promise.all(["static/chunks/83fd305176cfe18f.js"].map(t=>e.l(t))).then(()=>t(763005)))},330687,e=>{e.v(e=>Promise.resolve().then(()=>e(660522)))}]);