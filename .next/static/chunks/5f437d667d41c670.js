(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,263488,e=>{"use strict";let s=(0,e.i(475254).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],263488)},343432,e=>{"use strict";let s=(0,e.i(475254).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],343432)},761973,e=>{"use strict";var s=e.i(843476),r=e.i(271645),a=e.i(904792),t=e.i(519455),i=e.i(793479),l=e.i(515288),o=e.i(102594),n=e.i(846696),c=e.i(903133),d=e.i(50270),m=e.i(653145),h=e.i(994814),u=e.i(772436),g=e.i(618348),x=e.i(263488),p=e.i(343432),j=e.i(286536),y=e.i(77705),b=e.i(776639);let f=d.z.object({email:d.z.string().email("Please enter a valid email"),password:d.z.string().min(1,"Password is required")});e.s(["default",0,()=>{let[e,d]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),[v,C]=(0,r.useState)(!1),[k,F]=(0,r.useState)(!1),[S,P]=(0,r.useState)(!1),{signIn:z,signInWithGoogle:B,resetPassword:G,user:I}=(0,o.useAuth)(),D=(0,a.useNavigate)(),E=(0,m.useForm)({resolver:(0,h.zodResolver)(f),defaultValues:{email:"",password:""}});(0,r.useEffect)(()=>{let e=window.location.hash.includes("type=recovery");I&&!e&&(console.log("User already authenticated, redirecting to dashboard"),D("/",{replace:!0}))},[I,D]);let A=async e=>{d(!0);try{await z(e.email,e.password)}catch(e){console.error("Email/password sign in error:",e),e.message.includes("Invalid login credentials")?n.toast.error("Invalid email or password. Please try again."):n.toast.error(`Login failed: ${e?.message||"Unknown error"}`)}finally{d(!1)}},M=async()=>{N(!0),n.toast.loading("Redirecting to Google...");try{await B()}catch(e){console.error("Google sign-in error:",e),n.toast.dismiss(),n.toast.error(`Google sign-in failed: ${e?.message||"Unknown error"}`),N(!1)}},T=async()=>{let e=E.getValues("email");if(!e)return void n.toast.error("Please enter your email address first");F(!0);try{await G(e),C(!0),n.toast.success("Password reset email sent! Check your inbox.")}catch(e){console.error("Password reset error:",e),n.toast.error(`Failed to send reset email: ${e?.message||"Unknown error"}`)}finally{F(!1)}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/lovable-uploads/2fca69a3-fd1f-4833-bb84-fd7f5764059f.png')"},children:[(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("img",{src:"/lovable-uploads/798d07d7-1db7-498c-92f3-6f6346827d59.png",alt:"Gonzo Systems",className:"h-16 md:h-20 object-contain"})}),(0,s.jsxs)(l.Card,{className:"w-full max-w-md border-primary/10 shadow-lg bg-white/90",children:[(0,s.jsxs)(l.CardHeader,{className:"space-y-1",children:[(0,s.jsx)(l.CardTitle,{className:"text-2xl font-bold text-center text-primary",children:"Welcome Back"}),(0,s.jsx)(l.CardDescription,{className:"text-center",children:"Sign in to your account to continue"})]}),(0,s.jsxs)(l.CardContent,{className:"space-y-4",children:[(0,s.jsx)(c.Form,{...E,children:(0,s.jsxs)("form",{onSubmit:E.handleSubmit(A),className:"space-y-4",children:[(0,s.jsx)(c.FormField,{control:E.control,name:"email",render:({field:e})=>(0,s.jsxs)(c.FormItem,{children:[(0,s.jsx)(c.FormLabel,{children:"Email"}),(0,s.jsx)(c.FormControl,{children:(0,s.jsx)(i.Input,{...e,type:"email",placeholder:"Enter your email",className:"border-input focus:border-primary"})}),(0,s.jsx)(c.FormMessage,{})]})}),(0,s.jsx)(c.FormField,{control:E.control,name:"password",render:({field:e})=>(0,s.jsxs)(c.FormItem,{children:[(0,s.jsx)(c.FormLabel,{children:"Password"}),(0,s.jsx)(c.FormControl,{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.Input,{...e,type:S?"text":"password",placeholder:"Enter your password",className:"border-input focus:border-primary pr-10"}),(0,s.jsx)(t.Button,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>P(!S),children:S?(0,s.jsx)(y.EyeOff,{className:"h-4 w-4"}):(0,s.jsx)(j.Eye,{className:"h-4 w-4"})})]})}),(0,s.jsx)(c.FormMessage,{})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(b.Dialog,{children:[(0,s.jsx)(b.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(t.Button,{type:"button",variant:"link",className:"text-sm text-primary p-0 h-auto",children:[(0,s.jsx)(g.HelpCircle,{className:"w-4 h-4 mr-1"}),"Need Help?"]})}),(0,s.jsxs)(b.DialogContent,{className:"sm:max-w-md",children:[(0,s.jsxs)(b.DialogHeader,{children:[(0,s.jsx)(b.DialogTitle,{children:"Need Help?"}),(0,s.jsx)(b.DialogDescription,{children:"If you need assistance with logging in or have any other questions, please contact our support team."})]}),(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[(0,s.jsx)("p",{children:"Common issues:"}),(0,s.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,s.jsx)("li",{children:'Forgot your password? Use the "Forgot password?" link.'}),(0,s.jsx)("li",{children:'New user? Click on "Create Account" to sign up.'}),(0,s.jsx)("li",{children:"Having trouble with Google Sign-in? Make sure you have a valid Google account."})]}),(0,s.jsxs)("div",{className:"p-4 border rounded-md mt-4",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Contact Support"}),(0,s.jsxs)("p",{className:"text-sm mb-2 flex items-center gap-2",children:[(0,s.jsx)(x.Mail,{className:"h-4 w-4"}),(0,s.jsx)("a",{href:"mailto:gonzabrands@gmail.com",className:"text-primary hover:underline",children:"gonzabrands@gmail.com"})]}),(0,s.jsxs)("p",{className:"text-sm flex items-center gap-2",children:[(0,s.jsx)(p.Phone,{className:"h-4 w-4"}),(0,s.jsx)("a",{href:"tel:+256758519696",className:"text-primary hover:underline",children:"+256 758519696"})]})]})]})]})]}),(0,s.jsx)(t.Button,{type:"button",variant:"link",className:"text-sm text-primary p-0 h-auto",onClick:T,disabled:k,children:k?"Sending...":v?"Email sent!":"Forgot password?"})]}),(0,s.jsx)(t.Button,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:e,children:e?"Signing in...":"Sign In"})]})}),(0,s.jsxs)("div",{className:"relative my-4",children:[(0,s.jsx)(u.Separator,{}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("span",{className:"bg-white px-2 text-sm text-gray-500",children:"OR"})})]}),(0,s.jsxs)(t.Button,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2 border-gray-300 hover:bg-gray-50",onClick:M,disabled:w||e,children:[(0,s.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),w?"Connecting with Google...":"Sign in with Google"]}),(0,s.jsx)(t.Button,{type:"button",variant:"outline",className:"w-full border-primary/20 hover:bg-primary/5 mt-4",onClick:()=>D("/signup"),disabled:e||w,children:"Create Account"})]})]})]})}])}]);