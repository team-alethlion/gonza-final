(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,388474,e=>{"use strict";var t=e.i(271645),r=e.i(820783),i=e.i(30030),a=e.i(981140),n=e.i(369340),s=e.i(999682),o=e.i(635804),l=e.i(296626),c=e.i(248425),d=e.i(843476),u="Checkbox",[f,m]=(0,i.createContextScope)(u),[p,h]=f(u);function y(e){let{__scopeCheckbox:r,checked:i,children:a,defaultChecked:s,disabled:o,form:l,name:c,onCheckedChange:f,required:m,value:h="on",internal_do_not_use_render:y}=e,[g,v]=(0,n.useControllableState)({prop:i,defaultProp:s??!1,onChange:f,caller:u}),[x,b]=t.useState(null),[w,j]=t.useState(null),k=t.useRef(!1),S=!x||!!l||!!x.closest("form"),C={checked:g,disabled:o,setChecked:v,control:x,setControl:b,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:k,required:m,defaultChecked:!N(s)&&s,isFormControl:S,bubbleInput:w,setBubbleInput:j};return(0,d.jsx)(p,{scope:r,...C,children:"function"==typeof y?y(C):a})}var g="CheckboxTrigger",v=t.forwardRef(({__scopeCheckbox:e,onKeyDown:i,onClick:n,...s},o)=>{let{control:l,value:u,disabled:f,checked:m,required:p,setControl:y,setChecked:v,hasConsumerStoppedPropagationRef:x,isFormControl:b,bubbleInput:w}=h(g,e),j=(0,r.useComposedRefs)(o,y),k=t.useRef(m);return t.useEffect(()=>{let e=l?.form;if(e){let t=()=>v(k.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,v]),(0,d.jsx)(c.Primitive.button,{type:"button",role:"checkbox","aria-checked":N(m)?"mixed":m,"aria-required":p,"data-state":S(m),"data-disabled":f?"":void 0,disabled:f,value:u,...s,ref:j,onKeyDown:(0,a.composeEventHandlers)(i,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,a.composeEventHandlers)(n,e=>{v(e=>!!N(e)||!e),w&&b&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});v.displayName=g;var x=t.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:i,checked:a,defaultChecked:n,required:s,disabled:o,value:l,onCheckedChange:c,form:u,...f}=e;return(0,d.jsx)(y,{__scopeCheckbox:r,checked:a,defaultChecked:n,disabled:o,required:s,onCheckedChange:c,name:i,form:u,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v,{...f,ref:t,__scopeCheckbox:r}),e&&(0,d.jsx)(k,{__scopeCheckbox:r})]})})});x.displayName=u;var b="CheckboxIndicator",w=t.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:i,...a}=e,n=h(b,r);return(0,d.jsx)(l.Presence,{present:i||N(n.checked)||!0===n.checked,children:(0,d.jsx)(c.Primitive.span,{"data-state":S(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=b;var j="CheckboxBubbleInput",k=t.forwardRef(({__scopeCheckbox:e,...i},a)=>{let{control:n,hasConsumerStoppedPropagationRef:l,checked:u,defaultChecked:f,required:m,disabled:p,name:y,value:g,form:v,bubbleInput:x,setBubbleInput:b}=h(j,e),w=(0,r.useComposedRefs)(a,b),k=(0,s.usePrevious)(u),S=(0,o.useSize)(n);t.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!l.current;if(k!==u&&e){let r=new Event("click",{bubbles:t});x.indeterminate=N(u),e.call(x,!N(u)&&u),x.dispatchEvent(r)}},[x,k,u,l]);let C=t.useRef(!N(u)&&u);return(0,d.jsx)(c.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??C.current,required:m,disabled:p,name:y,value:g,form:v,...i,tabIndex:-1,ref:w,style:{...i.style,...S,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function N(e){return"indeterminate"===e}function S(e){return N(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=j,e.s(["Checkbox",()=>x,"CheckboxIndicator",()=>w,"Indicator",()=>w,"Root",()=>x,"createCheckboxScope",()=>m,"unstable_BubbleInput",()=>k,"unstable_CheckboxBubbleInput",()=>k,"unstable_CheckboxProvider",()=>y,"unstable_CheckboxTrigger",()=>v,"unstable_Provider",()=>y,"unstable_Trigger",()=>v])},257428,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(388474),a=e.i(643531),n=e.i(975157);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i.Root,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...r,children:(0,t.jsx)(i.Indicator,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(a.Check,{className:"h-4 w-4"})})}));s.displayName=i.Root.displayName,e.s(["Checkbox",()=>s])},797548,e=>{"use strict";let t=(0,e.i(475254).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],797548)},878894,e=>{"use strict";let t=(0,e.i(475254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],878894)},541071,e=>{"use strict";let t=(0,e.i(475254).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>t],541071)},232189,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},865156,(e,t,r)=>{"use strict";var i=e.r(232189);function a(){}function n(){}n.resetWarningCache=a,t.exports=function(){function e(e,t,r,a,n,s){if(s!==i){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:n,resetWarningCache:a};return r.PropTypes=r,r}},745009,(e,t,r)=>{t.exports=e.r(865156)()},631422,e=>{"use strict";var t=e.i(585890),r=e.i(145963),i=e.i(614522),a=e.i(707935),n=e.i(608199),s=e.i(39978),o=e.i(668113),l=e.i(885697),c=e.i(751371),d=e.i(585341),u=e.i(619578);e.s(["getDateRangeFromFilter",0,e=>{let f=new Date,m=(0,t.startOfDay)(f);switch(e){case"today":return{from:m,to:(0,r.endOfDay)(f)};case"yesterday":let p=(0,c.subDays)(m,1);return{from:p,to:(0,r.endOfDay)(p)};case"this-week":return{from:(0,i.startOfWeek)(f),to:(0,a.endOfWeek)(f)};case"last-week":let h=(0,i.startOfWeek)((0,d.subWeeks)(f,1));return{from:h,to:(0,a.endOfWeek)(h)};case"this-month":return{from:(0,n.startOfMonth)(f),to:(0,s.endOfMonth)(f)};case"last-month":let y=(0,n.startOfMonth)((0,u.subMonths)(f,1));return{from:y,to:(0,s.endOfMonth)(y)};case"this-year":return{from:(0,o.startOfYear)(f),to:(0,l.endOfYear)(f)};default:return{from:new Date(2e3,0,1),to:(0,r.endOfDay)(f)}}},"isDateInRange",0,(e,t,r)=>!t&&!r||(t?r?e>=t&&e<=r:e>=t:e<=r)])},691162,e=>{"use strict";let t;var r=e.i(271645),i=e.i(30030),a=e.i(820783),n=e.i(326999),s=e.i(981140),o=e.i(843476),l=Symbol("radix.slottable"),c="AlertDialog",[d,u]=(0,i.createContextScope)(c,[n.createDialogScope]),f=(0,n.createDialogScope)(),m=e=>{let{__scopeAlertDialog:t,...r}=e,i=f(t);return(0,o.jsx)(n.Root,{...i,...r,modal:!0})};m.displayName=c;var p=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...i}=e,a=f(r);return(0,o.jsx)(n.Trigger,{...a,...i,ref:t})});p.displayName="AlertDialogTrigger";var h=e=>{let{__scopeAlertDialog:t,...r}=e,i=f(t);return(0,o.jsx)(n.Portal,{...i,...r})};h.displayName="AlertDialogPortal";var y=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...i}=e,a=f(r);return(0,o.jsx)(n.Overlay,{...a,...i,ref:t})});y.displayName="AlertDialogOverlay";var g="AlertDialogContent",[v,x]=d(g),b=((t=({children:e})=>(0,o.jsx)(o.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",t.__radixId=l,t),w=r.forwardRef((e,t)=>{let{__scopeAlertDialog:i,children:l,...c}=e,d=f(i),u=r.useRef(null),m=(0,a.useComposedRefs)(t,u),p=r.useRef(null);return(0,o.jsx)(n.WarningProvider,{contentName:g,titleName:j,docsSlug:"alert-dialog",children:(0,o.jsx)(v,{scope:i,cancelRef:p,children:(0,o.jsxs)(n.Content,{role:"alertdialog",...d,...c,ref:m,onOpenAutoFocus:(0,s.composeEventHandlers)(c.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(b,{children:l}),(0,o.jsx)(O,{contentRef:u})]})})})});w.displayName=g;var j="AlertDialogTitle",k=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...i}=e,a=f(r);return(0,o.jsx)(n.Title,{...a,...i,ref:t})});k.displayName=j;var N="AlertDialogDescription",S=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...i}=e,a=f(r);return(0,o.jsx)(n.Description,{...a,...i,ref:t})});S.displayName=N;var C=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...i}=e,a=f(r);return(0,o.jsx)(n.Close,{...a,...i,ref:t})});C.displayName="AlertDialogAction";var P="AlertDialogCancel",A=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...i}=e,{cancelRef:s}=x(P,r),l=f(r),c=(0,a.useComposedRefs)(t,s);return(0,o.jsx)(n.Close,{...l,...i,ref:c})});A.displayName=P;var O=({contentRef:e})=>{let t=`\`${g}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${g}\` by passing a \`${N}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${g}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};e.s(["Action",()=>C,"AlertDialog",()=>m,"AlertDialogAction",()=>C,"AlertDialogCancel",()=>A,"AlertDialogContent",()=>w,"AlertDialogDescription",()=>S,"AlertDialogOverlay",()=>y,"AlertDialogPortal",()=>h,"AlertDialogTitle",()=>k,"AlertDialogTrigger",()=>p,"Cancel",()=>A,"Content",()=>w,"Description",()=>S,"Overlay",()=>y,"Portal",()=>h,"Root",()=>m,"Title",()=>k,"Trigger",()=>p,"createAlertDialogScope",()=>u],691162)},868499,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(691162),a=e.i(975157),n=e.i(519455);let s=i.Root,o=i.Trigger,l=i.Portal,c=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i.Overlay,{className:(0,a.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...r,ref:n}));c.displayName=i.Overlay.displayName;let d=r.forwardRef(({className:e,...r},n)=>(0,t.jsxs)(l,{children:[(0,t.jsx)(c,{}),(0,t.jsx)(i.Content,{ref:n,className:(0,a.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r})]}));d.displayName=i.Content.displayName;let u=({className:e,...r})=>(0,t.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...r});u.displayName="AlertDialogHeader";let f=({className:e,...r})=>(0,t.jsx)("div",{className:(0,a.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...r});f.displayName="AlertDialogFooter";let m=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i.Title,{ref:n,className:(0,a.cn)("text-lg font-semibold",e),...r}));m.displayName=i.Title.displayName;let p=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i.Description,{ref:n,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));p.displayName=i.Description.displayName;let h=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i.Action,{ref:s,className:(0,a.cn)((0,n.buttonVariants)(),e),...r}));h.displayName=i.Action.displayName;let y=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i.Cancel,{ref:s,className:(0,a.cn)((0,n.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...r}));y.displayName=i.Cancel.displayName,e.s(["AlertDialog",()=>s,"AlertDialogAction",()=>h,"AlertDialogCancel",()=>y,"AlertDialogContent",()=>d,"AlertDialogDescription",()=>p,"AlertDialogFooter",()=>f,"AlertDialogHeader",()=>u,"AlertDialogTitle",()=>m,"AlertDialogTrigger",()=>o])},885697,585341,e=>{"use strict";var t=e.i(281092);function r(e,r){let i=(0,t.toDate)(e,r?.in),a=i.getFullYear();return i.setFullYear(a+1,0,0),i.setHours(23,59,59,999),i}e.s(["endOfYear",()=>r],885697);var i=e.i(433331);function a(e,t,r){return(0,i.addWeeks)(e,-t,r)}e.s(["subWeeks",()=>a],585341)},926209,e=>{"use strict";var t=e.i(271645),r=e.i(981140),i=e.i(30030),a=e.i(842727),n=e.i(296626),s=e.i(248425),o=e.i(586318),l=e.i(369340),c=e.i(610772),d=e.i(843476),u="Tabs",[f,m]=(0,i.createContextScope)(u,[a.createRovingFocusGroupScope]),p=(0,a.createRovingFocusGroupScope)(),[h,y]=f(u),g=t.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,onValueChange:a,defaultValue:n,orientation:f="horizontal",dir:m,activationMode:p="automatic",...y}=e,g=(0,o.useDirection)(m),[v,x]=(0,l.useControllableState)({prop:i,onChange:a,defaultProp:n??"",caller:u});return(0,d.jsx)(h,{scope:r,baseId:(0,c.useId)(),value:v,onValueChange:x,orientation:f,dir:g,activationMode:p,children:(0,d.jsx)(s.Primitive.div,{dir:g,"data-orientation":f,...y,ref:t})})});g.displayName=u;var v="TabsList",x=t.forwardRef((e,t)=>{let{__scopeTabs:r,loop:i=!0,...n}=e,o=y(v,r),l=p(r);return(0,d.jsx)(a.Root,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:i,children:(0,d.jsx)(s.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});x.displayName=v;var b="TabsTrigger",w=t.forwardRef((e,t)=>{let{__scopeTabs:i,value:n,disabled:o=!1,...l}=e,c=y(b,i),u=p(i),f=N(c.baseId,n),m=S(c.baseId,n),h=n===c.value;return(0,d.jsx)(a.Item,{asChild:!0,...u,focusable:!o,active:h,children:(0,d.jsx)(s.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:t,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(n)})})})});w.displayName=b;var j="TabsContent",k=t.forwardRef((e,r)=>{let{__scopeTabs:i,value:a,forceMount:o,children:l,...c}=e,u=y(j,i),f=N(u.baseId,a),m=S(u.baseId,a),p=a===u.value,h=t.useRef(p);return t.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,d.jsx)(n.Presence,{present:o||p,children:({present:t})=>(0,d.jsx)(s.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!t,id:m,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&l})})});function N(e,t){return`${e}-trigger-${t}`}function S(e,t){return`${e}-content-${t}`}k.displayName=j,e.s(["Content",()=>k,"List",()=>x,"Root",()=>g,"Tabs",()=>g,"TabsContent",()=>k,"TabsList",()=>x,"TabsTrigger",()=>w,"Trigger",()=>w,"createTabsScope",()=>m])},677572,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(926209),a=e.i(975157);let n=i.Root,s=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i.List,{ref:n,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...r}));s.displayName=i.List.displayName;let o=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i.Trigger,{ref:n,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...r}));o.displayName=i.Trigger.displayName;let l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i.Content,{ref:n,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r}));l.displayName=i.Content.displayName,e.s(["Tabs",()=>n,"TabsContent",()=>l,"TabsList",()=>s,"TabsTrigger",()=>o])},619578,e=>{"use strict";var t=e.i(688594);function r(e,r,i){return(0,t.addMonths)(e,-r,i)}e.s(["subMonths",()=>r])},145963,e=>{"use strict";var t=e.i(281092);function r(e,r){let i=(0,t.toDate)(e,r?.in);return i.setHours(23,59,59,999),i}e.s(["endOfDay",()=>r])},908482,e=>{"use strict";var t=e.i(271645),r=e.i(908406),i=e.i(422713),a=e.i(555781);e.s(["useCategories",0,e=>{let[n,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),{toast:c}=(0,r.useToast)(),{currentBusiness:d}=(0,i.useBusiness)(),u=(0,t.useCallback)(async()=>{try{if(!d?.id){s([]),l(!1);return}l(!0);let e=await (0,a.getProductCategoriesAction)(d.id);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch categories");let t=e.data.map(e=>({id:e.id,name:e.name,createdAt:e.createdAt?new Date(e.createdAt):e.created_at?new Date(e.created_at):void 0}));s(t)}catch(e){console.error("Error loading categories:",e),c({title:"Error",description:"Failed to load product categories.",variant:"destructive"})}finally{l(!1)}},[d?.id,c]);(0,t.useEffect)(()=>{u()},[u]);let f=async t=>{try{if(!e||!d?.id)return null;let r=n.find(e=>e.name.toLowerCase()===t.toLowerCase());if(r)return c({title:"Category exists",description:"This category already exists."}),r;let i=await (0,a.createProductCategoryAction)(d.id,e,t);if(!i.success||!i.data)throw Error(i.error);let o={id:i.data.id,name:i.data.name,createdAt:new Date(i.data.createdAt)};return s(e=>[...e,o]),c({title:"Success",description:"Category created successfully"}),o}catch(e){return console.error("Error creating category:",e),c({title:"Error",description:"Failed to create category.",variant:"destructive"}),null}},m=async(e,t)=>{try{if(n.find(r=>r.name.toLowerCase()===t.toLowerCase()&&r.id!==e))return c({title:"Category exists",description:"Another category with this name already exists."}),!1;let r=await (0,a.updateProductCategoryAction)(e,t);if(!r.success)throw Error(r.error);return s(r=>r.map(r=>r.id===e?{...r,name:t}:r)),c({title:"Success",description:"Category updated successfully"}),!0}catch(e){return console.error("Error updating category:",e),c({title:"Error",description:"Failed to update category.",variant:"destructive"}),!1}};return{categories:n,isLoading:o,loadCategories:u,createCategory:f,updateCategory:m,deleteCategory:async e=>{try{let t=await (0,a.deleteProductCategoryAction)(e);if(!t.success)return c({title:"Cannot delete category",description:t.error||"Failed to delete category.",variant:"destructive"}),!1;return s(t=>t.filter(t=>t.id!==e)),c({title:"Success",description:"Category deleted successfully"}),!0}catch(e){return console.error("Error deleting category:",e),c({title:"Error",description:"Failed to delete category.",variant:"destructive"}),!1}}}}])},356909,e=>{"use strict";let t=(0,e.i(475254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],356909)},444233,e=>{"use strict";let t=e=>{let t=[],r="",i=!1,a=0;for(;a<e.length;){let n=e[a],s=e[a+1];if('"'===n)if(i&&'"'===s){r+='"',a+=2;continue}else i=!i;else","!==n||i?r+=n:(t.push(r.trim()),r="");a++}return t.push(r.trim()),t},r=(e,t)=>{let r=[];return e["Product Name"]?.trim()||r.push({row:t,field:"Product Name",message:"Product Name is required"}),r},i=(e,t)=>{let r=[];return(!e.Amount||isNaN(Number(e.Amount))||0>=Number(e.Amount))&&r.push({row:t,field:"Amount",message:"Amount must be a positive number"}),e.Type&&["cash_in","cash_out","transfer"].includes(e.Type.toLowerCase())||r.push({row:t,field:"Type",message:'Type must be "cash_in", "cash_out", or "transfer"'}),e.Description?.trim()||r.push({row:t,field:"Description",message:"Description is required"}),e.Type?.toLowerCase()!=="transfer"||e["To Account"]||r.push({row:t,field:"To Account",message:"To Account is required for transfers"}),r},a=(e,t)=>{let r=[];return(!e.Amount||isNaN(Number(e.Amount))||0>=Number(e.Amount))&&r.push({row:t,field:"Amount",message:"Amount must be a positive number"}),e.Description?.trim()||r.push({row:t,field:"Description",message:"Description is required"}),"true"!==e["Link to Finance"]?.toString().toLowerCase()||e["Finance Account"]?.trim()||r.push({row:t,field:"Finance Account",message:"Finance Account is required when Link to Finance is true"}),r};e.s(["generateErrorLogCSV",0,(e,t="upload_errors.csv")=>{let r=new Blob([["Row,Field,Error Message",...e.map(e=>[e.row,e.field,`"${e.message}"`].join(","))].join("\n")],{type:"text/csv"}),i=window.URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(i)},"parseCSV",0,e=>{let i=e.trim().split("\n"),a=t(i[0]).map(e=>e.trim()),n=[],s=[];for(let e=1;e<i.length;e++){let o=t(i[e]).map(e=>e.trim()),l={};a.forEach((e,t)=>{l[e]=o[t]||""});let c=r(l,e+1);0===c.length?n.push(l):s.push(...c)}return{validRows:n,errors:s,totalRows:i.length-1}},"parseExpenseCSV",0,e=>{let r=e.trim().split("\n");if(r.length<1)return{validRows:[],errors:[],totalRows:0};let i=t(r[0]).map(e=>e.trim()),n=[],s=[];for(let e=1;e<r.length;e++){if(!r[e].trim())continue;let o=t(r[e]).map(e=>e.trim()),l={};i.forEach((e,t)=>{l[e]=o[t]||""});let c=a(l,e+1);0===c.length?n.push(l):s.push(...c)}return{validRows:n,errors:s,totalRows:r.length-1}},"parseTransactionCSV",0,e=>{let r=e.trim().split("\n");if(r.length<1)return{validRows:[],errors:[],totalRows:0};let a=t(r[0]).map(e=>e.trim()),n=[],s=[];for(let e=1;e<r.length;e++){if(!r[e].trim())continue;let o=t(r[e]).map(e=>e.trim()),l={};a.forEach((e,t)=>{l[e]=o[t]||""});let c=i(l,e+1);0===c.length?n.push(l):s.push(...c)}return{validRows:n,errors:s,totalRows:r.length-1}},"validateExpenseCSVRow",0,a,"validateTransactionCSVRow",0,i])},952571,e=>{"use strict";let t=(0,e.i(475254).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],952571)},269638,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],269638)},569074,e=>{"use strict";let t=(0,e.i(475254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],569074)},676027,e=>{"use strict";var t=e.i(271645),r=e.i(843476);e.i(174080);var i=e.i(991918),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,i.createSlot)(`Primitive.${a}`),s=t.forwardRef((e,t)=>{let{asChild:i,...s}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(i?n:a,{...s,ref:t})});return s.displayName=`Primitive.${a}`,{...e,[a]:s}},{}),n="Progress",[s,o]=function(e,i=[]){let a=[],n=()=>{let r=a.map(e=>t.createContext(e));return function(i){let a=i?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return n.scopeName=e,[function(i,n){let s=t.createContext(n);s.displayName=i+"Context";let o=a.length;a=[...a,n];let l=i=>{let{scope:a,children:n,...l}=i,c=a?.[e]?.[o]||s,d=t.useMemo(()=>l,Object.values(l));return(0,r.jsx)(c.Provider,{value:d,children:n})};return l.displayName=i+"Provider",[l,function(r,a){let l=a?.[e]?.[o]||s,c=t.useContext(l);if(c)return c;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${i}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let i=()=>{let i=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=i.reduce((t,{useScope:r,scopeName:i})=>{let a=r(e)[`__scope${i}`];return{...t,...a}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return i.scopeName=r.scopeName,i}(n,...i)]}(n),[l,c]=s(n),d=t.forwardRef((e,t)=>{var i,n;let{__scopeProgress:s,value:o=null,max:c,getValueLabel:d=m,...u}=e;(c||0===c)&&!y(c)&&console.error((i=`${c}`,`Invalid prop \`max\` of value \`${i}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let f=y(c)?c:100;null===o||g(o,f)||console.error((n=`${o}`,`Invalid prop \`value\` of value \`${n}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let v=g(o,f)?o:null,x=h(v)?d(v,f):void 0;return(0,r.jsx)(l,{scope:s,value:v,max:f,children:(0,r.jsx)(a.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":h(v)?v:void 0,"aria-valuetext":x,role:"progressbar","data-state":p(v,f),"data-value":v??void 0,"data-max":f,...u,ref:t})})});d.displayName=n;var u="ProgressIndicator",f=t.forwardRef((e,t)=>{let{__scopeProgress:i,...n}=e,s=c(u,i);return(0,r.jsx)(a.div,{"data-state":p(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});function m(e,t){return`${Math.round(e/t*100)}%`}function p(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function h(e){return"number"==typeof e}function y(e){return h(e)&&!isNaN(e)&&e>0}function g(e,t){return h(e)&&!isNaN(e)&&e<=t&&e>=0}f.displayName=u,e.s(["Indicator",()=>f,"Progress",()=>d,"ProgressIndicator",()=>f,"Root",()=>d,"createProgressScope",()=>o],676027)},168148,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(676027),a=e.i(975157);let n=r.forwardRef(({className:e,value:r,...n},s)=>(0,t.jsx)(i.Root,{ref:s,className:(0,a.cn)("relative h-4 w-full overflow-hidden rounded-full bg-gray-200",e),...n,children:(0,t.jsx)(i.Indicator,{className:"h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`,backgroundColor:"#16a34a"}})}));n.displayName=i.Root.displayName,e.s(["Progress",()=>n])},975558,425063,e=>{"use strict";var t=e.i(475254);let r=(0,t.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>r],975558);let i=(0,t.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>i],425063)},669469,e=>{"use strict";var t=e.i(843476);let r=(0,e.i(475254).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",0,({imageUrl:e,alt:i,size:a="md"})=>{let n="sm"===a?"w-10 h-10":"w-12 h-12";return e?(0,t.jsx)("img",{src:e,alt:i,className:`${n} object-cover rounded-md`}):(0,t.jsx)("div",{className:`${n} bg-gray-100 flex items-center justify-center rounded-md`,children:(0,t.jsx)(r,{size:"sm"===a?16:18,className:"text-gray-400"})})}],669469)},503116,e=>{"use strict";let t=(0,e.i(475254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],503116)},44686,e=>{"use strict";var t=e.i(271645),r=e.i(422713),i=e.i(37451),a=e.i(654550),n=e.i(172720),s=e.i(489855),o=e.i(933289),l=e.i(752304),c=e.i(634076);e.s(["useStockHistory",0,(e,d)=>{let[u,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(!0),{currentBusiness:h}=(0,r.useBusiness)(),y=(0,t.useCallback)(async()=>{if(!e||!h){f([]),p(!1);return}try{p(!0);let e=await (0,i.getStockHistoryAction)(h.id,d);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch stock history");let t=e.data.map(e=>({id:e.id,productId:e.productId,oldQuantity:e.oldQuantity,newQuantity:e.newQuantity,changeReason:e.changeReason,createdAt:new Date(e.createdAt),referenceId:e.referenceId,receiptNumber:e.receiptNumber,product:e.product}));f(t)}catch(e){console.error("Error loading stock history:",e)}finally{p(!1)}},[e,h?.id,d]);return(0,t.useEffect)(()=>{y()},[y]),{stockHistory:u,isLoading:m,createStockHistoryEntry:async(t,r,i,n,s,o,l,c)=>{try{if(!e||!h)return!1;let d=c?`[${c}] | ${n}`:n,u=await (0,a.createStockHistoryAction)({userId:e,locationId:h.id,productId:t,previousQuantity:r,newQuantity:i,changeReason:d,referenceId:s,receiptNumber:l,createdAt:o?.toISOString()});if(!u.success)return console.error("Error creating stock history entry:",u.error),!1;return await y(),!0}catch(e){return console.error("Error creating stock history:",e),!1}},deleteMultipleStockHistoryEntriesByReference:async e=>{try{if(!h)return!1;let t=await (0,s.deleteStockHistoryEntriesByReferenceAction)(e,h.id);if(!t.success)throw Error(t.error);return await y(),!0}catch(e){return console.error("Error deleting stock history entries:",e),!1}},recalculateStockChain:async e=>{try{if(!h)return!1;let t=await (0,n.recalculateStockChainAction)(e,h.id);if(!t.success)throw Error(t.error);return await y(),!0}catch(e){return console.error("Error recalculating stock chain:",e),!1}},updateStockHistoryDatesBySaleId:async(e,t)=>{try{if(!h)return!1;let r=await (0,o.updateStockHistoryDatesByReferenceAction)(e,h.id,t.toISOString());if(!r.success)throw Error(r.error);return await y(),!0}catch(e){return console.error("Error updating stock history dates:",e),!1}},repairAllStockChains:async e=>{try{if(!h)return{repaired:0,failed:0};let e=await (0,l.repairStockChainsAction)(h.id);if(e.success&&e.data)return e.data;return{repaired:0,failed:0}}catch(e){return console.error("Error repairing all chains:",e),{repaired:0,failed:0}}},previewStockChainRepairs:async e=>{try{if(!h)return[];let e=await (0,c.getStockRepairsPreviewAction)(h.id);if(e.success&&e.data)return e.data;return[]}catch(e){return console.error("Error previewing repairs:",e),[]}},refreshHistory:y}}])},960014,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("7022b270c26116cc720c0fe09926fa8749c32b0ea9",t.callServer,void 0,t.findSourceMapURL,"getStockSummaryReportAction");e.s(["getStockSummaryReportAction",()=>r])},654550,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("40193ce83d40b7dbf7c2991866f6d090da71bf2f59",t.callServer,void 0,t.findSourceMapURL,"createStockHistoryAction");e.s(["createStockHistoryAction",()=>r])},752304,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("60a33152b65e6ef5593ff2b5c1d0a77d09216fe7e5",t.callServer,void 0,t.findSourceMapURL,"repairStockChainsAction");e.s(["repairStockChainsAction",()=>r])},634076,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("406e0d925bc965618c40bddb0b2011bea951e9b025",t.callServer,void 0,t.findSourceMapURL,"getStockRepairsPreviewAction");e.s(["getStockRepairsPreviewAction",()=>r])},908962,224410,e=>{"use strict";var t=e.i(271645),r=e.i(160615),i=e.i(422713),a=e.i(266027),n=e.i(912598);let s=e=>{let t=Object.keys(localStorage),r=["allProductsStats_","stockSummary_","soldItems_","dashboardData_","analyticsData_"],i=0;t.forEach(e=>{r.some(t=>e.startsWith(t))&&(localStorage.removeItem(e),i++)}),i>0&&console.log(`[Cache] Cleared ${i} inventory-related localStorage entries.`),e&&(console.log("[Cache] Invalidating React Query inventory keys..."),e.invalidateQueries({queryKey:["inventory_global_stats"]}),e.invalidateQueries({queryKey:["stockSummary"]}),e.invalidateQueries({queryKey:["products"]}),e.invalidateQueries({queryKey:["sales"]}),e.invalidateQueries({queryKey:["all-products-for-scanner"]}),e.invalidateQueries({queryKey:["all-products"]}))};e.s(["clearInventoryCaches",0,s],224410);var o=e.i(555781);e.s(["useProducts",0,(e,l=50)=>{let[c,d]=(0,t.useState)([]),[u,f]=(0,t.useState)(1),[m,p]=(0,t.useState)(l),[h,y]=(0,t.useState)(0),[g,v]=(0,t.useState)(!1),{settings:x}=(0,r.useBusinessSettings)(),{currentBusiness:b}=(0,i.useBusiness)(),w=(0,n.useQueryClient)(),[j,k]=(0,t.useState)({search:"",category:"all",stockStatus:"all"}),[N,S]=(0,t.useState)(null),C=(0,t.useCallback)(e=>{e.search!==j.search&&(v(!0),N&&clearTimeout(N),S(setTimeout(()=>{v(!1)},600))),k(e)},[j.search,N]),P=(0,t.useCallback)(async()=>{if(!e||!b)return{products:[],count:0};try{return await (0,o.getProductsAction)({userId:e,businessId:b.id,page:u,pageSize:m,search:j.search,category:"all"===j.category?void 0:j.category,stockStatus:j.stockStatus})}catch(e){return console.error("Error loading products from server action:",e),{products:[],count:0}}},[e,b?.id,u,m,j.search,j.category,j.stockStatus]),A=(0,t.useMemo)(()=>["products",e,b?.id],[e,b?.id]),O=(0,t.useMemo)(()=>[...A,u,m,j.search,j.category,j.stockStatus],[A,u,m,j.search,j.category,j.stockStatus]),{data:D,isLoading:E,isFetching:R,refetch:T}=(0,a.useQuery)({queryKey:O,queryFn:P,enabled:!!e&&!!b?.id,staleTime:3e4,gcTime:18e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0});(0,t.useEffect)(()=>{D&&(d(D.products),y(D.count))},[D]);let I=async t=>{try{if(!e)return null;return console.warn("Image upload redirecting to server action (TODO)"),null}catch(e){return console.error("Error in uploadProductImage:",e),null}};return{products:c,isLoading:E&&!D&&!g,loadProducts:P,page:u,setPage:f,pageSize:m,setPageSize:p,totalCount:h,createProduct:async t=>{try{if(!e||!b)return null;let r=await (0,o.createProductAction)({...t,userId:e,businessId:b.id});if(!r)return null;return d(e=>[r,...e]),y(e=>e+1),w.invalidateQueries({queryKey:A}),s(w),r}catch(e){return console.error("Error creating product:",e),null}},updateProduct:async(t,r,i,a=!1,n,l,c,d)=>{try{if(!e||!b)return!1;let l=r.imageUrl;if(i&&(l=await I(i)),!await (0,o.updateProductAction)(t,{...r,imageUrl:l,userId:e,businessId:b.id,isFromSale:a,customChangeReason:n,referenceId:c}))return!1;return w.invalidateQueries({queryKey:A}),s(w),!0}catch(e){return console.error("Error updating product:",e),!1}},updateProductsBulk:async(t,r,i,a,n,l)=>{try{if(!e||!b)return!1;let r=await (0,o.updateProductsBulkAction)(t.map(e=>({id:e.id,updated:e.updated})),b.id);return r&&(w.invalidateQueries({queryKey:A}),s(w)),r}catch(e){return console.error("Error in bulk update:",e),!1}},deleteProduct:async t=>{try{if(!e)return!1;if(await (0,o.deleteProductAction)(t))return w.invalidateQueries({queryKey:A}),s(w),!0;return!1}catch(e){return console.error("Error deleting product:",e),!1}},uploadProductImage:I,refetch:T,isFetching:R,filters:j,setFilters:C}}],908962)},555781,(e,t,r)=>{let i=Error("Could not parse module '[project]/src/app/actions/products.ts'\n\n'import', and 'export' cannot be used outside of module code");throw i.code="MODULE_UNPARSABLE",i},160615,e=>{"use strict";var t=e.i(271645),r=e.i(266027),i=e.i(908406),a=e.i(422713),n=e.i(95187);let s=(0,n.createServerReference)("40290a4fc6b8571a026afeb877566edb807919e482",n.callServer,void 0,n.findSourceMapURL,"getBusinessSettingsAction");var o=e.i(709239);let l=()=>({businessName:"",businessAddress:"",businessPhone:"",businessEmail:"",currency:"UGX",paymentInfo:"",defaultPrintFormat:"standard"});e.s(["convertPaymentMethodsToString",0,e=>e.filter(e=>""!==e.method.trim()||""!==e.accountNumber.trim()||""!==e.accountName.trim()).map(e=>`${e.method}
${e.accountNumber}
${e.accountName}`).join("\n"),"parsePaymentInfo",0,e=>{if(!e||""===e.trim())return[];let t=e.split("\n").filter(e=>""!==e.trim()),r=[];for(let e=0;e<t.length;e+=3)e+2<t.length&&r.push({method:t[e].trim(),accountNumber:t[e+1].trim(),accountName:t[e+2].trim()});return r},"useBusinessSettings",0,()=>{let[e,n]=(0,t.useState)(l()),[c,d]=(0,t.useState)(!1),{toast:u}=(0,i.useToast)(),{currentBusiness:f}=(0,a.useBusiness)(),m=async()=>{if(!f)return l();try{let e=await s(f.id);if(!e)return l();{let t=e.metadata&&"object"==typeof e.metadata&&e.metadata.payment_info||"";return{id:e.id,businessName:e.business_name||"",businessAddress:e.business_address||"",businessPhone:e.business_phone||"",businessEmail:e.business_email||"",businessLogo:e.business_logo||void 0,currency:e.currency||"UGX",signature:e.signature||void 0,paymentInfo:t,defaultPrintFormat:e.metadata&&"object"==typeof e.metadata&&e.metadata.default_print_format||"standard",defaultPrinterName:e.metadata&&"object"==typeof e.metadata&&e.metadata.default_printer_name||"",defaultPrinterType:e.metadata&&"object"==typeof e.metadata&&e.metadata.default_printer_type||"USB",printerPaperSize:e.metadata&&"object"==typeof e.metadata&&e.metadata.printer_paper_size||"58mm"}}}catch(e){return console.error("Error loading business settings:",e),u({title:"Error",description:"Failed to load business settings. Please try again.",variant:"destructive"}),l()}},p=async t=>{if(!f)return console.error("No business selected for updating settings"),u({title:"Error",description:"No business selected",variant:"destructive"}),!1;try{let r={payment_info:t.hasOwnProperty("paymentInfo")?t.paymentInfo:e.paymentInfo||"",default_print_format:t.hasOwnProperty("defaultPrintFormat")?t.defaultPrintFormat:e.defaultPrintFormat||"standard",default_printer_name:t.hasOwnProperty("defaultPrinterName")?t.defaultPrinterName:e.defaultPrinterName||"",default_printer_type:t.hasOwnProperty("defaultPrinterType")?t.defaultPrinterType:e.defaultPrinterType||"USB",printer_paper_size:t.hasOwnProperty("printerPaperSize")?t.printerPaperSize:e.printerPaperSize||"58mm"},i={business_name:t.hasOwnProperty("businessName")?t.businessName:e.businessName,business_address:t.hasOwnProperty("businessAddress")?t.businessAddress:e.businessAddress,business_phone:t.hasOwnProperty("businessPhone")?t.businessPhone:e.businessPhone,business_email:t.hasOwnProperty("businessEmail")?t.businessEmail:e.businessEmail,business_logo:t.hasOwnProperty("businessLogo")?t.businessLogo:e.businessLogo,currency:t.hasOwnProperty("currency")?t.currency:e.currency,signature:t.hasOwnProperty("signature")?t.signature:e.signature,metadata:r},a=await (0,o.upsertBusinessSettingsAction)(f.id,"00000000-0000-0000-0000-000000000000",i);if(!a.success)throw console.error("Supabase error updating business settings:",a.error),Error(a.error);return u({title:"Success",description:"Business settings updated successfully"}),v(),!0}catch(e){return console.error("Error updating business settings:",e),u({title:"Error",description:"Failed to update business settings. Please try again.",variant:"destructive"}),!1}},{data:h,isLoading:y,isFetching:g,refetch:v}=(0,r.useQuery)({queryKey:["businessSettings",f?.id],queryFn:m,enabled:!!f?.id,staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return(0,t.useEffect)(()=>{h?n(h):f||n(l())},[h,f]),(0,t.useEffect)(()=>{d(y||g)},[y,g]),{settings:e,isLoading:c,updateSettings:p,loadSettings:m}}],160615)},63209,e=>{"use strict";let t=(0,e.i(475254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},303281,e=>{"use strict";let t=(0,e.i(475254).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["Printer",()=>t],303281)},37451,172720,489855,933289,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("6055d418bbb34217108fb09f6c6e07a1977765bffb",t.callServer,void 0,t.findSourceMapURL,"getStockHistoryAction");e.s(["getStockHistoryAction",()=>r],37451);let i=(0,t.createServerReference)("60b4fb287dfbc2b628cca363587f00d76a36f3623b",t.callServer,void 0,t.findSourceMapURL,"recalculateStockChainAction");e.s(["recalculateStockChainAction",()=>i],172720);let a=(0,t.createServerReference)("60428e59105c2448bb202e52e31bf2d4492d8468f7",t.callServer,void 0,t.findSourceMapURL,"deleteStockHistoryEntriesByReferenceAction");e.s(["deleteStockHistoryEntriesByReferenceAction",()=>a],489855);let n=(0,t.createServerReference)("70e0c90d8c965637b3ae61b1f0dd8fc9a41ea083d6",t.callServer,void 0,t.findSourceMapURL,"updateStockHistoryDatesByReferenceAction");e.s(["updateStockHistoryDatesByReferenceAction",()=>n],933289)},532436,712654,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("4035262824370ccd2af8788671f3cc8435d165a93b",t.callServer,void 0,t.findSourceMapURL,"getActivityByEntityIdsAction");e.s(["getActivityByEntityIdsAction",()=>r],532436);let i=(0,t.createServerReference)("60eb8a3f21a0957ca35a2a3606c2b8e1d21977469d",t.callServer,void 0,t.findSourceMapURL,"updateStockHistoryDatesAction");e.s(["updateStockHistoryDatesAction",()=>i],712654)},598130,390326,872716,656080,e=>{"use strict";var t=e.i(95187);let r=(0,t.createServerReference)("60048cacdf8f6ab02d12e637338fb3a82838e3ab18",t.callServer,void 0,t.findSourceMapURL,"getRequisitionsAction");e.s(["getRequisitionsAction",()=>r],598130);let i=(0,t.createServerReference)("40e343dbe89cc3fb8304b10c9c62480d17ad426333",t.callServer,void 0,t.findSourceMapURL,"createRequisitionAction");e.s(["createRequisitionAction",()=>i],390326);let a=(0,t.createServerReference)("701e152aafbc4d4daee38965467b93e083a6e967b4",t.callServer,void 0,t.findSourceMapURL,"updateRequisitionAction");e.s(["updateRequisitionAction",()=>a],872716);let n=(0,t.createServerReference)("605622308fa711a2f7465dc0a63c7e00dbe7c0418e",t.callServer,void 0,t.findSourceMapURL,"deleteRequisitionAction");e.s(["deleteRequisitionAction",()=>n],656080)},899426,e=>{"use strict";e.s(["matchProductSearch",0,(e,t)=>{if(!t||!t.trim())return!0;let r=t.toLowerCase().trim().split(/\s+/),i=[String(e.name||""),String(e.description||""),String(e.category||""),String(e.supplier||""),String(e.itemNumber||""),String(e.barcode||""),String(e.manufacturerBarcode||"")].map(e=>e.toLowerCase());return r.every(e=>i.some(t=>t.includes(e)))}])},635408,e=>{"use strict";let t=(0,e.i(475254).default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);e.s(["TrendingDown",()=>t],635408)},338374,e=>{"use strict";var t=e.i(843476),r=e.i(302747);e.s(["default",0,()=>(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(r.Skeleton,{className:"h-8 w-48 mb-2"}),(0,t.jsx)(r.Skeleton,{className:"h-4 w-64"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.Skeleton,{className:"h-9 w-9"}),(0,t.jsx)(r.Skeleton,{className:"h-9 w-24"}),(0,t.jsx)(r.Skeleton,{className:"h-9 w-32"})]})]}),(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(r.Skeleton,{className:"h-10 w-full max-w-md"})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,i)=>(0,t.jsx)(r.Skeleton,{className:"h-24"},i))})}),(0,t.jsx)(r.Skeleton,{className:"h-64 mb-6"}),(0,t.jsx)(r.Skeleton,{className:"h-96"})]})])},975252,658512,e=>{"use strict";var t=e.i(843476),r=e.i(519455),i=e.i(87316),a=e.i(337822),n=e.i(227766),s=e.i(401851);e.s(["default",0,({dateRange:e,onDateRangeChange:o})=>(0,t.jsxs)("div",{className:"flex items-center space-x-2",onClick:e=>{e.stopPropagation()},children:[(0,t.jsxs)(a.Popover,{children:[(0,t.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",className:"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal",children:[(0,t.jsx)(i.Calendar,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.from?(0,s.format)(e.from,"MMM d, yyyy"):"Start Date"})]})}),(0,t.jsx)(a.PopoverContent,{className:"w-auto p-0 z-[100] bg-white shadow-lg",align:"start",children:(0,t.jsx)(n.Calendar,{initialFocus:!0,mode:"single",defaultMonth:e?.from,selected:e?.from,onSelect:t=>o({...e,from:t}),className:"p-3 pointer-events-auto",showOutsideDays:!0})})]}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"to"}),(0,t.jsxs)(a.Popover,{children:[(0,t.jsx)(a.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",className:"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal",children:[(0,t.jsx)(i.Calendar,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.to?(0,s.format)(e.to,"MMM d, yyyy"):"End Date"})]})}),(0,t.jsx)(a.PopoverContent,{className:"w-auto p-0 z-[100] bg-white shadow-lg",align:"start",children:(0,t.jsx)(n.Calendar,{initialFocus:!0,mode:"single",defaultMonth:e?.to,selected:e?.to,onSelect:t=>o({...e,to:t}),className:"p-3 pointer-events-auto",showOutsideDays:!0})})]})]})],975252);var o=e.i(271645),l=e.i(373375),c=e.i(463059),d=(e.i(541071),e.i(975157));let u=({className:e,...r})=>(0,t.jsx)("nav",{role:"navigation","aria-label":"pagination",className:(0,d.cn)("mx-auto flex w-full justify-center",e),...r});u.displayName="Pagination";let f=o.forwardRef(({className:e,...r},i)=>(0,t.jsx)("ul",{ref:i,className:(0,d.cn)("flex flex-row items-center gap-1",e),...r}));f.displayName="PaginationContent";let m=o.forwardRef(({className:e,...r},i)=>(0,t.jsx)("li",{ref:i,className:(0,d.cn)("",e),...r}));m.displayName="PaginationItem";let p=({className:e,isActive:i,size:a="icon",...n})=>(0,t.jsx)("a",{"aria-current":i?"page":void 0,className:(0,d.cn)((0,r.buttonVariants)({variant:i?"outline":"ghost",size:a}),e),...n});p.displayName="PaginationLink";let h=({className:e,...r})=>(0,t.jsxs)(p,{"aria-label":"Go to previous page",size:"default",className:(0,d.cn)("gap-1 pl-2.5",e),...r,children:[(0,t.jsx)(l.ChevronLeft,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Previous"})]});h.displayName="PaginationPrevious";let y=({className:e,...r})=>(0,t.jsxs)(p,{"aria-label":"Go to next page",size:"default",className:(0,d.cn)("gap-1 pr-2.5",e),...r,children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(c.ChevronRight,{className:"h-4 w-4"})]});y.displayName="PaginationNext",e.s(["Pagination",()=>u,"PaginationContent",()=>f,"PaginationItem",()=>m,"PaginationLink",()=>p,"PaginationNext",()=>y,"PaginationPrevious",()=>h],658512)},27365,e=>{"use strict";let t=(0,e.i(475254).default)("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);e.s(["FileDown",()=>t],27365)},122812,e=>{"use strict";var t=e.i(271645);function r({items:e,itemsPerPage:r=20}){let[i,a]=(0,t.useState)(1),n=(0,t.useMemo)(()=>Math.max(1,Math.ceil(e.length/r)),[e,r]);(0,t.useMemo)(()=>{i>n&&a(n)},[n,i]);let s=(0,t.useMemo)(()=>{let t=(i-1)*r;return e.slice(t,t+r)},[e,i,r]);return{currentPage:i,setCurrentPage:a,paginatedItems:s,totalPages:n}}e.s(["usePagination",()=>r])},318585,e=>{"use strict";var t=e.i(843476),r=e.i(658512);e.s(["default",0,({currentPage:e,totalPages:i,onPageChange:a})=>{let n=[];if(i<=3)for(let e=1;e<=i;e++)n.push(e);else{n.push(1);let t=Math.max(2,e-1),r=Math.min(i-1,e+1);r-t+1<1&&(e<i/2?r=Math.min(i-1,t+3-3):t=Math.max(2,r-3+3)),t>2&&n.push("...");for(let e=t;e<=r;e++)n.push(e);r<i-1&&n.push("..."),n.push(i)}return i<=1?null:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-2 sm:gap-4",children:[(0,t.jsxs)("div",{className:"text-xs sm:text-sm text-muted-foreground order-2 sm:order-1",children:["Page ",e," of ",i]}),(0,t.jsx)(r.Pagination,{className:"mx-0 order-1 sm:order-2",children:(0,t.jsxs)(r.PaginationContent,{className:"gap-1",children:[(0,t.jsx)(r.PaginationItem,{children:(0,t.jsx)(r.PaginationPrevious,{onClick:()=>a(Math.max(1,e-1)),className:`h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm ${1===e?"pointer-events-none opacity-50":"cursor-pointer"}`})}),n.map((i,n)=>(0,t.jsx)(r.PaginationItem,{className:"hidden sm:block",children:"..."===i?(0,t.jsx)("span",{className:"px-3 py-2 text-sm",children:"..."}):(0,t.jsx)(r.PaginationLink,{isActive:e===i,onClick:()=>a(Number(i)),className:"h-8 sm:h-9 w-8 sm:w-9 text-xs sm:text-sm",children:i})},n)),(0,t.jsx)(r.PaginationItem,{className:"sm:hidden",children:(0,t.jsx)("span",{className:"h-8 w-8 flex items-center justify-center text-xs font-medium",children:e})}),(0,t.jsx)(r.PaginationItem,{children:(0,t.jsx)(r.PaginationNext,{onClick:()=>a(Math.min(i,e+1)),className:`h-8 sm:h-9 px-2 sm:px-3 text-xs sm:text-sm ${e===i?"pointer-events-none opacity-50":"cursor-pointer"}`})})]})})]})}])},840710,e=>{"use strict";var t=e.i(102594),r=e.i(422713),i=e.i(266027),a=e.i(912598),n=e.i(960014);e.s(["useStockSummaryData",0,e=>{let{user:s}=(0,t.useAuth)(),{currentBusiness:o}=(0,r.useBusiness)(),l=(0,a.useQueryClient)(),c=async()=>{if(!s?.id||!o?.id||!e?.from||!e?.to)return[];try{let t=await (0,n.getStockSummaryReportAction)(o.id,e.from.toISOString(),e.to.toISOString());if(t.success&&t.data)return t.data;throw Error(t.error)}catch(e){throw console.error("[StockSummary] Error fetching report:",e.message),e}},{data:d=[],isLoading:u,refetch:f}=(0,i.useQuery)({queryKey:["stockSummary",o?.id,e.from?.toISOString(),e.to?.toISOString()],queryFn:c,enabled:!!s?.id&&!!o?.id&&!!e?.from&&!!e?.to,staleTime:3e5,gcTime:18e5});return{stockSummaryData:d,isLoading:u,loadStockSummaryData:f,clearCache:()=>{l.invalidateQueries({queryKey:["stockSummary"]})},clearAllLocationCaches:()=>{l.invalidateQueries({queryKey:["stockSummary"]})}}}])},21722,505883,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(776639),a=e.i(519455),n=e.i(793479),s=e.i(110204),o=e.i(401851),l=e.i(908406),c=e.i(777624);e.s(["default",0,({open:e,onOpenChange:d,entry:u,onConfirm:f,isInitialStock:m=!1,stockHistory:p=[],productCreatedAt:h})=>{let[y,g]=(0,r.useState)(0),[v,x]=(0,r.useState)(""),[b,w]=(0,r.useState)(!1),[j,k]=(0,r.useState)(""),{toast:N}=(0,l.useToast)(),{hasPermission:S}=(0,c.useProfiles)();(0,r.useEffect)(()=>{u&&(g(u.newQuantity-u.oldQuantity),x(u.changeReason),k(""))},[u]);let C=(e,t)=>t<0&&e>0?"Cannot change from negative to positive value.":t>0&&e<0?"Cannot change from positive to negative value.":"",P=e=>{if(""===e){g(""),k("");return}let t=parseInt(e)||0,r=C(t,""===y?0:y);r?k(r):(g(t),k(""))},A=async(e=!1)=>{if(!u)return;let t=""===y?0:y,r=C(t,u.newQuantity-u.oldQuantity);if(r)return void N({title:"Invalid quantity change",description:r,variant:"destructive"});let i=u.oldQuantity+t;if(!v.trim())return void N({title:"Invalid reason",description:"Please provide a reason for this stock change",variant:"destructive"});w(!0);try{await f(u.id,i,v.trim())?(N({title:"Stock history updated",description:"The stock history entry has been updated successfully."}),d(!1)):N({title:"Update failed",description:"Failed to update stock history entry. Please try again.",variant:"destructive"})}catch(e){console.error("Error updating stock history:",e),N({title:"Error",description:"An error occurred while updating the stock history.",variant:"destructive"})}finally{w(!1)}},O=()=>{d(!1)};if(!u)return null;if(m)return(0,t.jsx)(i.Dialog,{open:e,onOpenChange:d,children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{children:"Edit Initial Stock Entry"}),(0,t.jsx)(i.DialogDescription,{children:"This is the initial stock entry. You can modify quantity, reason, and date, but the date must be earlier than all other stock transactions."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"quantity",children:"Quantity Change"}),(0,t.jsx)(n.Input,{id:"quantity",type:"number",value:y,onChange:e=>P(e.target.value),className:j?"border-destructive border-2 bg-destructive/5 focus:border-destructive focus:ring-destructive":""}),j&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"reason",children:"Change Reason"}),(0,t.jsx)(n.Input,{id:"reason",value:v,onChange:e=>x(e.target.value),placeholder:"Enter reason for stock change"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:O,disabled:b,children:"Cancel"}),(0,t.jsx)(a.Button,{onClick:()=>A(),disabled:b||!S("inventory","stock_adjustment"),children:b?"Updating...":"Update Entry"})]})]})});if(["Sale","Delete sale","Deleted Sale","Sale qty edit"].some(e=>u.changeReason.toLowerCase().includes(e.toLowerCase())))return(0,t.jsx)(i.Dialog,{open:e,onOpenChange:d,children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{children:"Cannot Edit Sale-Related Entry"}),(0,t.jsx)(i.DialogDescription,{children:"This stock history entry was created by a sales operation and can only be modified through the Edit Sale form."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Entry Details:"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",(0,o.format)(u.createdAt,"PPP p")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Change:"})," ",u.oldQuantity,"  ",u.newQuantity]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Reason:"})," ",u.changeReason.replace("Deleted sale","Deleted Sale")]})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:(0,t.jsxs)("div",{className:"text-blue-800 text-sm",children:[(0,t.jsx)("strong",{children:"Note:"})," To modify this entry, please use the Edit Sale form in the Sales section."]})})]}),(0,t.jsx)("div",{className:"flex justify-end gap-2 mt-6",children:(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>d(!1),children:"Close"})})]})});let D=u.newQuantity-u.oldQuantity,E=""===y?0:y,R=u.oldQuantity+E;return(0,t.jsx)(i.Dialog,{open:e,onOpenChange:d,children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsx)(i.DialogTitle,{children:"Edit Stock History Entry"}),(0,t.jsx)(i.DialogDescription,{children:"Modify the details of this stock history entry. The product's current stock will be recalculated after saving."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.Label,{className:"text-muted-foreground",children:"Original"}),(0,t.jsxs)("div",{className:"font-medium",children:[u.oldQuantity,"  ",u.newQuantity]}),(0,t.jsxs)("div",{className:`text-xs ${D>=0?"text-green-600":"text-red-600"}`,children:[D>=0?"+":"",D]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(s.Label,{className:"text-muted-foreground",children:"New"}),(0,t.jsxs)("div",{className:"font-medium",children:[u.oldQuantity,"  ",R]}),(0,t.jsxs)("div",{className:`text-xs ${E>=0?"text-green-600":"text-red-600"}`,children:[E>=0?"+":"",E]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"quantity",children:"Quantity Change"}),(0,t.jsx)(n.Input,{id:"quantity",type:"number",value:y,onChange:e=>P(e.target.value),className:j?"border-destructive border-2 bg-destructive/5 focus:border-destructive focus:ring-destructive":""}),u&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[" ",(""===y?0:y)<0?"Current change is negative - you cannot change to positive values":"Current change is positive - you cannot change to negative values"]}),j&&(0,t.jsx)("p",{className:"text-sm text-destructive",children:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(s.Label,{htmlFor:"reason",children:"Change Reason"}),(0,t.jsx)(n.Input,{id:"reason",value:v,onChange:e=>x(e.target.value),placeholder:"Enter reason for stock change"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-6",children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:O,disabled:b,children:"Cancel"}),(0,t.jsx)(a.Button,{onClick:()=>A(),disabled:b||!S("inventory","stock_adjustment"),children:b?"Updating...":"Update Entry"})]})]})})}],21722);var d=e.i(868499),u=e.i(878894);e.s(["default",0,({open:e,onOpenChange:i,entry:a,onConfirm:n})=>{let[s,c]=(0,r.useState)(!1),{toast:f}=(0,l.useToast)(),m=async()=>{if(a){c(!0);try{await n(a.id)?(f({title:"Stock history deleted",description:"The stock history entry has been deleted and stock recalculated."}),i(!1)):f({title:"Delete failed",description:"Failed to delete stock history entry. Please try again.",variant:"destructive"})}catch(e){console.error("Error deleting stock history:",e),f({title:"Error",description:"An error occurred while deleting the stock history.",variant:"destructive"})}finally{c(!1)}}};if(!a)return null;if(["Sale","Delete sale","Deleted Sale","Sale qty edit"].some(e=>a.changeReason.toLowerCase().includes(e.toLowerCase())))return(0,t.jsx)(d.AlertDialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(d.AlertDialogContent,{children:[(0,t.jsxs)(d.AlertDialogHeader,{children:[(0,t.jsxs)(d.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.AlertTriangle,{className:"h-5 w-5 text-blue-600"}),"Cannot Delete Sale-Related Entry"]}),(0,t.jsxs)(d.AlertDialogDescription,{className:"space-y-3",children:[(0,t.jsx)("p",{children:"This stock history entry was created by a sales operation and cannot be deleted directly."}),(0,t.jsxs)("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Entry Details:"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",(0,o.format)(a.createdAt,"PPP p")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Change:"})," ",a.oldQuantity,"  ",a.newQuantity]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Reason:"})," ",a.changeReason.replace("Deleted sale","Deleted Sale")]})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-3 rounded-lg",children:(0,t.jsxs)("div",{className:"text-blue-800 text-sm",children:[(0,t.jsx)("strong",{children:"Note:"})," To remove this entry, please edit or delete the corresponding sale in the Sales section."]})})]})]}),(0,t.jsx)(d.AlertDialogFooter,{children:(0,t.jsx)(d.AlertDialogCancel,{children:"Close"})})]})});let p=a.newQuantity-a.oldQuantity;return(0,t.jsx)(d.AlertDialog,{open:e,onOpenChange:i,children:(0,t.jsxs)(d.AlertDialogContent,{children:[(0,t.jsxs)(d.AlertDialogHeader,{children:[(0,t.jsxs)(d.AlertDialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.AlertTriangle,{className:"h-5 w-5 text-destructive"}),"Delete Stock History Entry"]}),(0,t.jsxs)(d.AlertDialogDescription,{className:"space-y-3",children:[(0,t.jsx)("p",{children:"Are you sure you want to delete this stock history entry? This action cannot be undone."}),(0,t.jsxs)("div",{className:"bg-muted p-3 rounded-lg space-y-2",children:[(0,t.jsx)("div",{className:"font-medium",children:"Entry Details:"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Date:"})," ",(0,o.format)(a.createdAt,"PPP p")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Change:"})," ",a.oldQuantity,"  ",a.newQuantity]}),(0,t.jsxs)("div",{className:`${p>=0?"text-green-600":"text-red-600"}`,children:[(0,t.jsx)("strong",{children:"Impact:"})," ",p>=0?"+":"",p," units"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"Reason:"})," ",a.changeReason.replace("Deleted sale","Deleted Sale")]})]})]}),(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-200 p-3 rounded-lg",children:(0,t.jsxs)("div",{className:"text-amber-800 text-sm",children:[(0,t.jsx)("strong",{children:"Warning:"})," After deletion, the product's current stock will be automatically recalculated based on the remaining stock history entries."]})})]})]}),(0,t.jsxs)(d.AlertDialogFooter,{children:[(0,t.jsx)(d.AlertDialogCancel,{disabled:s,children:"Cancel"}),(0,t.jsx)(d.AlertDialogAction,{onClick:m,disabled:s,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:s?"Deleting...":"Delete Entry"})]})]})})}],505883)},25652,e=>{"use strict";let t=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},727612,e=>{"use strict";let t=(0,e.i(475254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],727612)},487486,e=>{"use strict";var t=e.i(843476),r=e.i(225913),i=e.i(975157);let a=(0,r.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-600",success:"border-transparent bg-green-600 text-white hover:bg-green-700"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,t.jsx)("div",{className:(0,i.cn)(a({variant:r}),e),...n})}e.s(["Badge",()=>n])},688511,e=>{"use strict";let t=(0,e.i(475254).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],688511)},555436,e=>{"use strict";let t=(0,e.i(475254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],555436)},483969,e=>{"use strict";e.s(["generateProductCSVTemplate",0,()=>{let e=new Blob([["Product Name,Category,Description,Supplier,Creation Date,Initial Stock,Minimum Stock Level,Cost Price,Selling Price",...[['"Sample Product with, commas"',"Electronics",'"A detailed product description, with commas and other punctuation!"','"Supplier Name, Inc."',"15/01/2024","10","5","50.00","75.00"],["Simple Product Name","Home & Garden","Basic description without commas","Basic Supplier","2024-01-16","-5","0","-25.50","100.75"]].map(e=>e.join(","))].join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="product_template.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)},"generateTransactionCSVTemplate",0,()=>{let e=new Blob([["Date,Type,Amount,Description,Category,Payment Method,Person In Charge,To Account",...[["22/12/2025","cash_in","1500.00","Sales income from morning shift","Sales","Cash","John Doe",""],["22/12/2025","cash_out","200.50","Purchased cleaning supplies","Expenses","Cash","Jane Smith",""],["22/12/2025","transfer","5000.00","Moving funds to main safe","Internal","","Admin","Main Safe"]].map(e=>e.join(","))].join("\n")],{type:"text/csv"}),t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="transaction_template.csv",document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)}])},184244,e=>{"use strict";var t=e.i(843476),r=e.i(515288),i=e.i(488844),a=e.i(878894);let n=(0,e.i(475254).default)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var s=e.i(25652),o=e.i(212426),l=e.i(160615),c=e.i(975157),d=e.i(392401);e.s(["default",0,({products:e,hideStockValue:u=!1,totalCountOverride:f,totalCostValueOverride:m,lowStockOverride:p,outOfStockOverride:h,totalStockValueOverride:y})=>{let{settings:g}=(0,l.useBusinessSettings)(),{canViewCostPrice:v,canViewSellingPrice:x}=(0,d.useFinancialVisibility)(),b="number"==typeof f?f:e.length,w="number"==typeof p?p:e.filter(e=>e.quantity>0&&e.quantity<=e.minimumStock).length,j="number"==typeof h?h:e.filter(e=>0===e.quantity).length,k="number"==typeof m?m:e.reduce((e,t)=>e+t.costPrice*t.quantity,0),N="number"==typeof y?y:e.reduce((e,t)=>e+t.sellingPrice*t.quantity,0),S=e=>{let t=e.length;return t>15?"text-sm md:text-lg":t>12?"text-base md:text-xl":t>8?"text-lg md:text-xl":"text-lg md:text-2xl"};return(0,t.jsxs)("div",{className:`grid gap-3 md:gap-4 mb-6 ${u?"grid-cols-2 md:grid-cols-4":"grid-cols-2 md:grid-cols-3 xl:grid-cols-5"}`,children:[(0,t.jsx)(r.Card,{className:"overflow-hidden",children:(0,t.jsx)(r.CardContent,{className:"p-4 md:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"inline-flex h-8 w-8 md:h-10 md:w-10 shrink-0 items-center justify-center rounded-lg bg-blue-100 text-blue-500",children:(0,t.jsx)(i.Package,{className:"h-4 w-4 md:h-5 md:w-5"})}),(0,t.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 truncate",children:"Total Products"}),(0,t.jsx)("h3",{className:"text-lg md:text-2xl font-bold",children:b})]})]})})}),(0,t.jsx)(r.Card,{className:"overflow-hidden",children:(0,t.jsx)(r.CardContent,{className:"p-4 md:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"inline-flex h-8 w-8 md:h-10 md:w-10 shrink-0 items-center justify-center rounded-lg bg-amber-100 text-amber-500",children:(0,t.jsx)(a.AlertTriangle,{className:"h-4 w-4 md:h-5 md:w-5"})}),(0,t.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 truncate",children:"Low Stock"}),(0,t.jsx)("h3",{className:"text-lg md:text-2xl font-bold",children:w})]})]})})}),(0,t.jsx)(r.Card,{className:"overflow-hidden",children:(0,t.jsx)(r.CardContent,{className:"p-4 md:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"inline-flex h-8 w-8 md:h-10 md:w-10 shrink-0 items-center justify-center rounded-lg bg-red-100 text-red-500",children:(0,t.jsx)(n,{className:"h-4 w-4 md:h-5 md:w-5"})}),(0,t.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 truncate",children:"Out of Stock"}),(0,t.jsx)("h3",{className:"text-lg md:text-2xl font-bold",children:j})]})]})})}),(0,t.jsx)(r.Card,{className:"overflow-hidden",children:(0,t.jsx)(r.CardContent,{className:"p-4 md:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"inline-flex h-8 w-8 md:h-10 md:w-10 shrink-0 items-center justify-center rounded-lg bg-green-100 text-green-500",children:(0,t.jsx)(s.TrendingUp,{className:"h-4 w-4 md:h-5 md:w-5"})}),(0,t.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 truncate",children:"Cost Value"}),(0,t.jsx)("h3",{className:`${S(`${g.currency} ${(0,c.formatNumber)(k)}`)} font-bold break-all leading-tight`,children:v?`${g.currency} ${(0,c.formatNumber)(k)}`:""})]})]})})}),!u&&(0,t.jsx)(r.Card,{className:"overflow-hidden",children:(0,t.jsx)(r.CardContent,{className:"p-4 md:p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"inline-flex h-8 w-8 md:h-10 md:w-10 shrink-0 items-center justify-center rounded-lg bg-purple-100 text-purple-500",children:(0,t.jsx)(o.DollarSign,{className:"h-4 w-4 md:h-5 md:w-5"})}),(0,t.jsxs)("div",{className:"ml-3 md:ml-4 min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs md:text-sm font-medium text-gray-500 truncate",children:"Stock Value"}),(0,t.jsx)("h3",{className:`${S(`${g.currency} ${(0,c.formatNumber)(N)}`)} font-bold break-all leading-tight`,children:x?`${g.currency} ${(0,c.formatNumber)(N)}`:""})]})]})})})]})}],184244)},553366,e=>{"use strict";var t=e.i(271645),r=e.i(102594),i=e.i(908962),a=e.i(908482),n=e.i(846696);e.s(["useBulkProducts",0,()=>{let{user:e}=(0,r.useAuth)(),{createProduct:s}=(0,i.useProducts)(e?.id),{categories:o,createCategory:l}=(0,a.useCategories)(e?.id),[c,d]=(0,t.useState)(!1),u=async e=>{let t=o.map(e=>e.name.toLowerCase()),r=[...new Set(e.filter(e=>""!==e.trim()))].filter(e=>!t.includes(e.toLowerCase())),i=[],a=[];for(let e of r)try{await l(e)?i.push(e):a.push(e)}catch(t){console.error(`Failed to create category ${e}:`,t),a.push(e)}return{createdCategories:i,failedCategories:a}};return{bulkCreateProducts:async(t,r)=>{if(!e?.id)throw Error("User not authenticated");d(!0);let i=0,a=0,o=[];try{let e=t.map(e=>e.category).filter(Boolean);if(e.length>0){let{createdCategories:t,failedCategories:r}=await u(e);t.length>0&&n.toast.success(`Created ${t.length} new categories`),r.length>0&&n.toast.error(`Failed to create ${r.length} categories`)}for(let e=0;e<t.length;e++){let n=t[e];try{await s(n)?i++:(a++,o.push(`Failed to create product: ${n.name}`))}catch(e){a++,o.push(`Error creating ${n.name}: ${e}`),console.error(`Error creating product ${n.name}:`,e)}r&&r(i+a,t.length)}return!r&&(i>0&&n.toast.success(`Successfully created ${i} products`),a>0&&n.toast.error(`${a} products failed to upload`)),{successCount:i,failureCount:a,errors:o}}finally{d(!1)}},detectNewCategories:e=>{let t=o.map(e=>e.name.toLowerCase());return[...new Set(e.map(e=>e.category).filter(Boolean))].filter(e=>!t.includes(e.toLowerCase()))},isUploading:c}}])},649941,e=>{"use strict";var t=e.i(843476),r=e.i(168148),i=e.i(269638),a=e.i(63209),n=e.i(952571),s=e.i(929592);e.s(["BulkOperationProgress",0,({title:e,currentCount:o,totalCount:l,status:c,successCount:d,failureCount:u})=>{let f=Math.round(o/l*100);return(0,t.jsxs)("div",{className:"space-y-6 py-4",children:["processing"===c&&(0,t.jsxs)(s.Alert,{children:[(0,t.jsx)(n.Info,{className:"h-4 w-4"}),(0,t.jsx)(s.AlertDescription,{children:(0,t.jsx)("strong",{children:"Please do not close this tab or dialog until the process is complete."})})]}),(0,t.jsxs)("div",{className:"text-center space-y-4",children:["processing"===c?(0,t.jsx)("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-4 border-muted border-t-primary"}):"completed"===c?(0,t.jsx)(i.CheckCircle,{className:"mx-auto h-12 w-12 text-green-500"}):(0,t.jsx)(a.AlertCircle,{className:"mx-auto h-12 w-12 text-destructive"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:e}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"processing"===c?`Processing item ${o} of ${l}`:"completed"===c?`Successfully processed ${d??l} items${u?`, ${u} failed`:""}`:"The operation failed to complete."})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs font-medium text-muted-foreground",children:[(0,t.jsx)("span",{children:"Progress"}),(0,t.jsxs)("span",{children:[f,"%"]})]}),(0,t.jsx)(r.Progress,{value:f,className:"h-2 w-full"})]}),(void 0!==d||void 0!==u)&&"completed"===c&&(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,t.jsxs)("div",{className:"bg-green-50 border border-green-100 rounded-lg p-3 text-center",children:[(0,t.jsx)("div",{className:"text-xl font-bold text-green-700",children:d??0}),(0,t.jsx)("div",{className:"text-xs text-green-600 font-medium",children:"Successful"})]}),(0,t.jsxs)("div",{className:"bg-red-50 border border-red-100 rounded-lg p-3 text-center",children:[(0,t.jsx)("div",{className:"text-xl font-bold text-red-700",children:u??0}),(0,t.jsx)("div",{className:"text-xs text-red-600 font-medium",children:"Failed"})]})]})]})}])},501504,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(776639),a=e.i(519455),n=e.i(515288),s=e.i(929592),o=e.i(569074),l=e.i(178583),c=e.i(63209),d=e.i(440160),u=e.i(107233),f=e.i(444233),m=e.i(975157),p=e.i(487486),h=e.i(553366),y=e.i(649941);e.s(["default",0,({open:e,onOpenChange:g,onUpload:v,categories:x})=>{let{detectNewCategories:b,bulkCreateProducts:w}=(0,h.useBulkProducts)(),[j,k]=(0,r.useState)({step:"select",file:null,validRows:[],errors:[],totalRows:0,uploadProgress:0,successCount:0,failureCount:0,newCategories:[],currentProductIndex:0}),N=(0,r.useRef)(null),[S,C]=(0,r.useState)(!1),[P,A]=(0,r.useState)(!1),O=async e=>{if(!e.name.endsWith(".csv"))return void alert("Please select a CSV file");let t=await e.text(),r=(0,f.parseCSV)(t),i=b(r.validRows.map(D));k({...j,step:"preview",file:e,validRows:r.validRows,errors:r.errors,totalRows:r.totalRows,newCategories:i})},D=e=>{let t=new Date,r=e["Creation Date"];if(r){let e=r.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(e){let[,r,i,a]=e;t=new Date(parseInt(a),parseInt(i)-1,parseInt(r))}else{let e=new Date(r);isNaN(e.getTime())||(t=e)}}return{name:e["Product Name"],category:e.Category||"",description:e.Description||"",supplier:e.Supplier||"",quantity:e["Initial Stock"]?Number(e["Initial Stock"]):0,minimumStock:e["Minimum Stock Level"]?Number(e["Minimum Stock Level"]):void 0,costPrice:e["Cost Price"]?Number(e["Cost Price"]):void 0,sellingPrice:e["Selling Price"]?Number(e["Selling Price"]):void 0,manufacturerBarcode:e["Manufacturer Barcode"]||"",imageFile:null,imageUrl:null,createdAt:t}},E=async()=>{k(e=>({...e,step:"uploading",uploadProgress:0,currentProductIndex:0})),A(!0);let e=j.validRows.map(D);try{await w(e,(e,t)=>{let r=Math.round(e/t*100);k(t=>({...t,uploadProgress:r,currentProductIndex:e,successCount:e,failureCount:0}))}),k(t=>({...t,step:"complete",uploadProgress:100,successCount:e.length,failureCount:0,currentProductIndex:e.length}))}catch(t){console.error("Bulk upload failed:",t),k(t=>({...t,step:"complete",uploadProgress:100,successCount:0,failureCount:e.length,currentProductIndex:e.length}))}finally{A(!1)}};return(0,t.jsx)(i.Dialog,{open:e,onOpenChange:e=>{P||g(e)},children:(0,t.jsxs)(i.DialogContent,{className:"sm:max-w-[500px] pointer-events-auto",children:[(0,t.jsxs)(i.DialogHeader,{children:[(0,t.jsxs)(i.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.FileText,{className:"h-5 w-5"}),"Upload Products via CSV"]}),(0,t.jsx)(i.DialogDescription,{children:"Upload multiple products at once using a CSV file (DD/MM/YYYY date format)"})]}),"select"===j.step&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:(0,m.cn)("border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors",S?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),onDrop:e=>{e.preventDefault(),C(!1);let t=e.dataTransfer.files[0];t&&O(t)},onDragOver:e=>{e.preventDefault(),C(!0)},onDragLeave:()=>{C(!1)},onClick:()=>N.current?.click(),children:[(0,t.jsx)(o.Upload,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload CSV File"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Drag and drop your CSV file here, or click to browse"}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:"Supports all date formats | Accepts negative values | Use quotes for fields with commas"})]}),(0,t.jsx)("input",{ref:N,type:"file",accept:".csv",onChange:e=>{let t=e.target.files?.[0];t&&O(t)},className:"hidden"})]}),"preview"===j.step&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-6",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:j.validRows.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Valid products"})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-6",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:j.errors.length}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Errors found"})]})}),(0,t.jsx)(n.Card,{children:(0,t.jsxs)(n.CardContent,{className:"pt-6",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:j.totalRows}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total rows"})]})})]}),j.newCategories.length>0&&(0,t.jsxs)(s.Alert,{children:[(0,t.jsx)(u.Plus,{className:"h-4 w-4"}),(0,t.jsx)(s.AlertDescription,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:["The following ",j.newCategories.length," new categories will be created:"]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:j.newCategories.map((e,r)=>(0,t.jsx)(p.Badge,{variant:"outline",className:"text-xs",children:e},r))})]})})]}),j.errors.length>0&&(0,t.jsxs)(s.Alert,{variant:"destructive",children:[(0,t.jsx)(c.AlertCircle,{className:"h-4 w-4"}),(0,t.jsxs)(s.AlertDescription,{children:[j.errors.length," rows have errors and will be skipped.",(0,t.jsxs)(a.Button,{variant:"link",className:"p-0 h-auto ml-2",onClick:()=>(0,f.generateErrorLogCSV)(j.errors),children:[(0,t.jsx)(d.Download,{className:"h-3 w-3 mr-1"}),"Download error log"]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>k(e=>({...e,step:"select"})),children:"Back"}),(0,t.jsxs)(a.Button,{onClick:E,disabled:0===j.validRows.length,children:["Upload ",j.validRows.length," Products",j.newCategories.length>0&&` & Create ${j.newCategories.length} Categories`]})]})]}),"uploading"===j.step&&(0,t.jsx)(y.BulkOperationProgress,{title:"Uploading Products...",currentCount:j.currentProductIndex,totalCount:j.validRows.length,status:"processing"}),"complete"===j.step&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(y.BulkOperationProgress,{title:"Upload Complete!",currentCount:j.currentProductIndex,totalCount:j.validRows.length,status:j.failureCount>0?"failed":"completed",successCount:j.successCount,failureCount:j.failureCount}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(a.Button,{onClick:()=>{if(P)return;let e="complete"===j.step&&j.successCount>0;k({step:"select",file:null,validRows:[],errors:[],totalRows:0,uploadProgress:0,successCount:0,failureCount:0,newCategories:[],currentProductIndex:0}),g(!1),e&&setTimeout(()=>{window.location.reload()},100)},children:"Close"})})]})]})})}])},509694,785183,93230,872526,e=>{"use strict";var t=e.i(883966),r=e.i(475225),i=e.i(271645),a=e.i(207670),n=e.i(846710),s=e.i(448743),o=e.i(233258),l=e.i(271047),c=e.i(997865),d=e.i(209516),u=e.i(800494),f=e.i(794395),m=e.i(373393),p=e.i(781977),h=e.i(368431),y=e.i(562728),g=e.i(844171);function v(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var i=[],a=0;a<e.length;a+=t)if(void 0!==r&&!0!==r(e[a]))return;else i.push(e[a]);return i}function x(e,t,r,i,a){if(e*t<e*i||e*t>e*a)return!1;var n=r();return e*(t-e*n/2-i)>=0&&e*(t+e*n/2-a)<=0}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){var i,a,n;i=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=b(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}(a))in i?Object.defineProperty(i,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e,t,r){var i,a,n,o,l,c=e.tick,d=e.ticks,u=e.viewBox,m=e.minTickGap,p=e.orientation,b=e.interval,w=e.tickFormatter,k=e.unit,N=e.angle;if(!d||!d.length||!c)return[];if((0,f.isNumber)(b)||y.Global.isSsr)return v(d,("number"==typeof b&&(0,f.isNumber)(b)?b:0)+1);var S="top"===p||"bottom"===p?"width":"height",C=k&&"width"===S?(0,h.getStringSize)(k,{fontSize:t,letterSpacing:r}):{width:0,height:0},P=function(e,i){var a,n,o=(0,s.default)(w)?w(e.value,i):e.value;return"width"===S?(a=(0,h.getStringSize)(o,{fontSize:t,letterSpacing:r}),n={width:a.width+C.width,height:a.height+C.height},(0,g.getAngledRectangleWidth)(n,N)):(0,h.getStringSize)(o,{fontSize:t,letterSpacing:r})[S]},A=d.length>=2?(0,f.mathSign)(d[1].coordinate-d[0].coordinate):1,O=(i="width"===S,a=u.x,n=u.y,o=u.width,l=u.height,1===A?{start:i?a:n,end:i?a+o:n+l}:{start:i?a+o:n+l,end:i?a:n});return"equidistantPreserveStart"===b?function(e,t,r,i,a){for(var n,s=(i||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o;d<=s.length;)if(n=function(){var t,n=null==i?void 0:i[c];if(void 0===n)return{v:v(i,d)};var s=c,f=function(){return void 0===t&&(t=r(n,s)),t},m=n.coordinate,p=0===c||x(e,m,f,u,l);p||(c=0,u=o,d+=1),p&&(u=m+e*(f()/2+a),c+=d)}())return n.v;return[]}(A,O,P,d,m):("preserveStart"===b||"preserveStartEnd"===b?function(e,t,r,i,a,n){var s=(i||[]).slice(),o=s.length,l=t.start,c=t.end;if(n){var d=i[o-1],u=r(d,o-1),f=e*(d.coordinate+e*u/2-c);s[o-1]=d=j(j({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate}),x(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+a),s[o-1]=j(j({},d),{},{isShow:!0}))}for(var m=n?o-1:o,p=function(t){var i,n=s[t],o=function(){return void 0===i&&(i=r(n,t)),i};if(0===t){var d=e*(n.coordinate-e*o()/2-l);s[t]=n=j(j({},n),{},{tickCoord:d<0?n.coordinate-d*e:n.coordinate})}else s[t]=n=j(j({},n),{},{tickCoord:n.coordinate});x(e,n.tickCoord,o,l,c)&&(l=n.tickCoord+e*(o()/2+a),s[t]=j(j({},n),{},{isShow:!0}))},h=0;h<m;h++)p(h);return s}(A,O,P,d,m,"preserveStartEnd"===b):function(e,t,r,i,a){for(var n=(i||[]).slice(),s=n.length,o=t.start,l=t.end,c=function(t){var i,c=n[t],d=function(){return void 0===i&&(i=r(c,t)),i};if(t===s-1){var u=e*(c.coordinate+e*d()/2-l);n[t]=c=j(j({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else n[t]=c=j(j({},c),{},{tickCoord:c.coordinate});x(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),n[t]=j(j({},c),{},{isShow:!0}))},d=s-1;d>=0;d--)c(d);return n}(A,O,P,d,m)).filter(function(e){return e.isShow})}var N=["viewBox"],S=["viewBox"],C=["ticks"];function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign.bind()).apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,M(i.key),i)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t,r){return(t=M(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=P(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}var B=function(e){var t,r;function n(e){var t,r,i;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return r=n,i=[e],r=I(r),(t=function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,T()?Reflect.construct(r,i||[],I(this).constructor):r.apply(this,i))).state={fontSize:"",letterSpacing:""},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_(n,e),t=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,i=E(e,N),a=this.props,n=a.viewBox,s=E(a,S);return!(0,l.shallowEqual)(r,n)||!(0,l.shallowEqual)(i,s)||!(0,l.shallowEqual)(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,i,a,n,s,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,m=o.orientation,p=o.tickSize,h=o.mirror,y=o.tickMargin,g=h?-1:1,v=e.tickSize||p,x=(0,f.isNumber)(e.tickCoord)?e.tickCoord:e.coordinate;switch(m){case"top":t=r=e.coordinate,s=(i=(a=c+!h*u)-g*v)-g*y,n=x;break;case"left":i=a=e.coordinate,n=(t=(r=l+!h*d)-g*v)-g*y,s=x;break;case"right":i=a=e.coordinate,n=(t=(r=l+h*d)+g*v)+g*y,s=x;break;default:t=r=e.coordinate,s=(i=(a=c+h*u)+g*v)+g*y,n=x}return{line:{x1:t,y1:i,x2:r,y2:a},tick:{x:n,y:s}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,i=t.mirror;switch(r){case"left":e=i?"start":"end";break;case"right":e=i?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,i="end";switch(t){case"left":case"right":i="middle";break;case"top":i=r?"start":"end";break;default:i=r?"end":"start"}return i}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,l=e.orientation,c=e.mirror,d=e.axisLine,u=D(D(D({},(0,p.filterProps)(this.props,!1)),(0,p.filterProps)(d,!1)),{},{fill:"none"});if("top"===l||"bottom"===l){var f=+("top"===l&&!c||"bottom"===l&&c);u=D(D({},u),{},{x1:t,y1:r+f*s,x2:t+n,y2:r+f*s})}else{var m=+("left"===l&&!c||"right"===l&&c);u=D(D({},u),{},{x1:t+m*n,y1:r,x2:t+m*n,y2:r+s})}return i.default.createElement("line",A({},u,{className:(0,a.default)("recharts-cartesian-axis-line",(0,o.default)(d,"className"))}))}},{key:"renderTicks",value:function(e,t,r){var l=this,d=this.props,u=d.tickLine,f=d.stroke,h=d.tick,y=d.tickFormatter,g=d.unit,v=k(D(D({},this.props),{},{ticks:e}),t,r),x=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=(0,p.filterProps)(this.props,!1),j=(0,p.filterProps)(h,!1),N=D(D({},w),{},{fill:"none"},(0,p.filterProps)(u,!1)),S=v.map(function(e,t){var r=l.getTickLineCoord(e),d=r.line,p=r.tick,k=D(D(D(D({textAnchor:x,verticalAnchor:b},w),{},{stroke:"none",fill:f},j),p),{},{index:t,payload:e,visibleTicksCount:v.length,tickFormatter:y});return i.default.createElement(c.Layer,A({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},(0,m.adaptEventsOfChild)(l.props,e,t)),u&&i.default.createElement("line",A({},N,d,{className:(0,a.default)("recharts-cartesian-axis-tick-line",(0,o.default)(u,"className"))})),h&&n.renderTickItem(h,k,"".concat((0,s.default)(y)?y(e.value,t):e.value).concat(g||"")))});return i.default.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,o=t.height,l=t.ticksGenerator,d=t.className;if(t.hide)return null;var f=this.props,m=f.ticks,p=E(f,C),h=m;return((0,s.default)(l)&&(h=l(m&&m.length>0?this.props:p)),n<=0||o<=0||!h||!h.length)?null:i.default.createElement(c.Layer,{className:(0,a.default)("recharts-cartesian-axis",d),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),u.Label.renderCallByParent(this.props))}}],r=[{key:"renderTickItem",value:function(e,t,r){var n=(0,a.default)(t.className,"recharts-cartesian-axis-tick-value");return i.default.isValidElement(e)?i.default.cloneElement(e,D(D({},t),{},{className:n})):(0,s.default)(e)?e(D(D({},t),{},{className:n})):i.default.createElement(d.Text,A({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],t&&R(n.prototype,t),r&&R(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(i.Component);L(B,"displayName","CartesianAxis"),L(B,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var F=e.i(198770);function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($=function(){return!!e})()}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=q(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q(t)?t:t+""}function V(){return(V=Object.assign.bind()).apply(this,arguments)}function G(e){var t=e.xAxisId,r=(0,n.useChartWidth)(),s=(0,n.useChartHeight)(),o=(0,n.useXAxisOrThrow)(t);return null==o?null:i.createElement(B,V({},o,{className:(0,a.default)("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(e){return(0,F.getTicksOfAxis)(e,!0)}}))}var W=function(e){var t;function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=U(e),function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,$()?Reflect.construct(e,t||[],U(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&z(r,e),t=[{key:"render",value:function(){return i.createElement(G,this.props)}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Q(i.key),i)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(i.Component);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}H(W,"displayName","XAxis"),H(W,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0}),e.s(["XAxis",()=>W],785183);function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Y=function(){return!!e})()}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e,t,r){return(t=ee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ee(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=K(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K(t)?t:t+""}function et(){return(et=Object.assign.bind()).apply(this,arguments)}var er=function(e){var t=e.yAxisId,r=(0,n.useChartWidth)(),s=(0,n.useChartHeight)(),o=(0,n.useYAxisOrThrow)(t);return null==o?null:i.createElement(B,et({},o,{className:(0,a.default)("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(e){return(0,F.getTicksOfAxis)(e,!0)}}))},ei=function(e){var t;function r(){var e,t;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");return e=r,t=arguments,e=X(e),function(e,t){if(t&&("object"===K(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,Y()?Reflect.construct(e,t||[],X(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&J(r,e),t=[{key:"render",value:function(){return i.createElement(er,this.props)}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ee(i.key),i)}}(r.prototype,t),Object.defineProperty(r,"prototype",{writable:!1}),r}(i.Component);Z(ei,"displayName","YAxis"),Z(ei,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1}),e.s(["YAxis",()=>ei],93230);var ea=(0,t.generateCategoricalChart)({chartName:"BarChart",GraphicalChild:r.Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:W},{axisType:"yAxis",AxisComp:ei}],formatAxisMap:g.formatAxisMap});e.s(["BarChart",()=>ea],509694);var en=e.i(129071),es=["x1","y1","x2","y2","key"],eo=["offset"];function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function ed(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){var i,a,n;i=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=el(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=el(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==el(t)?t:t+""}(a))in i?Object.defineProperty(i,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eu(){return(eu=Object.assign.bind()).apply(this,arguments)}function ef(e,t){if(null==e)return{};var r,i,a=function(e,t){if(null==e)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var em=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,a=e.x,n=e.y,s=e.width,o=e.height,l=e.ry;return i.default.createElement("rect",{x:a,y:n,ry:l,width:s,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ep(e,t){var r;if(i.default.isValidElement(e))r=i.default.cloneElement(e,t);else if((0,s.default)(e))r=e(t);else{var a=t.x1,n=t.y1,o=t.x2,l=t.y2,c=t.key,d=ef(t,es),u=(0,p.filterProps)(d,!1),f=(u.offset,ef(u,eo));r=i.default.createElement("line",eu({},f,{x1:a,y1:n,x2:o,y2:l,fill:"none",key:c}))}return r}function eh(e){var t=e.x,r=e.width,a=e.horizontal,n=void 0===a||a,s=e.horizontalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(i,a){return ep(n,ed(ed({},e),{},{x1:t,y1:i,x2:t+r,y2:i,key:"line-".concat(a),index:a}))});return i.default.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ey(e){var t=e.y,r=e.height,a=e.vertical,n=void 0===a||a,s=e.verticalPoints;if(!n||!s||!s.length)return null;var o=s.map(function(i,a){return ep(n,ed(ed({},e),{},{x1:i,y1:t,x2:i,y2:t+r,key:"line-".concat(a),index:a}))});return i.default.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function eg(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,n=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==d[0]&&d.unshift(0);var u=d.map(function(e,l){var c=d[l+1]?d[l+1]-e:n+o-e;if(c<=0)return null;var u=l%t.length;return i.default.createElement("rect",{key:"react-".concat(l),y:e,x:a,height:c,width:s,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return i.default.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function ev(e){var t=e.vertical,r=e.verticalFill,a=e.fillOpacity,n=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!(void 0===t||t)||!r||!r.length)return null;var d=c.map(function(e){return Math.round(e+n-n)}).sort(function(e,t){return e-t});n!==d[0]&&d.unshift(0);var u=d.map(function(e,t){var c=d[t+1]?d[t+1]-e:n+o-e;if(c<=0)return null;var u=t%r.length;return i.default.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:c,height:l,stroke:"none",fill:r[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return i.default.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var ex=function(e,t){var r=e.xAxis,i=e.width,a=e.height,n=e.offset;return(0,F.getCoordinatesOfGrid)(k(ed(ed(ed({},B.defaultProps),r),{},{ticks:(0,F.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),n.left,n.left+n.width,t)},eb=function(e,t){var r=e.yAxis,i=e.width,a=e.height,n=e.offset;return(0,F.getCoordinatesOfGrid)(k(ed(ed(ed({},B.defaultProps),r),{},{ticks:(0,F.getTicksOfAxis)(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),n.top,n.top+n.height,t)},ew=[],ej=[];function ek(e){var t,r,a,o,l,c,d=(0,n.useChartWidth)(),u=(0,n.useChartHeight)(),m=(0,n.useOffset)(),p=ed(ed({},e),{},{stroke:null!=(t=e.stroke)?t:"#ccc",fill:null!=(r=e.fill)?r:"none",horizontal:null==(a=e.horizontal)||a,horizontalFill:null!=(o=e.horizontalFill)?o:ej,vertical:null==(l=e.vertical)||l,verticalFill:null!=(c=e.verticalFill)?c:ew,x:(0,f.isNumber)(e.x)?e.x:m.left,y:(0,f.isNumber)(e.y)?e.y:m.top,width:(0,f.isNumber)(e.width)?e.width:m.width,height:(0,f.isNumber)(e.height)?e.height:m.height}),h=p.x,y=p.y,g=p.width,v=p.height,x=p.syncWithTicks,b=p.horizontalValues,w=p.verticalValues,j=(0,n.useArbitraryXAxis)(),k=(0,n.useYAxisWithFiniteDomainOrRandom)();if(!(0,f.isNumber)(g)||g<=0||!(0,f.isNumber)(v)||v<=0||!(0,f.isNumber)(h)||h!==+h||!(0,f.isNumber)(y)||y!==+y)return null;var N=p.verticalCoordinatesGenerator||ex,S=p.horizontalCoordinatesGenerator||eb,C=p.horizontalPoints,P=p.verticalPoints;if((!C||!C.length)&&(0,s.default)(S)){var A=b&&b.length,O=S({yAxis:k?ed(ed({},k),{},{ticks:A?b:k.ticks}):void 0,width:d,height:u,offset:m},!!A||x);(0,en.warn)(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(el(O),"]")),Array.isArray(O)&&(C=O)}if((!P||!P.length)&&(0,s.default)(N)){var D=w&&w.length,E=N({xAxis:j?ed(ed({},j),{},{ticks:D?w:j.ticks}):void 0,width:d,height:u,offset:m},!!D||x);(0,en.warn)(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(el(E),"]")),Array.isArray(E)&&(P=E)}return i.default.createElement("g",{className:"recharts-cartesian-grid"},i.default.createElement(em,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),i.default.createElement(eh,eu({},p,{offset:m,horizontalPoints:C,xAxis:j,yAxis:k})),i.default.createElement(ey,eu({},p,{offset:m,verticalPoints:P,xAxis:j,yAxis:k})),i.default.createElement(eg,eu({},p,{horizontalPoints:C})),i.default.createElement(ev,eu({},p,{verticalPoints:P})))}ek.displayName="CartesianGrid",e.s(["CartesianGrid",()=>ek],872526)},48503,e=>{e.v(t=>Promise.all(["static/chunks/034945ea23f7a8ce.js"].map(t=>e.l(t))).then(()=>t(915833)))},870653,e=>{e.v(t=>Promise.all(["static/chunks/63eee2351f5394d5.js"].map(t=>e.l(t))).then(()=>t(424154)))},195111,e=>{e.v(t=>Promise.all(["static/chunks/f66634c84e3526bd.js"].map(t=>e.l(t))).then(()=>t(38201)))},210699,e=>{e.v(t=>Promise.all(["static/chunks/11539ca7394ee4b6.js","static/chunks/034945ea23f7a8ce.js"].map(t=>e.l(t))).then(()=>t(53945)))},559216,e=>{e.v(t=>Promise.all(["static/chunks/a76007d487b7285f.js"].map(t=>e.l(t))).then(()=>t(65054)))},569521,e=>{e.v(t=>Promise.all(["static/chunks/45728a0ccba874c7.js"].map(t=>e.l(t))).then(()=>t(981474)))},756667,e=>{e.v(e=>Promise.resolve().then(()=>e(804760)))}]);