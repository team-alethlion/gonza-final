(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,251569,(e,t,r)=>{"use strict";function n(e){return e.startsWith("/")?e:`/${e}`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureLeadingSlash",{enumerable:!0,get:function(){return n}})},977915,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DEFAULT_SEGMENT_KEY:function(){return d},NOT_FOUND_SEGMENT_KEY:function(){return f},PAGE_SEGMENT_KEY:function(){return c},addSearchParamsIfPageSegment:function(){return u},computeSelectedLayoutSegment:function(){return l},getSegmentValue:function(){return i},getSelectedLayoutSegmentPath:function(){return function e(t,r,n=!0,s=[]){let a;if(n)a=t[1][r];else{let e=t[1];a=e.children??Object.values(e)[0]}if(!a)return s;let o=i(a[0]);return!o||o.startsWith(c)?s:(s.push(o),e(a,r,!1,s))}},isGroupSegment:function(){return a},isParallelRouteSegment:function(){return o}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});function i(e){return Array.isArray(e)?e[1]:e}function a(e){return"("===e[0]&&e.endsWith(")")}function o(e){return e.startsWith("@")&&"@children"!==e}function u(e,t){if(e.includes(c)){let e=JSON.stringify(t);return"{}"!==e?c+"?"+e:c}return e}function l(e,t){if(!e||0===e.length)return null;let r="children"===t?e[0]:e[e.length-1];return r===d?null:r}let c="__PAGE__",d="__DEFAULT__",f="/_not-found"},146159,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={normalizeAppPath:function(){return o},normalizeRscURL:function(){return u}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(251569),a=e.r(977915);function o(e){return(0,i.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,a.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`,""))}function u(e){return e.replace(/\.rsc($|\?)/,"$1")}},389161,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={INTERCEPTION_ROUTE_MARKERS:function(){return a},extractInterceptionRouteInformation:function(){return u},isInterceptionRouteAppPath:function(){return o}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(146159),a=["(..)(..)","(.)","(..)","(...)"];function o(e){return void 0!==e.split("/").find(e=>a.find(t=>e.startsWith(t)))}function u(e){let t,r,n;for(let s of e.split("/"))if(r=a.find(e=>s.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(t=(0,i.normalizeAppPath)(t),r){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let s=t.split("/");if(s.length<=2)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});n=s.slice(0,-2).concat(n).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:t,interceptedRoute:n}}},478690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isDynamicRoute",{enumerable:!0,get:function(){return a}});let n=e.r(389161),s=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,i=/\/\[[^/]+\](?=\/|$)/;function a(e,t=!0){return((0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),t)?i.test(e):s.test(e)}},672796,(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n}})},443980,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return s}});let n=e.r(672796);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:i}=(0,n.parsePath)(e);return`${t}${r}${s}${i}`}},523486,(e,t,r)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},302987,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_SUFFIX:function(){return b},APP_DIR_ALIAS:function(){return F},CACHE_ONE_YEAR:function(){return j},DOT_NEXT_ALIAS:function(){return D},ESLINT_DEFAULT_DIRS:function(){return es},GSP_NO_RETURNED_VALUE:function(){return J},GSSP_COMPONENT_MEMBER_ERROR:function(){return et},GSSP_NO_RETURNED_VALUE:function(){return Z},HTML_CONTENT_TYPE_HEADER:function(){return a},INFINITE_CACHE:function(){return w},INSTRUMENTATION_HOOK_FILENAME:function(){return L},JSON_CONTENT_TYPE_HEADER:function(){return o},MATCHED_PATH_HEADER:function(){return c},MIDDLEWARE_FILENAME:function(){return A},MIDDLEWARE_LOCATION_REGEXP:function(){return T},NEXT_BODY_SUFFIX:function(){return y},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return S},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return E},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return v},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return O},NEXT_CACHE_TAGS_HEADER:function(){return x},NEXT_CACHE_TAG_MAX_ITEMS:function(){return N},NEXT_CACHE_TAG_MAX_LENGTH:function(){return R},NEXT_DATA_SUFFIX:function(){return g},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return l},NEXT_META_SUFFIX:function(){return _},NEXT_QUERY_PARAM_PREFIX:function(){return u},NEXT_RESUME_HEADER:function(){return P},NON_STANDARD_NODE_ENV:function(){return er},PAGES_DIR_ALIAS:function(){return M},PRERENDER_REVALIDATE_HEADER:function(){return d},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return f},PROXY_FILENAME:function(){return C},PROXY_LOCATION_REGEXP:function(){return I},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return G},ROOT_DIR_ALIAS:function(){return k},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return W},RSC_ACTION_ENCRYPTION_ALIAS:function(){return H},RSC_ACTION_PROXY_ALIAS:function(){return X},RSC_ACTION_VALIDATE_ALIAS:function(){return B},RSC_CACHE_WRAPPER_ALIAS:function(){return z},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return U},RSC_MOD_REF_PROXY_ALIAS:function(){return $},RSC_SEGMENTS_DIR_SUFFIX:function(){return m},RSC_SEGMENT_SUFFIX:function(){return p},RSC_SUFFIX:function(){return h},SERVER_PROPS_EXPORT_ERROR:function(){return Q},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return q},SERVER_PROPS_SSG_CONFLICT:function(){return V},SERVER_RUNTIME:function(){return ei},SSG_FALLBACK_EXPORT_ERROR:function(){return en},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return Y},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return K},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return i},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return ee},WEBPACK_LAYERS:function(){return eu},WEBPACK_RESOURCE_QUERIES:function(){return el},WEB_SOCKET_MAX_RECONNECTIONS:function(){return ea}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i="text/plain",a="text/html; charset=utf-8",o="application/json; charset=utf-8",u="nxtP",l="nxtI",c="x-matched-path",d="x-prerender-revalidate",f="x-prerender-revalidate-if-generated",m=".segments",p=".segment.rsc",h=".rsc",b=".action",g=".json",_=".meta",y=".body",x="x-next-cache-tags",E="x-next-revalidated-tags",v="x-next-revalidate-tag-token",P="next-resume",N=128,R=256,O=1024,S="_N_T_",j=31536e3,w=0xfffffffe,A="middleware",T=`(?:src/)?${A}`,C="proxy",I=`(?:src/)?${C}`,L="instrumentation",M="private-next-pages",D="private-dot-next",k="private-next-root-dir",F="private-next-app-dir",$="private-next-rsc-mod-ref-proxy",B="private-next-rsc-action-validate",X="private-next-rsc-server-reference",z="private-next-rsc-cache-wrapper",U="private-next-rsc-track-dynamic-import",H="private-next-rsc-action-encryption",W="private-next-rsc-action-client-wrapper",G="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",Y="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",q="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",V="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",K="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",Q="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",J="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",Z="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",ee="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",et="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",er='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',en="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",es=["app","pages","components","lib","src"],ei={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},ea=12,eo={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},eu={...eo,GROUP:{builtinReact:[eo.reactServerComponents,eo.actionBrowser],serverOnly:[eo.reactServerComponents,eo.actionBrowser,eo.instrument,eo.middleware],neutralTarget:[eo.apiNode,eo.apiEdge],clientOnly:[eo.serverSideRendering,eo.appPagesBrowser],bundled:[eo.reactServerComponents,eo.actionBrowser,eo.serverSideRendering,eo.appPagesBrowser,eo.shared,eo.instrument,eo.middleware],appPages:[eo.reactServerComponents,eo.serverSideRendering,eo.appPagesBrowser,eo.actionBrowser]}},el={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},7117,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return n}});class n extends Error{constructor(e,t){super(`Invariant: ${e.endsWith(".")?e:e+"."} This is a bug in Next.js.`,t),this.name="InvariantError"}}},314059,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getSortedRouteObjects:function(){return o},getSortedRoutes:function(){return a}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});class i{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e="/"){let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(`${e}${t}/`)).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(`${e}[${this.slugName}]/`)),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error(`You cannot define a route with the same specificity as a optional catch-all route ("${t}" and "${t}[[...${this.optionalRestSlugName}]]").`),"__NEXT_ERROR_CODE",{value:"E458",enumerable:!1,configurable:!0});r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(`${e}[...${this.restSlugName}]/`)),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(`${e}[[...${this.optionalRestSlugName}]]/`)),r}_insert(e,t,r){if(0===e.length){this.placeholder=!1;return}if(r)throw Object.defineProperty(Error("Catch-all must be the last part of the URL."),"__NEXT_ERROR_CODE",{value:"E392",enumerable:!1,configurable:!0});let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let i=n.slice(1,-1),a=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),a=!0),i.startsWith("â€¦"))throw Object.defineProperty(Error(`Detected a three-dot character ('â€¦') at ('${i}'). Did you mean ('...')?`),"__NEXT_ERROR_CODE",{value:"E147",enumerable:!1,configurable:!0});if(i.startsWith("...")&&(i=i.substring(3),r=!0),i.startsWith("[")||i.endsWith("]"))throw Object.defineProperty(Error(`Segment names may not start or end with extra brackets ('${i}').`),"__NEXT_ERROR_CODE",{value:"E421",enumerable:!1,configurable:!0});if(i.startsWith("."))throw Object.defineProperty(Error(`Segment names may not start with erroneous periods ('${i}').`),"__NEXT_ERROR_CODE",{value:"E288",enumerable:!1,configurable:!0});function s(e,r){if(null!==e&&e!==r)throw Object.defineProperty(Error(`You cannot use different slug names for the same dynamic path ('${e}' !== '${r}').`),"__NEXT_ERROR_CODE",{value:"E337",enumerable:!1,configurable:!0});t.forEach(e=>{if(e===r)throw Object.defineProperty(Error(`You cannot have the same slug name "${r}" repeat within a single dynamic path`),"__NEXT_ERROR_CODE",{value:"E247",enumerable:!1,configurable:!0});if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Object.defineProperty(Error(`You cannot have the slug names "${e}" and "${r}" differ only by non-word symbols within a single dynamic path`),"__NEXT_ERROR_CODE",{value:"E499",enumerable:!1,configurable:!0})}),t.push(r)}if(r)if(a){if(null!=this.restSlugName)throw Object.defineProperty(Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${e[0]}" ).`),"__NEXT_ERROR_CODE",{value:"E299",enumerable:!1,configurable:!0});s(this.optionalRestSlugName,i),this.optionalRestSlugName=i,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${e[0]}").`),"__NEXT_ERROR_CODE",{value:"E300",enumerable:!1,configurable:!0});s(this.restSlugName,i),this.restSlugName=i,n="[...]"}else{if(a)throw Object.defineProperty(Error(`Optional route parameters are not yet supported ("${e[0]}").`),"__NEXT_ERROR_CODE",{value:"E435",enumerable:!1,configurable:!0});s(this.slugName,i),this.slugName=i,n="[]"}}this.children.has(n)||this.children.set(n,new i),this.children.get(n)._insert(e.slice(1),t,r)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function a(e){let t=new i;return e.forEach(e=>t.insert(e)),t.smoosh()}function o(e,t){let r={},n=[];for(let s=0;s<e.length;s++){let i=t(e[s]);r[i]=s,n[s]=i}return a(n).map(t=>e[r[t]])}},931235,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getSortedRouteObjects:function(){return i.getSortedRouteObjects},getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return a.isDynamicRoute}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(314059),a=e.r(478690)},392090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return s}});let n=new WeakMap;function s(e,t){let r;if(!t)return{pathname:e};let s=n.get(t);s||(s=t.map(e=>e.toLowerCase()),n.set(t,s));let i=e.split("/",2);if(!i[1])return{pathname:e};let a=i[1].toLowerCase(),o=s.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},597742,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return s}});let n=e.r(672796);function s(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},840671,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return s}});let n=e.r(597742);function s(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:`/${r}`}},71755,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=e.r(392090),s=e.r(840671),i=e.r(597742);function a(e,t){let{basePath:r,i18n:a,trailingSlash:o}=t.nextConfig??{},u={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):o};r&&(0,i.pathHasPrefix)(u.pathname,r)&&(u.pathname=(0,s.removePathPrefix)(u.pathname,r),u.basePath=r);let l=u.pathname;if(u.pathname.startsWith("/_next/data/")&&u.pathname.endsWith(".json")){let e=u.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");u.buildId=e[0],l="index"!==e[1]?`/${e.slice(1).join("/")}`:"/",!0===t.parseData&&(u.pathname=l)}if(a){let e=t.i18nProvider?t.i18nProvider.analyze(u.pathname):(0,n.normalizeLocalePath)(u.pathname,a.locales);u.locale=e.detectedLocale,u.pathname=e.pathname??u.pathname,!e.detectedLocale&&u.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(l):(0,n.normalizeLocalePath)(l,a.locales)).detectedLocale&&(u.locale=e.detectedLocale)}return u}},342393,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return s}});let n=e.r(672796);function s(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:s,hash:i}=(0,n.parsePath)(e);return`${r}${t}${s}${i}`}},652419,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return i}});let n=e.r(443980),s=e.r(597742);function i(e,t,r,i){if(!t||t===r)return e;let a=e.toLowerCase();return!i&&((0,s.pathHasPrefix)(a,"/api")||(0,s.pathHasPrefix)(a,`/${t.toLowerCase()}`))?e:(0,n.addPathPrefix)(e,`/${t}`)}},865746,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=e.r(523486),s=e.r(443980),i=e.r(342393),a=e.r(652419);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,i.addPathSuffix)((0,s.addPathPrefix)(t,`/_next/data/${e.buildId}`),"/"===e.pathname?"index.json":".json")),t=(0,s.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,i.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},14760,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return o}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super(`Bail out to client-side rendering: ${e}`),this.reason=e,this.digest=i}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}},563905,901211,e=>{"use strict";var t=e.i(191788),r=e.i(893930),n=e.i(150064),s=e.i(46108),i=e.i(256680);async function a(e){try{let t=await i.db.branchSettings.findUnique({where:{branchId:e}});if(!t)return null;return{id:t.id,business_name:t.businessName,business_address:t.address,business_phone:t.phone,business_email:t.email,business_logo:t.logo,currency:t.currency,signature:t.signatureImage,metadata:t.metadata||{}}}catch(e){return console.error("Error fetching business settings:",e),null}}async function o(e,t,r){try{if(!await i.db.branch.findFirst({where:{id:e,OR:[{adminId:t},{users:{some:{id:t}}}]}}))return{success:!1,error:"Unauthorized to update branch settings"};let n={businessName:r.business_name,address:r.business_address,phone:r.business_phone,email:r.business_email,logo:r.business_logo,currency:r.currency,signatureImage:r.signature,metadata:r.metadata},s=await i.db.branchSettings.upsert({where:{branchId:e},update:n,create:{branchId:e,...n}});return{success:!0,data:{id:s.id,business_name:s.businessName,business_address:s.address,business_phone:s.phone,business_email:s.email,business_logo:s.logo,currency:s.currency,signature:s.signatureImage,metadata:s.metadata}}}catch(e){return console.error("Error upserting business settings:",e),{success:!1,error:e.message||"Failed to update settings"}}}async function u(e){try{let t=await i.db.user.findUnique({where:{id:e},select:{isFrozen:!0,createdAt:!0,subscriptions:{where:{status:"active"},orderBy:{endDate:"desc"},take:1},branches:{select:{id:!0}}}});if(!t)return null;let r=t.subscriptions[0],n=new Date,s=r?Math.ceil((r.endDate.getTime()-n.getTime())/864e5):0;return{is_frozen:t.isFrozen,location_limit:1,billing_amount:r?Number(r.amount):5e4,billing_duration:"Monthly",days_remaining:Math.max(0,s),next_billing_date:r?.endDate.toISOString()||""}}catch(e){return console.error("Error fetching account status:",e),{is_frozen:!1,location_limit:1,billing_amount:5e4,billing_duration:"Monthly",days_remaining:30,next_billing_date:""}}}async function l(e){try{let t=await i.db.branchSettings.findUnique({where:{branchId:e}});if(!t)return null;return{id:t.id,location_id:t.branchId,business_name:t.businessName,business_address:t.address,business_phone:t.phone,business_email:t.email,business_logo:t.logo,completed:!!t.businessName&&!!t.phone,is_frozen:!1}}catch(e){return console.error("Error fetching onboarding status:",e),null}}e.s(["getAccountStatusAction",()=>u,"getBusinessSettingsAction",()=>a,"getOnboardingStatusAction",()=>l,"upsertBusinessSettingsAction",()=>o],901211);let c=()=>({businessName:"",businessAddress:"",businessPhone:"",businessEmail:"",currency:"UGX",paymentInfo:"",defaultPrintFormat:"standard"});e.s(["parsePaymentInfo",0,e=>{if(!e||""===e.trim())return[];let t=e.split("\n").filter(e=>""!==e.trim()),r=[];for(let e=0;e<t.length;e+=3)e+2<t.length&&r.push({method:t[e].trim(),accountNumber:t[e+1].trim(),accountName:t[e+2].trim()});return r},"useBusinessSettings",0,()=>{let[e,i]=(0,t.useState)(c()),[u,l]=(0,t.useState)(!1),{toast:d}=(0,n.useToast)(),{currentBusiness:f}=(0,s.useBusiness)(),m=async()=>{if(!f)return c();try{let e=await a(f.id);if(!e)return c();{let t=e.metadata&&"object"==typeof e.metadata&&e.metadata.payment_info||"";return{id:e.id,businessName:e.business_name||"",businessAddress:e.business_address||"",businessPhone:e.business_phone||"",businessEmail:e.business_email||"",businessLogo:e.business_logo||void 0,currency:e.currency||"UGX",signature:e.signature||void 0,paymentInfo:t,defaultPrintFormat:e.metadata&&"object"==typeof e.metadata&&e.metadata.default_print_format||"standard",defaultPrinterName:e.metadata&&"object"==typeof e.metadata&&e.metadata.default_printer_name||"",defaultPrinterType:e.metadata&&"object"==typeof e.metadata&&e.metadata.default_printer_type||"USB",printerPaperSize:e.metadata&&"object"==typeof e.metadata&&e.metadata.printer_paper_size||"58mm"}}}catch(e){return console.error("Error loading business settings:",e),d({title:"Error",description:"Failed to load business settings. Please try again.",variant:"destructive"}),c()}},p=async t=>{if(!f)return console.error("No business selected for updating settings"),d({title:"Error",description:"No business selected",variant:"destructive"}),!1;try{let r={payment_info:t.hasOwnProperty("paymentInfo")?t.paymentInfo:e.paymentInfo||"",default_print_format:t.hasOwnProperty("defaultPrintFormat")?t.defaultPrintFormat:e.defaultPrintFormat||"standard",default_printer_name:t.hasOwnProperty("defaultPrinterName")?t.defaultPrinterName:e.defaultPrinterName||"",default_printer_type:t.hasOwnProperty("defaultPrinterType")?t.defaultPrinterType:e.defaultPrinterType||"USB",printer_paper_size:t.hasOwnProperty("printerPaperSize")?t.printerPaperSize:e.printerPaperSize||"58mm"},n={business_name:t.hasOwnProperty("businessName")?t.businessName:e.businessName,business_address:t.hasOwnProperty("businessAddress")?t.businessAddress:e.businessAddress,business_phone:t.hasOwnProperty("businessPhone")?t.businessPhone:e.businessPhone,business_email:t.hasOwnProperty("businessEmail")?t.businessEmail:e.businessEmail,business_logo:t.hasOwnProperty("businessLogo")?t.businessLogo:e.businessLogo,currency:t.hasOwnProperty("currency")?t.currency:e.currency,signature:t.hasOwnProperty("signature")?t.signature:e.signature,metadata:r},s=await o(f.id,"00000000-0000-0000-0000-000000000000",n);if(!s.success)throw console.error("Supabase error updating business settings:",s.error),Error(s.error);return d({title:"Success",description:"Business settings updated successfully"}),_(),!0}catch(e){return console.error("Error updating business settings:",e),d({title:"Error",description:"Failed to update business settings. Please try again.",variant:"destructive"}),!1}},{data:h,isLoading:b,isFetching:g,refetch:_}=(0,r.useQuery)({queryKey:["businessSettings",f?.id],queryFn:m,enabled:!!f?.id,staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1});return(0,t.useEffect)(()=>{h?i(h):f||i(c())},[h,f]),(0,t.useEffect)(()=>{l(b||g)},[b,g]),{settings:e,isLoading:u,updateSettings:p,loadSettings:m}}],563905)},998847,e=>{"use strict";function t(e,[t,r]){return Math.min(r,Math.max(t,e))}e.s(["clamp",()=>t])},724537,e=>{"use strict";var t=e.i(191788);e.i(391398);var r=t.createContext(void 0);function n(e){let n=t.useContext(r);return e||n||"ltr"}e.s(["useDirection",()=>n])},474864,e=>{"use strict";var t=e.i(191788),r=e.i(776833);function n(e){let[n,s]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,n;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,n=t.blockSize}else r=e.offsetWidth,n=e.offsetHeight;s({width:r,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),n}e.s(["useSize",()=>n])},593427,e=>{"use strict";var t=e.i(191788);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},759279,e=>{"use strict";let t=(0,e.i(369547).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],759279)},883721,e=>{"use strict";var t=e.i(391398);e.s(["default",0,({message:e="Loading...",size:r="md",className:n=""})=>(0,t.jsxs)("div",{className:`flex flex-col items-center justify-center space-y-4 ${n}`,children:[(0,t.jsx)("img",{src:"/lovable-uploads/7f7549a3-e9df-4762-b8b9-8e041e34f55d.png",alt:"Loading",className:`${{sm:"w-8 h-8",md:"w-16 h-16",lg:"w-24 h-24"}[r]} animate-spin`}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:e})]})])},868462,e=>{"use strict";let t=(0,e.i(369547).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],868462)},91762,e=>{"use strict";var t=e.i(391398),r=e.i(191788);e.i(730943);var n=e.i(817549),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let i=(0,n.createSlot)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:n,...a}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?i:s,{...a,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{}),i=r.forwardRef((e,r)=>(0,t.jsx)(s.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var a=e.i(648684),o=e.i(353533);let u=(0,a.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...r},n)=>(0,t.jsx)(i,{ref:n,className:(0,o.cn)(u(),e),...r}));l.displayName=i.displayName,e.s(["Label",()=>l],91762)},322138,e=>{"use strict";let t=(0,e.i(369547).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],322138)},401551,e=>{"use strict";let t=(0,e.i(369547).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],401551)},582646,e=>{"use strict";let t=(0,e.i(369547).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],582646)},295746,e=>{"use strict";let t=(0,e.i(369547).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],295746)},681912,(e,t,r)=>{"use strict";var n=e.r(730943);r.createRoot=n.createRoot,r.hydrateRoot=n.hydrateRoot},188478,e=>{"use strict";let t=(0,e.i(369547).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],188478)},889461,e=>{"use strict";let t=(0,e.i(369547).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],889461)},741705,(e,t,r)=>{"use strict";r._=function(e){return e&&e.__esModule?e:{default:e}}},952456,(e,t,r)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}r._=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var s={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}},713584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"HeadManagerContext",{enumerable:!0,get:function(){return n}});let n=e.r(741705)._(e.r(191788)).default.createContext({})},894470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},889129,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return E},MissingStaticPage:function(){return x},NormalizeError:function(){return _},PageNotFoundError:function(){return y},SP:function(){return h},ST:function(){return b},WEB_VITALS:function(){return i},execOnce:function(){return a},getDisplayName:function(){return d},getLocationOrigin:function(){return l},getURL:function(){return c},isAbsoluteUrl:function(){return u},isResSent:function(){return f},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return v}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function a(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,u=e=>o.test(e);function l(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=l();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="u">typeof performance,b=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class _ extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class x extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class E extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},701085,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={AppRouterContext:function(){return a},GlobalLayoutRouterContext:function(){return u},LayoutRouterContext:function(){return o},MissingSlotContext:function(){return c},TemplateContext:function(){return l}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(741705)._(e.r(191788)),a=i.default.createContext(null),o=i.default.createContext(null),u=i.default.createContext(null),l=i.default.createContext(null),c=i.default.createContext(new Set)},531430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReadonlyURLSearchParams",{enumerable:!0,get:function(){return s}});class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class s extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},470008,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NavigationPromisesContext:function(){return c},PathParamsContext:function(){return l},PathnameContext:function(){return u},ReadonlyURLSearchParams:function(){return a.ReadonlyURLSearchParams},SearchParamsContext:function(){return o},createDevToolsInstrumentedPromise:function(){return d}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(191788),a=e.r(531430),o=(0,i.createContext)(null),u=(0,i.createContext)(null),l=(0,i.createContext)(null),c=(0,i.createContext)(null);function d(e,t){let r=Promise.resolve(t);return r.status="fulfilled",r.value=t,r.displayName=`${e} (SSR)`,r}},991622,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={HTTPAccessErrorStatus:function(){return i},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return o},getAccessFallbackErrorTypeByStatus:function(){return c},getAccessFallbackHTTPStatus:function(){return l},isHTTPAccessFallbackError:function(){return u}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},a=new Set(Object.values(i)),o="NEXT_HTTP_ERROR_FALLBACK";function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===o&&a.has(Number(r))}function l(e){return Number(e.digest.split(";")[1])}function c(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},40184,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RedirectStatusCode",{enumerable:!0,get:function(){return s}});var n,s=((n={})[n.SeeOther=303]="SeeOther",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},301939,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,s={REDIRECT_ERROR_CODE:function(){return o},RedirectType:function(){return u},isRedirectError:function(){return l}};for(var i in s)Object.defineProperty(r,i,{enumerable:!0,get:s[i]});let a=e.r(40184),o="NEXT_REDIRECT";var u=((n={}).push="push",n.replace="replace",n);function l(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,n]=t,s=t.slice(2,-2).join(";"),i=Number(t.at(-2));return r===o&&("replace"===n||"push"===n)&&"string"==typeof s&&!isNaN(i)&&i in a.RedirectStatusCode}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},68934,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isNextRouterError",{enumerable:!0,get:function(){return i}});let n=e.r(991622),s=e.r(301939);function i(e){return(0,s.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},155915,e=>{"use strict";var t=e.i(391398),r=e.i(191788),n=e.i(365713),s=e.i(939310),i=e.i(45124),a=e.i(91762),o=e.i(690176),u=e.i(883721),l=e.i(679935),c=e.i(893930),d=e.i(285700),f=e.i(46108),m=e.i(824216),p=e.i(901211);let h="businessOnboarding";var b=e.i(563905),g=e.i(369547);let _=(0,g.default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),y=(0,g.default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var x=e.i(401551),E=e.i(582646);let v=(0,g.default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var P=e.i(295746),N=e.i(868462),R=e.i(322138),O=e.i(889461),S=e.i(759279),j=e.i(188478);let w=(0,g.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),A=(0,g.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),T=[{value:"1-5",label:"1â€“5 employees"},{value:"6-20",label:"6â€“20 employees"},{value:"21-50",label:"21â€“50 employees"},{value:"50+",label:"50+ employees"}];e.s(["default",0,()=>{let e=(0,n.useNavigate)(),{user:g,signOut:C}=(0,m.useAuth)(),{onboarding:I,isLoading:L,isCompleted:M,saveOnboarding:D}=(()=>{let{currentBusiness:e}=(0,f.useBusiness)(),{user:t}=(0,m.useAuth)(),n=(0,d.useQueryClient)(),{data:s,isLoading:i,refetch:a}=(0,c.useQuery)({queryKey:[h,e?.id],queryFn:async()=>e?.id&&t?.id?await (0,p.getOnboardingStatusAction)(e.id):null,enabled:!!e?.id&&!!t?.id,staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1}),{data:o,isLoading:u,refetch:l}=(0,c.useQuery)({queryKey:["globalAccountStatus",t?.id],queryFn:async()=>t?.id?await (0,p.getAccountStatusAction)(t.id):null,enabled:!!t?.id,staleTime:1e4,refetchInterval:3e4}),b=s?.completed===!0,g=s?.is_frozen===!0||o?.is_frozen===!0,_=(0,r.useCallback)(()=>{a(),l()},[a,l]),y=(0,r.useCallback)(async r=>{if(!e?.id||!t?.id)return console.error("useOnboarding: No business or user found"),!1;try{let s=await (0,p.upsertBusinessSettingsAction)(e.id,t.id,r);if(!s.success)return console.error("Error saving onboarding data:",s.error),!1;return n.invalidateQueries({queryKey:[h,e.id]}),n.invalidateQueries({queryKey:["user-onboarding-complete",t.id]}),!0}catch(e){return console.error("Unexpected error saving onboarding:",e),!1}},[e?.id,t?.id,n]);return{onboarding:s,isLoading:i||u,isCompleted:b,isFrozen:g,locationLimit:o?.location_limit||1,billingAmount:o?.billing_amount||5e4,billingDuration:o?.billing_duration||"Monthly",daysRemaining:o?.days_remaining||0,nextBillingDate:o?.next_billing_date,saveOnboarding:y,refetch:_}})(),{settings:k,isLoading:F,updateSettings:$}=(0,b.useBusinessSettings)(),[B,X]=(0,r.useState)(!1),[z,U]=(0,r.useState)(null),[H,W]=(0,r.useState)(null),[G,Y]=(0,r.useState)(!1),q=(0,r.useRef)(null),[V,K]=(0,r.useState)({businessName:"",businessAddress:"",businessPhone:"",businessEmail:g?.email||"",natureOfBusiness:"",businessSize:""}),[Q,J]=(0,r.useState)({});(0,r.useEffect)(()=>{!L&&M&&(console.log("Onboarding: Already completed, redirecting to dashboard"),e("/",{replace:!0}))},[L,M,e]),(0,r.useEffect)(()=>{!F&&k&&(K(e=>({...e,businessName:k.businessName||e.businessName,businessAddress:k.businessAddress||e.businessAddress,businessPhone:k.businessPhone||e.businessPhone,businessEmail:k.businessEmail||e.businessEmail})),k.businessLogo&&U(k.businessLogo))},[F,k]);let Z=(0,r.useCallback)(e=>{if(!e.type.startsWith("image/"))return void l.toast.error("Please upload an image file");if(e.size>5242880)return void l.toast.error("Image must be smaller than 5MB");W(e);let t=new FileReader;t.onloadend=()=>U(t.result),t.readAsDataURL(e)},[]),ee=(0,r.useCallback)(e=>{e.preventDefault(),Y(!1);let t=e.dataTransfer.files?.[0];t&&Z(t)},[Z]);if(L||F)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)(u.default,{message:"Loading your profile..."})});let et=(e,t)=>{K(r=>({...r,[e]:t})),Q[e]&&J(t=>({...t,[e]:""}))},er=async()=>(console.warn("Logo upload placeholder â€“ integration with Prisma server action required"),z),en=async t=>{let r;if(t.preventDefault(),r={},V.businessName.trim()||(r.businessName="Business name is required"),V.businessAddress.trim()||(r.businessAddress="Address is required"),V.businessPhone.trim()||(r.businessPhone="Phone number is required"),V.businessEmail.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V.businessEmail)||(r.businessEmail="Please enter a valid email"):r.businessEmail="Email is required",J(r),0===Object.keys(r).length){X(!0);try{let t=H?await er():z;if(!await D({business_logo:t??void 0,business_name:V.businessName.trim(),business_address:V.businessAddress.trim(),business_phone:V.businessPhone.trim(),business_email:V.businessEmail.trim(),nature_of_business:V.natureOfBusiness.trim()||void 0,business_size:V.businessSize||void 0,completed:!0}))return void l.toast.error("Failed to save onboarding data. Please try again.");await $({businessName:V.businessName.trim(),businessAddress:V.businessAddress.trim(),businessPhone:V.businessPhone.trim(),businessEmail:V.businessEmail.trim(),...t?{businessLogo:t}:{}}),l.toast.success("Business profile set up! Welcome aboard ðŸŽ‰"),e("/",{replace:!0})}catch(e){console.error("Onboarding submit error:",e),l.toast.error("Something went wrong. Please try again.")}finally{X(!1)}}};return(0,t.jsxs)("div",{className:"min-h-screen bg-background flex flex-col lg:flex-row",children:[(0,t.jsxs)("div",{className:"w-full lg:w-2/5 xl:w-1/3 flex flex-col px-6 py-8 lg:p-10 relative overflow-hidden lg:min-h-screen",style:{background:"hsl(var(--primary))"},children:[(0,t.jsx)("div",{className:"absolute -top-16 -left-16 w-56 h-56 rounded-full opacity-10 bg-white pointer-events-none"}),(0,t.jsx)("div",{className:"absolute -bottom-10 -right-10 w-48 h-48 rounded-full opacity-10 bg-white pointer-events-none"}),(0,t.jsx)("div",{className:"relative z-10",children:(0,t.jsx)("img",{src:"/lovable-uploads/798d07d7-1db7-498c-92f3-6f6346827d59.png",alt:"Gonzo Systems",className:"h-10 object-contain brightness-0 invert"})}),(0,t.jsxs)("div",{className:"relative z-10 mt-6 lg:mt-auto lg:mb-auto space-y-4",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white/10 text-white/90 text-xs font-medium px-3 py-1.5 rounded-full border border-white/20",children:[(0,t.jsx)(w,{className:"h-3.5 w-3.5"}),"One-time setup"]}),(0,t.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold text-white leading-snug",children:["Let's get your",(0,t.jsx)("br",{className:"hidden sm:block"})," business ready."]}),(0,t.jsx)("p",{className:"text-white/70 text-sm leading-relaxed max-w-xs",children:"Fill in your business details to personalise your workspace. You can always update these later in Settings."}),(0,t.jsx)("ul",{className:"hidden sm:flex flex-col gap-2.5 text-sm text-white/80 pt-2",children:["Appears on receipts & invoices","Pre-fills your Settings page","Helps your team identify the business"].map(e=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(O.CheckCircle2,{className:"h-4 w-4 text-white/50 shrink-0"}),e]},e))})]}),(0,t.jsxs)("p",{className:"relative z-10 hidden lg:block text-white/30 text-xs mt-auto pt-8",children:["Â© ",new Date().getFullYear()," Gonzo Systems"]})]}),(0,t.jsx)("div",{className:"flex-1 flex flex-col overflow-y-auto",children:(0,t.jsx)("div",{className:"flex-1 flex items-start justify-center px-4 sm:px-8 py-8 lg:py-16",children:(0,t.jsxs)("div",{className:"w-full max-w-xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6 font-geist",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Set up your business"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:"This information will appear on your receipts and reports."})]}),(0,t.jsxs)(s.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>C(),className:"text-muted-foreground hover:text-foreground gap-2",children:[(0,t.jsx)(A,{className:"h-4 w-4"}),"Logout"]})]}),(0,t.jsxs)("form",{onSubmit:en,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{className:"text-sm font-medium",children:["Business Logo"," ",(0,t.jsx)("span",{className:"text-muted-foreground font-normal text-xs",children:"(optional)"})]}),z?(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 border border-border rounded-lg bg-muted/30",children:[(0,t.jsx)("img",{src:z,alt:"Logo preview",className:"h-12 w-12 object-contain rounded-md border border-border bg-white shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:H?.name||"Logo"}),H&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(H.size/1024).toFixed(0)," KB"]})]}),(0,t.jsx)(s.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{U(null),W(null),q.current&&(q.current.value="")},className:"text-destructive hover:text-destructive hover:bg-destructive/10 shrink-0 h-8 w-8 p-0",children:(0,t.jsx)(N.X,{className:"h-4 w-4"})})]}):(0,t.jsxs)("div",{onDrop:ee,onDragOver:e=>{e.preventDefault(),Y(!0)},onDragLeave:()=>Y(!1),onClick:()=>q.current?.click(),className:`flex items-center gap-3 p-4 border-2 border-dashed rounded-lg cursor-pointer transition-colors ${G?"border-primary bg-primary/5":"border-border hover:border-primary/40 hover:bg-muted/20"}`,children:[(0,t.jsx)("div",{className:"h-9 w-9 rounded-lg bg-muted flex items-center justify-center shrink-0",children:(0,t.jsx)(S.Upload,{className:"h-4 w-4 text-muted-foreground"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:G?"Drop here":"Click or drag to upload"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"PNG, JPG, SVG â€” max 5MB"})]})]}),(0,t.jsx)("input",{ref:q,type:"file",accept:"image/*",className:"hidden",onChange:e=>{let t=e.target.files?.[0];t&&Z(t)}})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{htmlFor:"businessName",className:"text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)(_,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Business Name ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(i.Input,{id:"businessName",value:V.businessName,onChange:e=>et("businessName",e.target.value),placeholder:"",className:Q.businessName?"border-destructive":""}),Q.businessName&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:Q.businessName})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{htmlFor:"businessAddress",className:"text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)(y,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Location / Address ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(i.Input,{id:"businessAddress",value:V.businessAddress,onChange:e=>et("businessAddress",e.target.value),placeholder:"",className:Q.businessAddress?"border-destructive":""}),Q.businessAddress&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:Q.businessAddress})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{htmlFor:"businessPhone",className:"text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)(x.Phone,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Phone ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(i.Input,{id:"businessPhone",type:"tel",value:V.businessPhone,onChange:e=>et("businessPhone",e.target.value),placeholder:"",className:Q.businessPhone?"border-destructive":""}),Q.businessPhone&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:Q.businessPhone})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{htmlFor:"businessEmail",className:"text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)(E.Mail,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Email ",(0,t.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,t.jsx)(i.Input,{id:"businessEmail",type:"email",value:V.businessEmail,onChange:e=>et("businessEmail",e.target.value),placeholder:"",className:Q.businessEmail?"border-destructive":""}),Q.businessEmail&&(0,t.jsx)("p",{className:"text-xs text-destructive",children:Q.businessEmail})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{htmlFor:"natureOfBusiness",className:"text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)(v,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Nature of Business ",(0,t.jsx)("span",{className:"text-muted-foreground font-normal text-xs",children:"(optional)"})]}),(0,t.jsx)(i.Input,{id:"natureOfBusiness",value:V.natureOfBusiness,onChange:e=>et("natureOfBusiness",e.target.value),placeholder:""})]}),(0,t.jsxs)("div",{className:"space-y-1.5",children:[(0,t.jsxs)(a.Label,{htmlFor:"businessSize",className:"text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)(P.Users,{className:"h-3.5 w-3.5 text-muted-foreground"}),"Business Size ",(0,t.jsx)("span",{className:"text-muted-foreground font-normal text-xs",children:"(optional)"})]}),(0,t.jsxs)(o.Select,{value:V.businessSize,onValueChange:e=>et("businessSize",e),children:[(0,t.jsx)(o.SelectTrigger,{id:"businessSize",children:(0,t.jsx)(o.SelectValue,{placeholder:"No. of employees"})}),(0,t.jsx)(o.SelectContent,{children:T.map(e=>(0,t.jsx)(o.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsxs)("div",{className:"pt-2 pb-4",children:[(0,t.jsx)(s.Button,{type:"submit",disabled:B,className:"w-full h-11 font-semibold gap-2",children:B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Loader2,{className:"h-4 w-4 animate-spin"})," Setting up your business..."]}):(0,t.jsxs)(t.Fragment,{children:["Complete Setup ",(0,t.jsx)(j.ArrowRight,{className:"h-4 w-4"})]})}),(0,t.jsxs)("p",{className:"text-center text-xs text-muted-foreground mt-3",children:["You can update all of this later in ",(0,t.jsx)("span",{className:"font-medium",children:"Settings"}),"."]})]})]})]})})})]})}],155915)},472750,(e,t,r)=>{let n="/Onboarding";(window.__NEXT_P=window.__NEXT_P||[]).push([n,()=>e.r(155915)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([n])})},648761,e=>{e.v(t=>Promise.all(["static/chunks/e9fd8bb0ca2bba1b.js"].map(t=>e.l(t))).then(()=>t(825455)))},828805,e=>{e.v(t=>Promise.all(["static/chunks/820c94ec438563d7.js"].map(t=>e.l(t))).then(()=>t(879466)))}]);