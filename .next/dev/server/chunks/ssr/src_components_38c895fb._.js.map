{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { buttonVariants } from \"@/components/ui/button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,yHAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,IAAA,oJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,IAAA,oJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/badge.tsx"],"sourcesContent":["\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n        warning:\r\n          \"border-transparent bg-amber-500 text-white hover:bg-amber-600\",\r\n        success:\r\n          \"border-transparent bg-green-600 text-white hover:bg-green-700\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseCategoriesManager.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { useExpenseCategories } from '@/hooks/useExpenseCategories';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Trash2, Plus, Tag } from 'lucide-react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n  DialogFooter,\r\n  DialogClose,\r\n} from '@/components/ui/dialog';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n  AlertDialogTrigger,\r\n} from '@/components/ui/alert-dialog';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Badge } from '@/components/ui/badge';\r\n\r\nconst ExpenseCategoriesManager: React.FC = () => {\r\n  const expenseCategories = useExpenseCategories();\r\n  const { categories, createCategory, deleteCategory } = expenseCategories;\r\n  const [newCategoryName, setNewCategoryName] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleCreateCategory = async () => {\r\n    if (!newCategoryName.trim()) return;\r\n    \r\n    setIsSubmitting(true);\r\n    try {\r\n      const result = await createCategory(newCategoryName.trim());\r\n      if (result) {\r\n        setNewCategoryName('');\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCategory = async (id: string) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      await deleteCategory(id);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n      <DialogTrigger asChild>\r\n        <Button variant=\"outline\" className=\"gap-2\">\r\n          <Tag className=\"h-4 w-4\" />\r\n          Expense Categories\r\n        </Button>\r\n      </DialogTrigger>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle>Expense Categories</DialogTitle>\r\n          <DialogDescription>\r\n            Manage your expense categories.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        \r\n        <div className=\"space-y-4\">\r\n          {/* Add new category */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"newCategory\">Add New Category</Label>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                id=\"newCategory\"\r\n                placeholder=\"Enter category name\"\r\n                value={newCategoryName}\r\n                onChange={(e) => setNewCategoryName(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleCreateCategory()}\r\n              />\r\n              <Button \r\n                onClick={handleCreateCategory} \r\n                disabled={!newCategoryName.trim() || isSubmitting}\r\n                size=\"sm\"\r\n              >\r\n                <Plus className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Categories list */}\r\n          <div className=\"space-y-3\">\r\n            {categories.length > 0 ? (\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Categories</h4>\r\n                <ScrollArea className=\"h-64 rounded-md border p-2\">\r\n                  <div className=\"space-y-1\">\r\n                    {categories.map((category) => (\r\n                      <div key={category.id} className=\"flex items-center justify-between p-2 rounded-md hover:bg-gray-50\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Tag className=\"h-3 w-3 text-gray-500\" />\r\n                          <span className=\"text-sm\">{category.name}</span>\r\n                          {category.isDefault && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs\">Default</Badge>\r\n                          )}\r\n                        </div>\r\n                        <AlertDialog>\r\n                          <AlertDialogTrigger asChild>\r\n                            <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\r\n                              <Trash2 className=\"h-3 w-3 text-red-500\" />\r\n                            </Button>\r\n                          </AlertDialogTrigger>\r\n                          <AlertDialogContent>\r\n                            <AlertDialogHeader>\r\n                              <AlertDialogTitle>Delete Category</AlertDialogTitle>\r\n                              <AlertDialogDescription>\r\n                                Are you sure you want to delete \"{category.name}\"? This action cannot be undone.\r\n                              </AlertDialogDescription>\r\n                            </AlertDialogHeader>\r\n                            <AlertDialogFooter>\r\n                              <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n                              <AlertDialogAction \r\n                                onClick={() => handleDeleteCategory(category.id)}\r\n                                className=\"bg-red-600 hover:bg-red-700\"\r\n                              >\r\n                                Delete\r\n                              </AlertDialogAction>\r\n                            </AlertDialogFooter>\r\n                          </AlertDialogContent>\r\n                        </AlertDialog>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </ScrollArea>\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-4 text-sm text-gray-500\">\r\n                No categories yet. Add one above to get started.\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        <DialogFooter>\r\n          <DialogClose asChild>\r\n            <Button variant=\"outline\">Close</Button>\r\n          </DialogClose>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ExpenseCategoriesManager;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseHeader.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Plus, RefreshCcw, Download, FileText, Upload } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\nimport ExpenseCategoriesManager from '@/components/expenses/ExpenseCategoriesManager';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\n\r\ninterface ExpenseHeaderProps {\r\n  onAddExpense: () => void;\r\n  onAddBulkExpense: () => void;\r\n  onImportExpenses: () => void;\r\n  onRefresh: () => void;\r\n  isRefreshing: boolean;\r\n  onExportCSV?: () => void;\r\n  onExportPDF?: () => void;\r\n  onDownloadTemplate?: () => void;\r\n  canCreate?: boolean;\r\n}\r\n\r\nconst ExpenseHeader: React.FC<ExpenseHeaderProps> = ({\r\n  onAddExpense,\r\n  onAddBulkExpense,\r\n  onImportExpenses,\r\n  onRefresh,\r\n  isRefreshing,\r\n  onExportCSV,\r\n  onExportPDF,\r\n  onDownloadTemplate,\r\n  canCreate = true\r\n}) => {\r\n  const isMobile = useIsMobile();\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"space-y-2\">\r\n        <h1 className=\"text-2xl md:text-3xl font-bold\">Expenses</h1>\r\n        <p className=\"text-sm md:text-base text-muted-foreground\">\r\n          Track and manage your business expenses\r\n        </p>\r\n      </div>\r\n\r\n      {/* Action Buttons Row 1 */}\r\n      <div className=\"flex flex-wrap gap-2 sm:gap-3\">\r\n        {canCreate && (\r\n          <Button\r\n            onClick={onAddExpense}\r\n            className=\"gap-2 text-sm bg-red-600 hover:bg-red-700 shadow-sm\"\r\n            size={isMobile ? \"sm\" : \"default\"}\r\n          >\r\n            <Plus className=\"h-4 w-4\" />\r\n            Add Expense\r\n          </Button>\r\n        )}\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={onRefresh}\r\n          disabled={isRefreshing}\r\n          className=\"gap-2 text-sm\"\r\n          size={isMobile ? \"sm\" : \"default\"}\r\n        >\r\n          <RefreshCcw className={`h-4 w-4 ${isRefreshing ? 'animate-spin' : ''}`} />\r\n          Refresh\r\n        </Button>\r\n\r\n        <Button\r\n          variant=\"outline\"\r\n          onClick={onDownloadTemplate}\r\n          className=\"gap-2 text-sm border-green-200 dark:border-green-900/30 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/10\"\r\n          size={isMobile ? \"sm\" : \"default\"}\r\n        >\r\n          <Download className=\"h-4 w-4\" />\r\n          Template\r\n        </Button>\r\n\r\n        <div className=\"hidden sm:block\">\r\n          <ExpenseCategoriesManager />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Action Buttons Row 2 (Secondary Actions) */}\r\n      <div className=\"flex flex-wrap items-center gap-2 pt-1 border-t border-slate-100 dark:border-slate-800/50 mt-2\">\r\n        {canCreate && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={onAddBulkExpense}\r\n            className=\"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10\"\r\n          >\r\n            <Plus className=\"h-3.5 w-3.5\" />\r\n            Bulk Entry\r\n          </Button>\r\n        )}\r\n        {canCreate && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={onImportExpenses}\r\n            className=\"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10\"\r\n          >\r\n            <Upload className=\"h-3.5 w-3.5\" />\r\n            Import\r\n          </Button>\r\n        )}\r\n\r\n        <div className=\"h-4 w-[1px] bg-slate-200 dark:bg-slate-700 mx-1\" />\r\n\r\n        {onExportCSV && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={onExportCSV}\r\n            className=\"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/10\"\r\n          >\r\n            <FileText className=\"h-3.5 w-3.5\" />\r\n            CSV Export\r\n          </Button>\r\n        )}\r\n        {onExportPDF && (\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={onExportPDF}\r\n            className=\"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/10\"\r\n          >\r\n            <FileText className=\"h-3.5 w-3.5\" />\r\n            PDF Export\r\n          </Button>\r\n        )}\r\n\r\n        <div className=\"sm:hidden block ml-auto\">\r\n          <ExpenseCategoriesManager />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpenseHeader;"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;;;;;;AAcA,MAAM,gBAA8C,CAAC,EACnD,YAAY,EACZ,gBAAgB,EAChB,gBAAgB,EAChB,SAAS,EACT,YAAY,EACZ,WAAW,EACX,WAAW,EACX,kBAAkB,EAClB,YAAY,IAAI,EACjB;IACC,MAAM,WAAW,IAAA,6IAAW;IAE5B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAiC;;;;;;kCAC/C,8OAAC;wBAAE,WAAU;kCAA6C;;;;;;;;;;;;0BAM5D,8OAAC;gBAAI,WAAU;;oBACZ,2BACC,8OAAC,4IAAM;wBACL,SAAS;wBACT,WAAU;wBACV,MAAM,WAAW,OAAO;;0CAExB,8OAAC,0MAAI;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAIhC,8OAAC,4IAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,UAAU;wBACV,WAAU;wBACV,MAAM,WAAW,OAAO;;0CAExB,8OAAC,gOAAU;gCAAC,WAAW,CAAC,QAAQ,EAAE,eAAe,iBAAiB,IAAI;;;;;;4BAAI;;;;;;;kCAI5E,8OAAC,4IAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;wBACV,MAAM,WAAW,OAAO;;0CAExB,8OAAC,sNAAQ;gCAAC,WAAU;;;;;;4BAAY;;;;;;;kCAIlC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,qKAAwB;;;;;;;;;;;;;;;;0BAK7B,8OAAC;gBAAI,WAAU;;oBACZ,2BACC,8OAAC,4IAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,8OAAC,0MAAI;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;oBAInC,2BACC,8OAAC,4IAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,8OAAC,gNAAM;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;kCAKtC,8OAAC;wBAAI,WAAU;;;;;;oBAEd,6BACC,8OAAC,4IAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,8OAAC,0NAAQ;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;oBAIvC,6BACC,8OAAC,4IAAM;wBACL,SAAQ;wBACR,SAAS;wBACT,WAAU;;0CAEV,8OAAC,0NAAQ;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;kCAKxC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,qKAAwB;;;;;;;;;;;;;;;;;;;;;;AAKnC;uCAEe"}},
    {"offset": {"line": 812, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseStatsCards.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { useFinancialVisibility } from '@/hooks/useFinancialVisibility';\r\n\r\ninterface ExpenseStatsCardsProps {\r\n  totalExpenses: number;\r\n  thisMonthExpenses: number;\r\n  transactionCount: number;\r\n  formatCurrency: (amount: number) => string;\r\n  dateFilter: string;\r\n}\r\n\r\nconst ExpenseStatsCards: React.FC<ExpenseStatsCardsProps> = ({\r\n  totalExpenses,\r\n  thisMonthExpenses,\r\n  transactionCount,\r\n  formatCurrency,\r\n  dateFilter\r\n}) => {\r\n  const { canViewTotalExpenses } = useFinancialVisibility();\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n            Total Expenses ({dateFilter === 'all' ? 'All Time' : dateFilter.replace('-', ' ').replace(/\\b\\w/g, l => l.toUpperCase())})\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-2xl font-bold text-red-600\">\r\n            {canViewTotalExpenses ? formatCurrency(totalExpenses) : '•••'}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n            This Month\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-2xl font-bold\">\r\n            {canViewTotalExpenses ? formatCurrency(thisMonthExpenses) : '•••'}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-sm font-medium text-muted-foreground\">\r\n            Total Transactions\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-2xl font-bold\">\r\n            {transactionCount}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpenseStatsCards;"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAUA,MAAM,oBAAsD,CAAC,EAC3D,aAAa,EACb,iBAAiB,EACjB,gBAAgB,EAChB,cAAc,EACd,UAAU,EACX;IACC,MAAM,EAAE,oBAAoB,EAAE,GAAG,IAAA,gKAAsB;IACvD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,wIAAI;;kCACH,8OAAC,8IAAU;wBAAC,WAAU;kCACpB,cAAA,8OAAC,6IAAS;4BAAC,WAAU;;gCAA4C;gCAC9C,eAAe,QAAQ,aAAa,WAAW,OAAO,CAAC,KAAK,KAAK,OAAO,CAAC,SAAS,CAAA,IAAK,EAAE,WAAW;gCAAI;;;;;;;;;;;;kCAG7H,8OAAC,+IAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ,uBAAuB,eAAe,iBAAiB;;;;;;;;;;;;;;;;;0BAK9D,8OAAC,wIAAI;;kCACH,8OAAC,8IAAU;wBAAC,WAAU;kCACpB,cAAA,8OAAC,6IAAS;4BAAC,WAAU;sCAA4C;;;;;;;;;;;kCAInE,8OAAC,+IAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ,uBAAuB,eAAe,qBAAqB;;;;;;;;;;;;;;;;;0BAKlE,8OAAC,wIAAI;;kCACH,8OAAC,8IAAU;wBAAC,WAAU;kCACpB,cAAA,8OAAC,6IAAS;4BAAC,WAAU;sCAA4C;;;;;;;;;;;kCAInE,8OAAC,+IAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;;;;;;;;;;;;AAMb;uCAEe"}},
    {"offset": {"line": 954, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/RecentExpensesCard.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Expense } from '@/hooks/useExpenses';\r\n\r\ninterface RecentExpensesCardProps {\r\n  filteredExpenses: Expense[];\r\n  formatCurrency: (amount: number) => string;\r\n}\r\n\r\nconst RecentExpensesCard: React.FC<RecentExpensesCardProps> = ({\r\n  filteredExpenses,\r\n  formatCurrency\r\n}) => {\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"pb-3 md:pb-6\">\r\n        <CardTitle className=\"text-lg md:text-xl\">Recent Expenses</CardTitle>\r\n      </CardHeader>\r\n      <CardContent className=\"px-3 md:px-6\">\r\n        {filteredExpenses.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <p className=\"text-muted-foreground\">No expenses found for the selected period.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {filteredExpenses.slice(0, 10).map((expense) => (\r\n              <div key={expense.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\r\n                <div className=\"space-y-1\">\r\n                  <div className=\"font-medium\">{expense.description}</div>\r\n                  <div className=\"text-sm text-muted-foreground\">\r\n                    {expense.date.toLocaleDateString()} • {expense.category || 'Uncategorized'}\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-right\">\r\n                  <div className=\"font-semibold text-red-600\">\r\n                    {formatCurrency(expense.amount)}\r\n                  </div>\r\n                  {expense.cashAccountId && (\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      Linked to Cash\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default RecentExpensesCard;"],"names":[],"mappings":";;;;;AACA;;;AAQA,MAAM,qBAAwD,CAAC,EAC7D,gBAAgB,EAChB,cAAc,EACf;IACC,qBACE,8OAAC,wIAAI;;0BACH,8OAAC,8IAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC,6IAAS;oBAAC,WAAU;8BAAqB;;;;;;;;;;;0BAE5C,8OAAC,+IAAW;gBAAC,WAAU;0BACpB,iBAAiB,MAAM,KAAK,kBAC3B,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;6EAGvC,8OAAC;oBAAI,WAAU;8BACZ,iBAAiB,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,wBAClC,8OAAC;4BAAqB,WAAU;;8CAC9B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDAAe,QAAQ,WAAW;;;;;;sDACjD,8OAAC;4CAAI,WAAU;;gDACZ,QAAQ,IAAI,CAAC,kBAAkB;gDAAG;gDAAI,QAAQ,QAAQ,IAAI;;;;;;;;;;;;;8CAG/D,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACZ,eAAe,QAAQ,MAAM;;;;;;wCAE/B,QAAQ,aAAa,kBACpB,8OAAC;4CAAI,WAAU;sDAAgC;;;;;;;;;;;;;2BAZ3C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;AAwBlC;uCAEe"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,OAAO,wKAAkB;AAE/B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,wKAAkB;QACjB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,wKAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 1137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseCategoriesSummary.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { PieChart, Pie, ResponsiveContainer, Cell, Legend, Tooltip } from 'recharts';\r\nimport { ChartContainer, ChartTooltipContent } from '@/components/ui/chart';\r\nimport { Expense } from '@/hooks/useExpenses';\r\nimport { useFinancialVisibility } from '@/hooks/useFinancialVisibility';\r\n\r\ntype CategorySummaryItem = {\r\n  name: string;\r\n  value: number;\r\n  percentage: number;\r\n  count: number;\r\n};\r\n\r\ntype ExpenseCategoriesSummaryProps = {\r\n  expenses: Expense[];\r\n  formatCurrency: (amount: number) => string;\r\n};\r\n\r\n// Generate improved color palette for pie chart segments\r\nconst COLORS = [\r\n  '#9b87f5', '#7E69AB', '#6E59A5', '#D6BCFA', '#E5DEFF',\r\n  '#0EA5E9', '#F97316', '#D946EF', '#F2FCE2', '#FEF7CD',\r\n  '#FEC6A1', '#FFDEE2', '#FDE1D3', '#D3E4FD', '#F1F0FB'\r\n];\r\n\r\nconst ExpenseCategoriesSummary: React.FC<ExpenseCategoriesSummaryProps> = ({\r\n  expenses,\r\n  formatCurrency\r\n}) => {\r\n  const { canViewTotalExpenses } = useFinancialVisibility();\r\n  const [viewMode, setViewMode] = useState<'category' | 'person'>('category');\r\n\r\n  // Process expenses data to get category or person in charge summaries\r\n  const summarizedData = useMemo(() => {\r\n    const totalExpenseAmount = expenses.reduce((sum, expense) => sum + expense.amount, 0);\r\n\r\n    if (viewMode === 'category') {\r\n      // Group by category (case insensitive)\r\n      const categoryMap = new Map<string, { total: number, count: number }>();\r\n\r\n      expenses.forEach(expense => {\r\n        // Normalize category name (case insensitive) and handle null\r\n        const categoryName = (expense.category || 'Uncategorized').toLowerCase().trim();\r\n\r\n        const existingCategory = categoryMap.get(categoryName);\r\n        if (existingCategory) {\r\n          existingCategory.total += expense.amount;\r\n          existingCategory.count += 1;\r\n        } else {\r\n          categoryMap.set(categoryName, { total: expense.amount, count: 1 });\r\n        }\r\n      });\r\n\r\n      // Convert map to array and sort by amount (descending)\r\n      return Array.from(categoryMap.entries())\r\n        .map(([name, { total, count }]) => ({\r\n          name: name.charAt(0).toUpperCase() + name.slice(1), // Capitalize first letter\r\n          value: total,\r\n          percentage: (total / totalExpenseAmount) * 100,\r\n          count\r\n        }))\r\n        .sort((a, b) => b.value - a.value);\r\n\r\n    } else {\r\n      // Group by person in charge (case insensitive)\r\n      const personMap = new Map<string, { total: number, count: number }>();\r\n\r\n      expenses.forEach(expense => {\r\n        // Normalize person name (case insensitive) and handle null\r\n        const personName = (expense.personInCharge || 'Unassigned').toLowerCase().trim();\r\n\r\n        const existingPerson = personMap.get(personName);\r\n        if (existingPerson) {\r\n          existingPerson.total += expense.amount;\r\n          existingPerson.count += 1;\r\n        } else {\r\n          personMap.set(personName, { total: expense.amount, count: 1 });\r\n        }\r\n      });\r\n\r\n      // Convert map to array and sort by amount (descending)\r\n      return Array.from(personMap.entries())\r\n        .map(([name, { total, count }]) => ({\r\n          name: name.charAt(0).toUpperCase() + name.slice(1), // Capitalize first letter\r\n          value: total,\r\n          percentage: (total / totalExpenseAmount) * 100,\r\n          count\r\n        }))\r\n        .sort((a, b) => b.value - a.value);\r\n    }\r\n  }, [expenses, viewMode]);\r\n\r\n  // Custom tooltip for the pie chart\r\n  const CustomTooltip = ({ active, payload }: any) => {\r\n    if (active && payload && payload.length) {\r\n      const data = payload[0].payload;\r\n      return (\r\n        <div className=\"bg-card p-3 shadow rounded border border-border text-sm\">\r\n          <p className=\"font-medium text-foreground\">{data.name}</p>\r\n          <p className=\"text-primary\">{canViewTotalExpenses ? formatCurrency(data.value) : '•••'}</p>\r\n          <p className=\"text-muted-foreground\">{data.percentage.toFixed(1)}% of total</p>\r\n          <p className=\"text-xs\">{data.count} expense{data.count !== 1 ? 's' : ''}</p>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <Card className=\"mt-6\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n          <CardTitle className=\"text-lg sm:text-xl\">Expense Distribution</CardTitle>\r\n          <Tabs\r\n            value={viewMode}\r\n            onValueChange={(value) => setViewMode(value as 'category' | 'person')}\r\n            className=\"w-full sm:w-auto\"\r\n          >\r\n            <TabsList className=\"grid w-full grid-cols-2\">\r\n              <TabsTrigger value=\"category\">By Category</TabsTrigger>\r\n              <TabsTrigger value=\"person\">By Person</TabsTrigger>\r\n            </TabsList>\r\n          </Tabs>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"pt-2\">\r\n        {summarizedData.length > 0 ? (\r\n          <div className=\"flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-4\">\r\n            {/* Chart section */}\r\n            <div className=\"w-full lg:w-1/2 flex flex-col items-center\">\r\n              <div className=\"h-[220px] sm:h-[260px] w-full max-w-[280px] mx-auto\">\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                  <PieChart margin={{ top: 5, right: 5, bottom: 5, left: 5 }}>\r\n                    <Pie\r\n                      data={summarizedData}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      labelLine={false}\r\n                      outerRadius={80}\r\n                      innerRadius={36}\r\n                      paddingAngle={1.5}\r\n                      dataKey=\"value\"\r\n                      stroke=\"#ffffff\"\r\n                      strokeWidth={1.5}\r\n                    >\r\n                      {summarizedData.map((entry, index) => (\r\n                        <Cell\r\n                          key={`cell-${index}`}\r\n                          fill={COLORS[index % COLORS.length]}\r\n                          className=\"hover:opacity-80 transition-opacity\"\r\n                        />\r\n                      ))}\r\n                    </Pie>\r\n                    <Tooltip content={<CustomTooltip />} />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              </div>\r\n\r\n              <div className=\"mt-2 text-xs text-center text-muted-foreground\">\r\n                <p>Tap segments for details</p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Legend section - Mobile optimized */}\r\n            <div className=\"w-full lg:w-1/2\">\r\n              <div className=\"space-y-1\">\r\n                <h3 className=\"text-sm font-medium mb-1.5 px-1\">\r\n                  {viewMode === 'category' ? 'Categories' : 'People'} Breakdown\r\n                </h3>\r\n                <div className=\"space-y-0 max-h-[220px] sm:max-h-[260px] overflow-y-auto pr-1 rounded-md\">\r\n                  {summarizedData.map((item, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className=\"flex justify-between items-center border-b border-border/40 py-2 px-1 hover:bg-muted/50 rounded-sm transition-colors\"\r\n                    >\r\n                      <div className=\"flex items-center space-x-1.5\">\r\n                        <div\r\n                          className=\"w-2.5 h-2.5 rounded-full flex-shrink-0\"\r\n                          style={{ backgroundColor: COLORS[index % COLORS.length] }}\r\n                        />\r\n                        <span className=\"truncate max-w-[120px] sm:max-w-[160px] text-xs sm:text-sm\">\r\n                          {item.name}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <div className=\"font-medium text-xs sm:text-sm\">{canViewTotalExpenses ? formatCurrency(item.value) : '•••'}</div>\r\n                        <div className=\"text-[10px] sm:text-xs text-muted-foreground\">\r\n                          {item.percentage.toFixed(1)}%\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"flex flex-col items-center justify-center h-[160px] sm:h-[200px] text-center text-muted-foreground\">\r\n            <p className=\"text-sm\">No expense data available.</p>\r\n            <p className=\"text-xs mt-2\">Try a different date range or add some expenses.</p>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ExpenseCategoriesSummary;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;AAcA,yDAAyD;AACzD,MAAM,SAAS;IACb;IAAW;IAAW;IAAW;IAAW;IAC5C;IAAW;IAAW;IAAW;IAAW;IAC5C;IAAW;IAAW;IAAW;IAAW;CAC7C;AAED,MAAM,2BAAoE,CAAC,EACzE,QAAQ,EACR,cAAc,EACf;IACC,MAAM,EAAE,oBAAoB,EAAE,GAAG,IAAA,gKAAsB;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAwB;IAEhE,sEAAsE;IACtE,MAAM,iBAAiB,IAAA,gNAAO,EAAC;QAC7B,MAAM,qBAAqB,SAAS,MAAM,CAAC,CAAC,KAAK,UAAY,MAAM,QAAQ,MAAM,EAAE;QAEnF,IAAI,aAAa,YAAY;YAC3B,uCAAuC;YACvC,MAAM,cAAc,IAAI;YAExB,SAAS,OAAO,CAAC,CAAA;gBACf,6DAA6D;gBAC7D,MAAM,eAAe,CAAC,QAAQ,QAAQ,IAAI,eAAe,EAAE,WAAW,GAAG,IAAI;gBAE7E,MAAM,mBAAmB,YAAY,GAAG,CAAC;gBACzC,IAAI,kBAAkB;oBACpB,iBAAiB,KAAK,IAAI,QAAQ,MAAM;oBACxC,iBAAiB,KAAK,IAAI;gBAC5B,OAAO;oBACL,YAAY,GAAG,CAAC,cAAc;wBAAE,OAAO,QAAQ,MAAM;wBAAE,OAAO;oBAAE;gBAClE;YACF;YAEA,uDAAuD;YACvD,OAAO,MAAM,IAAI,CAAC,YAAY,OAAO,IAClC,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,GAAK,CAAC;oBAClC,MAAM,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC;oBAChD,OAAO;oBACP,YAAY,AAAC,QAAQ,qBAAsB;oBAC3C;gBACF,CAAC,GACA,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;QAErC,OAAO;YACL,+CAA+C;YAC/C,MAAM,YAAY,IAAI;YAEtB,SAAS,OAAO,CAAC,CAAA;gBACf,2DAA2D;gBAC3D,MAAM,aAAa,CAAC,QAAQ,cAAc,IAAI,YAAY,EAAE,WAAW,GAAG,IAAI;gBAE9E,MAAM,iBAAiB,UAAU,GAAG,CAAC;gBACrC,IAAI,gBAAgB;oBAClB,eAAe,KAAK,IAAI,QAAQ,MAAM;oBACtC,eAAe,KAAK,IAAI;gBAC1B,OAAO;oBACL,UAAU,GAAG,CAAC,YAAY;wBAAE,OAAO,QAAQ,MAAM;wBAAE,OAAO;oBAAE;gBAC9D;YACF;YAEA,uDAAuD;YACvD,OAAO,MAAM,IAAI,CAAC,UAAU,OAAO,IAChC,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,GAAK,CAAC;oBAClC,MAAM,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC;oBAChD,OAAO;oBACP,YAAY,AAAC,QAAQ,qBAAsB;oBAC3C;gBACF,CAAC,GACA,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;QACrC;IACF,GAAG;QAAC;QAAU;KAAS;IAEvB,mCAAmC;IACnC,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAE,OAAO,EAAO;QAC7C,IAAI,UAAU,WAAW,QAAQ,MAAM,EAAE;YACvC,MAAM,OAAO,OAAO,CAAC,EAAE,CAAC,OAAO;YAC/B,qBACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAA+B,KAAK,IAAI;;;;;;kCACrD,8OAAC;wBAAE,WAAU;kCAAgB,uBAAuB,eAAe,KAAK,KAAK,IAAI;;;;;;kCACjF,8OAAC;wBAAE,WAAU;;4BAAyB,KAAK,UAAU,CAAC,OAAO,CAAC;4BAAG;;;;;;;kCACjE,8OAAC;wBAAE,WAAU;;4BAAW,KAAK,KAAK;4BAAC;4BAAS,KAAK,KAAK,KAAK,IAAI,MAAM;;;;;;;;;;;;;QAG3E;QACA,OAAO;IACT;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;;0BACd,8OAAC,8IAAU;gBAAC,WAAU;0BACpB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,6IAAS;4BAAC,WAAU;sCAAqB;;;;;;sCAC1C,8OAAC,wIAAI;4BACH,OAAO;4BACP,eAAe,CAAC,QAAU,YAAY;4BACtC,WAAU;sCAEV,cAAA,8OAAC,4IAAQ;gCAAC,WAAU;;kDAClB,8OAAC,+IAAW;wCAAC,OAAM;kDAAW;;;;;;kDAC9B,8OAAC,+IAAW;wCAAC,OAAM;kDAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAKpC,8OAAC,+IAAW;gBAAC,WAAU;0BACpB,eAAe,MAAM,GAAG,kBACvB,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0LAAmB;wCAAC,OAAM;wCAAO,QAAO;kDACvC,cAAA,8OAAC,gKAAQ;4CAAC,QAAQ;gDAAE,KAAK;gDAAG,OAAO;gDAAG,QAAQ;gDAAG,MAAM;4CAAE;;8DACvD,8OAAC,sJAAG;oDACF,MAAM;oDACN,IAAG;oDACH,IAAG;oDACH,WAAW;oDACX,aAAa;oDACb,aAAa;oDACb,cAAc;oDACd,SAAQ;oDACR,QAAO;oDACP,aAAa;8DAEZ,eAAe,GAAG,CAAC,CAAC,OAAO,sBAC1B,8OAAC,4JAAI;4DAEH,MAAM,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;4DACnC,WAAU;2DAFL,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;8DAM1B,8OAAC,kKAAO;oDAAC,uBAAS,8OAAC;;;;;;;;;;;;;;;;;;;;;;;;;;8CAKzB,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;kDAAE;;;;;;;;;;;;;;;;;sCAKP,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;;4CACX,aAAa,aAAa,eAAe;4CAAS;;;;;;;kDAErD,8OAAC;wCAAI,WAAU;kDACZ,eAAe,GAAG,CAAC,CAAC,MAAM,sBACzB,8OAAC;gDAEC,WAAU;;kEAEV,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEACC,WAAU;gEACV,OAAO;oEAAE,iBAAiB,MAAM,CAAC,QAAQ,OAAO,MAAM,CAAC;gEAAC;;;;;;0EAE1D,8OAAC;gEAAK,WAAU;0EACb,KAAK,IAAI;;;;;;;;;;;;kEAGd,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAI,WAAU;0EAAkC,uBAAuB,eAAe,KAAK,KAAK,IAAI;;;;;;0EACrG,8OAAC;gEAAI,WAAU;;oEACZ,KAAK,UAAU,CAAC,OAAO,CAAC;oEAAG;;;;;;;;;;;;;;+CAf3B;;;;;;;;;;;;;;;;;;;;;;;;;;6EAyBjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAAU;;;;;;sCACvB,8OAAC;4BAAE,WAAU;sCAAe;;;;;;;;;;;;;;;;;;;;;;;AAMxC;uCAEe"}},
    {"offset": {"line": 1587, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div className=\"relative w-full overflow-auto\">\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n  </div>\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tfoot\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n  HTMLTableCaptionElement,\r\n  React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <caption\r\n    ref={ref}\r\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YACC,KAAK;YACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAM,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,oGACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 1703, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/drawer.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Drawer as DrawerPrimitive } from \"vaul\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Drawer = ({\r\n  shouldScaleBackground = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\r\n  <DrawerPrimitive.Root\r\n    shouldScaleBackground={shouldScaleBackground}\r\n    {...props}\r\n  />\r\n)\r\nDrawer.displayName = \"Drawer\"\r\n\r\nconst DrawerTrigger = DrawerPrimitive.Trigger\r\n\r\nconst DrawerPortal = DrawerPrimitive.Portal\r\n\r\nconst DrawerClose = DrawerPrimitive.Close\r\n\r\nconst DrawerOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DrawerPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\r\n\r\nconst DrawerContent = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DrawerPortal>\r\n    <DrawerOverlay />\r\n    <DrawerPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\r\n      {children}\r\n    </DrawerPrimitive.Content>\r\n  </DrawerPortal>\r\n))\r\nDrawerContent.displayName = \"DrawerContent\"\r\n\r\nconst DrawerHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\r\n    {...props}\r\n  />\r\n)\r\nDrawerHeader.displayName = \"DrawerHeader\"\r\n\r\nconst DrawerFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\r\n    {...props}\r\n  />\r\n)\r\nDrawerFooter.displayName = \"DrawerFooter\"\r\n\r\nconst DrawerTitle = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DrawerPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\r\n\r\nconst DrawerDescription = React.forwardRef<\r\n  React.ElementRef<typeof DrawerPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DrawerPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\r\n\r\nexport {\r\n  Drawer,\r\n  DrawerPortal,\r\n  DrawerOverlay,\r\n  DrawerTrigger,\r\n  DrawerClose,\r\n  DrawerContent,\r\n  DrawerHeader,\r\n  DrawerFooter,\r\n  DrawerTitle,\r\n  DrawerDescription,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,SAAS,CAAC,EACd,wBAAwB,IAAI,EAC5B,GAAG,OAC+C,iBAClD,8OAAC,gJAAe,CAAC,IAAI;QACnB,uBAAuB;QACtB,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG;AAErB,MAAM,gBAAgB,gJAAe,CAAC,OAAO;AAE7C,MAAM,eAAe,gJAAe,CAAC,MAAM;AAE3C,MAAM,cAAc,gJAAe,CAAC,KAAK;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gJAAe,CAAC,OAAO;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,kCAAkC;QAC/C,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,gJAAe,CAAC,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,gJAAe,CAAC,OAAO;gBACtB,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,kGACA;gBAED,GAAG,KAAK;;kCAET,8OAAC;wBAAI,WAAU;;;;;;oBACd;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG;AAE5B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gJAAe,CAAC,KAAK;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,gJAAe,CAAC,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,gJAAe,CAAC,WAAW;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,gJAAe,CAAC,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 1831, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/ImageViewer.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\r\nimport { \r\n  Drawer, \r\n  DrawerContent,\r\n  DrawerClose\r\n} from '@/components/ui/drawer';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport { X } from 'lucide-react';\r\n\r\ninterface ImageViewerProps {\r\n  isOpen: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  imageUrl: string;\r\n  imageAlt?: string;\r\n}\r\n\r\nconst ImageViewer: React.FC<ImageViewerProps> = ({ \r\n  isOpen, \r\n  onOpenChange, \r\n  imageUrl, \r\n  imageAlt = \"Receipt image\" \r\n}) => {\r\n  const isMobile = useIsMobile();\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <Drawer open={isOpen} onOpenChange={onOpenChange}>\r\n        <DrawerContent className=\"max-h-[90vh]\">\r\n          <div className=\"relative p-4\">\r\n            <DrawerClose className=\"absolute right-4 top-4 z-10 rounded-sm opacity-70 hover:opacity-100 bg-black/50 text-white p-2\">\r\n              <X className=\"h-4 w-4\" />\r\n              <span className=\"sr-only\">Close</span>\r\n            </DrawerClose>\r\n            <div className=\"flex items-center justify-center min-h-[70vh]\">\r\n              <img \r\n                src={imageUrl} \r\n                alt={imageAlt}\r\n                className=\"max-w-full max-h-[80vh] object-contain rounded-lg\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </DrawerContent>\r\n      </Drawer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-4xl max-h-[90vh] p-4\">\r\n        <div className=\"flex items-center justify-center min-h-[70vh]\">\r\n          <img \r\n            src={imageUrl} \r\n            alt={imageAlt}\r\n            className=\"max-w-full max-h-[80vh] object-contain rounded-lg\"\r\n          />\r\n        </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ImageViewer;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAKA;AACA;;;;;;AASA,MAAM,cAA0C,CAAC,EAC/C,MAAM,EACN,YAAY,EACZ,QAAQ,EACR,WAAW,eAAe,EAC3B;IACC,MAAM,WAAW,IAAA,6IAAW;IAE5B,IAAI,UAAU;QACZ,qBACE,8OAAC,4IAAM;YAAC,MAAM;YAAQ,cAAc;sBAClC,cAAA,8OAAC,mJAAa;gBAAC,WAAU;0BACvB,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,iJAAW;4BAAC,WAAU;;8CACrB,8OAAC,iMAAC;oCAAC,WAAU;;;;;;8CACb,8OAAC;oCAAK,WAAU;8CAAU;;;;;;;;;;;;sCAE5B,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,KAAK;gCACL,KAAK;gCACL,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOxB;IAEA,qBACE,8OAAC,4IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,8OAAC,mJAAa;YAAC,WAAU;sBACvB,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBACC,KAAK;oBACL,KAAK;oBACL,WAAU;;;;;;;;;;;;;;;;;;;;;AAMtB;uCAEe"}},
    {"offset": {"line": 1950, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ViewExpenseDialog.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { \r\n  Drawer, \r\n  DrawerContent,\r\n  DrawerClose,\r\n  DrawerHeader,\r\n  DrawerTitle\r\n} from '@/components/ui/drawer';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport { X, Eye } from 'lucide-react';\r\nimport { Expense } from '@/hooks/useExpenses';\r\nimport { CashAccount } from '@/types/cash';\r\nimport ImageViewer from '@/components/ui/ImageViewer';\r\n\r\ninterface ViewExpenseDialogProps {\r\n  expense: Expense | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  formatCurrency: (amount: number) => string;\r\n  accounts: CashAccount[];\r\n}\r\n\r\nconst ViewExpenseDialog: React.FC<ViewExpenseDialogProps> = ({\r\n  expense,\r\n  open,\r\n  onOpenChange,\r\n  formatCurrency,\r\n  accounts\r\n}) => {\r\n  const isMobile = useIsMobile();\r\n  const [imageViewerOpen, setImageViewerOpen] = useState(false);\r\n\r\n  if (!expense) return null;\r\n\r\n  const getCashAccountName = (accountId: string | null) => {\r\n    if (!accountId) return null;\r\n    const account = accounts.find(acc => acc.id === accountId);\r\n    return account?.name || 'Unknown Account';\r\n  };\r\n\r\n  const content = (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium text-muted-foreground\">Date</label>\r\n          <p className=\"text-sm\">{expense.date.toLocaleDateString()}</p>\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium text-muted-foreground\">Amount</label>\r\n          <p className=\"text-lg font-semibold text-red-600\">{formatCurrency(expense.amount)}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <label className=\"text-sm font-medium text-muted-foreground\">Description</label>\r\n        <p className=\"text-sm\">{expense.description}</p>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium text-muted-foreground\">Category</label>\r\n          {expense.category ? (\r\n            <Badge variant=\"secondary\">{expense.category}</Badge>\r\n          ) : (\r\n            <p className=\"text-sm text-muted-foreground\">Not specified</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium text-muted-foreground\">Payment Method</label>\r\n          <p className=\"text-sm\">{expense.paymentMethod || 'Not specified'}</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2\">\r\n        <label className=\"text-sm font-medium text-muted-foreground\">Person in Charge</label>\r\n        <p className=\"text-sm\">{expense.personInCharge || 'Not specified'}</p>\r\n      </div>\r\n\r\n      {expense.cashAccountId && (\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium text-muted-foreground\">Cash Account</label>\r\n          <Badge variant=\"outline\">{getCashAccountName(expense.cashAccountId)}</Badge>\r\n        </div>\r\n      )}\r\n\r\n      {expense.receiptImage && (\r\n        <div className=\"space-y-2\">\r\n          <label className=\"text-sm font-medium text-muted-foreground\">Receipt</label>\r\n          <div className=\"relative\">\r\n            <img \r\n              src={expense.receiptImage} \r\n              alt=\"Receipt\" \r\n              className=\"max-w-full h-32 object-contain border rounded cursor-pointer hover:opacity-80 transition-opacity\"\r\n              onClick={() => setImageViewerOpen(true)}\r\n            />\r\n            <Button\r\n              variant=\"secondary\"\r\n              size=\"sm\"\r\n              className=\"absolute top-2 right-2 opacity-80 hover:opacity-100\"\r\n              onClick={() => setImageViewerOpen(true)}\r\n            >\r\n              <Eye className=\"h-4 w-4\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <>\r\n        <Drawer open={open} onOpenChange={onOpenChange}>\r\n          <DrawerContent className=\"max-h-[85vh]\">\r\n            <div className=\"relative px-4 py-6 pb-8\">\r\n              <DrawerClose className=\"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring\">\r\n                <X className=\"h-4 w-4\" />\r\n                <span className=\"sr-only\">Close</span>\r\n              </DrawerClose>\r\n              <DrawerHeader className=\"px-0 pb-4\">\r\n                <DrawerTitle className=\"text-lg\">Expense Details</DrawerTitle>\r\n              </DrawerHeader>\r\n              <ScrollArea className=\"h-[calc(85vh-120px)] pr-4\">\r\n                {content}\r\n              </ScrollArea>\r\n            </div>\r\n          </DrawerContent>\r\n        </Drawer>\r\n\r\n        {expense.receiptImage && (\r\n          <ImageViewer\r\n            isOpen={imageViewerOpen}\r\n            onOpenChange={setImageViewerOpen}\r\n            imageUrl={expense.receiptImage}\r\n            imageAlt=\"Receipt image\"\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onOpenChange={onOpenChange}>\r\n        <DialogContent className=\"sm:max-w-[600px] max-h-[90vh]\">\r\n          <DialogHeader>\r\n            <DialogTitle>Expense Details</DialogTitle>\r\n          </DialogHeader>\r\n          <ScrollArea className=\"max-h-[70vh] pr-4\">\r\n            {content}\r\n          </ScrollArea>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {expense.receiptImage && (\r\n        <ImageViewer\r\n          isOpen={imageViewerOpen}\r\n          onOpenChange={setImageViewerOpen}\r\n          imageUrl={expense.receiptImage}\r\n          imageAlt=\"Receipt image\"\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewExpenseDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2391, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2418, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/switch.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAqB;QACpB,WAAW,IAAA,yHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,2KAAsB;YACrB,WAAW,IAAA,yHAAE,EACX;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,0KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 2452, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/calendar.tsx"],"sourcesContent":["\r\nimport * as React from \"react\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport { DayPicker } from \"react-day-picker\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { buttonVariants } from \"@/components/ui/button\";\r\n\r\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\r\n\r\nfunction Calendar({\r\n  className,\r\n  classNames,\r\n  showOutsideDays = true,\r\n  ...props\r\n}: CalendarProps) {\r\n  return (\r\n    <DayPicker\r\n      showOutsideDays={showOutsideDays}\r\n      className={cn(\"p-3 pointer-events-auto\", className)}\r\n      classNames={{\r\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\r\n        month: \"space-y-4\",\r\n        caption: \"flex justify-center pt-1 relative items-center\",\r\n        caption_label: \"text-sm font-medium\",\r\n        caption_dropdowns: \"flex justify-center gap-1\",\r\n        nav: \"space-x-1 flex items-center\",\r\n        nav_button: cn(\r\n          buttonVariants({ variant: \"outline\" }),\r\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\r\n        ),\r\n        nav_button_previous: \"absolute left-1\",\r\n        nav_button_next: \"absolute right-1\",\r\n        table: \"w-full border-collapse space-y-1\",\r\n        head_row: \"flex\",\r\n        head_cell:\r\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\r\n        row: \"flex w-full mt-2\",\r\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\r\n        day: cn(\r\n          buttonVariants({ variant: \"ghost\" }),\r\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\r\n        ),\r\n        day_range_end: \"day-range-end\",\r\n        day_selected:\r\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\r\n        day_today: \"bg-accent text-accent-foreground\",\r\n        day_outside:\r\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\r\n        day_disabled: \"text-muted-foreground opacity-50\",\r\n        day_range_middle:\r\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\r\n        day_hidden: \"invisible\",\r\n        dropdown: \"bg-background rounded-md border p-1 shadow-md\",\r\n        dropdown_month: \"w-[var(--rdp-caption-dropdown-month-width)]\",\r\n        dropdown_year: \"w-[var(--rdp-caption-dropdown-year-width)]\",\r\n        dropdown_icon: \"w-4 h-4\",\r\n        button_reset: \"appearance-none bg-transparent border-none p-0 m-0\",\r\n        vhidden: \"sr-only\",\r\n        ...classNames,\r\n      }}\r\n      components={{\r\n        IconLeft: ({ ..._props }) => <ChevronLeft className=\"h-4 w-4\" />,\r\n        IconRight: ({ ..._props }) => <ChevronRight className=\"h-4 w-4\" />,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nCalendar.displayName = \"Calendar\";\r\n\r\nexport { Calendar };\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAEA;AACA;;;;;;AAIA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,8OAAC,2KAAS;QACR,iBAAiB;QACjB,WAAW,IAAA,yHAAE,EAAC,2BAA2B;QACzC,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,mBAAmB;YACnB,KAAK;YACL,YAAY,IAAA,yHAAE,EACZ,IAAA,oJAAc,EAAC;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,IAAA,yHAAE,EACL,IAAA,oJAAc,EAAC;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,UAAU;YACV,gBAAgB;YAChB,eAAe;YACf,eAAe;YACf,cAAc;YACd,SAAS;YACT,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,GAAG,QAAQ,iBAAK,8OAAC,mOAAW;oBAAC,WAAU;;;;;;YACpD,WAAW,CAAC,EAAE,GAAG,QAAQ,iBAAK,8OAAC,sOAAY;oBAAC,WAAU;;;;;;QACxD;QACC,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2535, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/popover.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Popover = PopoverPrimitive.Root\r\n\r\nconst PopoverTrigger = PopoverPrimitive.Trigger\r\n\r\nconst PopoverContent = React.forwardRef<\r\n  React.ElementRef<typeof PopoverPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\r\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\r\n  <PopoverPrimitive.Portal>\r\n    <PopoverPrimitive.Content\r\n      ref={ref}\r\n      align={align}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </PopoverPrimitive.Portal>\r\n))\r\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,UAAU,2KAAqB;AAErC,MAAM,iBAAiB,8KAAwB;AAE/C,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC,6KAAuB;kBACtB,cAAA,8OAAC,8KAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,yHAAE,EACX,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 2576, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseForm.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Calendar } from '@/components/ui/calendar';\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { CalendarIcon, Upload, X, Plus, Tag, FileText } from 'lucide-react';\r\nimport { format } from 'date-fns';\r\nimport { cn } from '@/lib/utils';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { useCashAccounts } from '@/hooks/useCashAccounts';\r\nimport { useExpenseCategories } from '@/hooks/useExpenseCategories';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport ExpenseCategoriesManager from './ExpenseCategoriesManager';\r\n\r\ninterface ExpenseFormProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onSubmit: (data: any) => Promise<void>;\r\n  initialData?: any;\r\n  title?: string;\r\n}\r\n\r\nconst ExpenseForm: React.FC<ExpenseFormProps> = ({\r\n  open,\r\n  onOpenChange,\r\n  onSubmit,\r\n  initialData,\r\n  title = \"Add New Expense\"\r\n}) => {\r\n  const [amount, setAmount] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [newCategoryName, setNewCategoryName] = useState('');\r\n  const [date, setDate] = useState<Date>(new Date());\r\n  const [paymentMethod, setPaymentMethod] = useState('');\r\n  const [personInCharge, setPersonInCharge] = useState('');\r\n  const [receiptImage, setReceiptImage] = useState('');\r\n  const [linkToCash, setLinkToCash] = useState(false);\r\n  const [cashAccountId, setCashAccountId] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showCategoryDialog, setShowCategoryDialog] = useState(false);\r\n  const [isCreatingCategory, setIsCreatingCategory] = useState(false);\r\n\r\n  const [receiptFile, setReceiptFile] = useState<File | null>(null);\r\n\r\n  const { accounts } = useCashAccounts();\r\n  const { categories, createCategory } = useExpenseCategories();\r\n  const { toast } = useToast();\r\n\r\n  const { user } = useAuth();\r\n  const userId = user?.id || null;\r\n\r\n  // Reset form when dialog opens/closes or initialData changes\r\n  useEffect(() => {\r\n    if (open && initialData) {\r\n      setAmount(initialData.amount?.toString() || '');\r\n      setDescription(initialData.description || '');\r\n      setCategory(initialData.category || '');\r\n      setDate(initialData.date || new Date());\r\n      setPaymentMethod(initialData.paymentMethod || '');\r\n      setPersonInCharge(initialData.personInCharge || '');\r\n      setReceiptImage(initialData.receiptImage || '');\r\n      setLinkToCash(initialData.linkToCash || false);\r\n      setCashAccountId(initialData.cashAccountId || '');\r\n      setReceiptFile(null);\r\n    } else if (open && !initialData) {\r\n      // Reset form for new expense\r\n      setAmount('');\r\n      setDescription('');\r\n      setCategory('');\r\n      setDate(new Date());\r\n      setPaymentMethod('');\r\n      setPersonInCharge('');\r\n      setReceiptImage('');\r\n      setLinkToCash(false);\r\n      setCashAccountId('');\r\n      setReceiptFile(null);\r\n    }\r\n  }, [open, initialData]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!amount || !description) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Amount and description are required\",\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (linkToCash && !cashAccountId) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Please select a cash account when linking to cash\",\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      console.log('ExpenseForm: Submitting expense with linkToCash:', linkToCash, 'cashAccountId:', cashAccountId);\r\n\r\n      let finalReceiptUrl = receiptImage;\r\n\r\n      // Receipt file upload – storage backend not yet wired; skip for now\r\n      if (receiptFile) {\r\n        // TODO: wire up a server action for file uploads once a storage solution is in place.\r\n        console.warn('Receipt file upload skipped – no storage backend configured.');\r\n      }\r\n\r\n      const expenseData = {\r\n        amount: parseFloat(amount),\r\n        description,\r\n        category: category || undefined,\r\n        date,\r\n        paymentMethod: paymentMethod || undefined,\r\n        personInCharge: personInCharge || undefined,\r\n        receiptImage: finalReceiptUrl || undefined,\r\n        linkToCash,\r\n        cashAccountId: linkToCash ? cashAccountId : undefined\r\n      };\r\n\r\n      console.log('ExpenseForm: Final expense data:', expenseData);\r\n      await onSubmit(expenseData);\r\n      onOpenChange(false);\r\n    } catch (error) {\r\n      console.error('Error submitting expense:', error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      // Check file type\r\n      const isImage = file.type.startsWith('image/');\r\n      const isPDF = file.type === 'application/pdf';\r\n\r\n      if (!isImage && !isPDF) {\r\n        toast({\r\n          title: \"Error\",\r\n          description: \"Please select an image or PDF file\",\r\n          variant: \"destructive\"\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Store the file for upload on submit\r\n      setReceiptFile(file);\r\n\r\n      // Create a temporary URL for preview\r\n      const url = URL.createObjectURL(file);\r\n      setReceiptImage(url);\r\n    }\r\n  };\r\n\r\n  const removeImage = () => {\r\n    setReceiptImage('');\r\n  };\r\n\r\n  const isReceiptPDF = (url: string) => {\r\n    // Check if the file is a PDF based on the URL or stored file type\r\n    return url && url.includes('pdf');\r\n  };\r\n\r\n  const handleCategorySelect = (selectedCategory: string) => {\r\n    setCategory(selectedCategory);\r\n    setShowCategoryDialog(false);\r\n  };\r\n\r\n  const handleCreateNewCategory = async () => {\r\n    if (!newCategoryName.trim()) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Please enter a category name\",\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsCreatingCategory(true);\r\n    try {\r\n      const newCategory = await createCategory(newCategoryName.trim());\r\n      if (newCategory) {\r\n        setCategory(newCategory.name);\r\n        setNewCategoryName('');\r\n        toast({\r\n          title: \"Success\",\r\n          description: \"Category created successfully\",\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating category:', error);\r\n    } finally {\r\n      setIsCreatingCategory(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onOpenChange={onOpenChange}>\r\n        <DialogContent className=\"sm:max-w-md max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>{title}</DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"amount\">Amount *</Label>\r\n              <Input\r\n                id=\"amount\"\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={amount}\r\n                onChange={(e) => setAmount(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    e.preventDefault();\r\n                    document.getElementById('description')?.focus();\r\n                  }\r\n                }}\r\n                placeholder=\"0.00\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"description\">Description *</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter' && !e.shiftKey) {\r\n                    e.preventDefault();\r\n                    // Try to focus the category button\r\n                    const categoryButton = document.querySelector('button[data-category-select=\"true\"]') as HTMLElement;\r\n                    if (categoryButton) {\r\n                      categoryButton.focus();\r\n                    } else {\r\n                      // Skip to new category input\r\n                      document.getElementById('newCategory')?.focus();\r\n                    }\r\n                  }\r\n                }}\r\n                placeholder=\"Enter expense description\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div>\r\n                <Label>Category</Label>\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  className=\"w-full justify-start text-left font-normal\"\r\n                  onClick={() => setShowCategoryDialog(true)}\r\n                  data-category-select=\"true\"\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Enter') {\r\n                      e.preventDefault();\r\n                      document.getElementById('newCategory')?.focus();\r\n                    }\r\n                  }}\r\n                  disabled={isSubmitting}\r\n                >\r\n                  <Tag className=\"mr-2 h-4 w-4\" />\r\n                  {category || \"Select Category\"}\r\n                </Button>\r\n              </div>\r\n\r\n              <div>\r\n                <Label htmlFor=\"newCategory\">Create New Category</Label>\r\n                <div className=\"flex gap-2\">\r\n                  <Input\r\n                    id=\"newCategory\"\r\n                    value={newCategoryName}\r\n                    onChange={(e) => setNewCategoryName(e.target.value)}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter') {\r\n                        e.preventDefault();\r\n                        // Focus the date picker button\r\n                        const datePickerButton = document.querySelector('button[data-date-picker=\"true\"]') as HTMLElement;\r\n                        datePickerButton?.focus();\r\n                      }\r\n                    }}\r\n                    placeholder=\"Enter new category name\"\r\n                    disabled={isSubmitting || isCreatingCategory}\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    onClick={handleCreateNewCategory}\r\n                    disabled={!newCategoryName.trim() || isSubmitting || isCreatingCategory}\r\n                    size=\"sm\"\r\n                  >\r\n                    <Plus className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <Label>Date</Label>\r\n              <Popover>\r\n                <PopoverTrigger asChild>\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className={cn(\r\n                      \"w-full justify-start text-left font-normal\",\r\n                      !date && \"text-muted-foreground\"\r\n                    )}\r\n                    data-date-picker=\"true\"\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter') {\r\n                        e.preventDefault();\r\n                        document.getElementById('paymentMethod')?.focus();\r\n                      }\r\n                    }}\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\r\n                    {date ? format(date, \"PPP\") : <span>Pick a date</span>}\r\n                  </Button>\r\n                </PopoverTrigger>\r\n                <PopoverContent className=\"w-auto p-0\">\r\n                  <Calendar\r\n                    mode=\"single\"\r\n                    selected={date}\r\n                    onSelect={(date) => date && setDate(date)}\r\n                    initialFocus\r\n                  />\r\n                </PopoverContent>\r\n              </Popover>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"paymentMethod\">Payment Method</Label>\r\n              <Input\r\n                id=\"paymentMethod\"\r\n                value={paymentMethod}\r\n                onChange={(e) => setPaymentMethod(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    e.preventDefault();\r\n                    document.getElementById('personInCharge')?.focus();\r\n                  }\r\n                }}\r\n                placeholder=\"Enter payment method (e.g., Cash, Credit Card, etc.)\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"personInCharge\">Person in Charge</Label>\r\n              <Input\r\n                id=\"personInCharge\"\r\n                value={personInCharge}\r\n                onChange={(e) => setPersonInCharge(e.target.value)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    e.preventDefault();\r\n                    document.getElementById('receipt')?.focus();\r\n                  }\r\n                }}\r\n                placeholder=\"Enter person responsible\"\r\n                disabled={isSubmitting}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"receipt\">Receipt (Image or PDF)</Label>\r\n              <div className=\"space-y-2\">\r\n                <Input\r\n                  id=\"receipt\"\r\n                  type=\"file\"\r\n                  accept=\"image/*,.pdf\"\r\n                  onChange={handleFileUpload}\r\n                  disabled={isSubmitting}\r\n                />\r\n                {receiptImage && (\r\n                  <div className=\"relative inline-block\">\r\n                    {isReceiptPDF(receiptImage) ? (\r\n                      <div className=\"flex items-center gap-2 p-2 border rounded\">\r\n                        <FileText className=\"h-8 w-8 text-red-600\" />\r\n                        <span className=\"text-sm\">PDF Receipt</span>\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"destructive\"\r\n                          size=\"sm\"\r\n                          className=\"ml-auto h-6 w-6 rounded-full p-0\"\r\n                          onClick={removeImage}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <X className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <img\r\n                          src={receiptImage}\r\n                          alt=\"Receipt\"\r\n                          className=\"w-20 h-20 object-cover rounded border\"\r\n                        />\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"destructive\"\r\n                          size=\"sm\"\r\n                          className=\"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0\"\r\n                          onClick={removeImage}\r\n                          disabled={isSubmitting}\r\n                        >\r\n                          <X className=\"h-3 w-3\" />\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <Switch\r\n                id=\"linkToCash\"\r\n                checked={linkToCash}\r\n                onCheckedChange={setLinkToCash}\r\n                disabled={isSubmitting}\r\n              />\r\n              <Label htmlFor=\"linkToCash\">Link to Cash Account</Label>\r\n            </div>\r\n\r\n            {linkToCash && (\r\n              <div>\r\n                <Label htmlFor=\"cashAccount\">Cash Account</Label>\r\n                <Select value={cashAccountId} onValueChange={(value) => {\r\n                  setCashAccountId(value);\r\n                  setTimeout(() => {\r\n                    const submitButton = document.querySelector('button[type=\"submit\"]') as HTMLElement;\r\n                    submitButton?.focus();\r\n                  }, 100);\r\n                }} disabled={isSubmitting}>\r\n                  <SelectTrigger\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter') {\r\n                        e.preventDefault();\r\n                        setTimeout(() => {\r\n                          const submitButton = document.querySelector('button[type=\"submit\"]') as HTMLElement;\r\n                          submitButton?.focus();\r\n                        }, 100);\r\n                      }\r\n                    }}\r\n                  >\r\n                    <SelectValue placeholder=\"Select cash account\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {accounts.map((account) => (\r\n                      <SelectItem key={account.id} value={account.id}>\r\n                        {account.name}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"flex justify-end gap-2\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => onOpenChange(false)}\r\n                disabled={isSubmitting}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button type=\"submit\" disabled={isSubmitting}>\r\n                {isSubmitting ? 'Saving...' : 'Save Expense'}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Category Selection Dialog */}\r\n      <Dialog open={showCategoryDialog} onOpenChange={setShowCategoryDialog}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Select Category</DialogTitle>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <ScrollArea className=\"h-64 rounded-md border p-4\">\r\n              <div className=\"space-y-2\">\r\n                {categories.map((cat) => (\r\n                  <Button\r\n                    key={cat.id}\r\n                    variant=\"ghost\"\r\n                    className=\"w-full justify-start\"\r\n                    onClick={() => handleCategorySelect(cat.name)}\r\n                  >\r\n                    <Tag className=\"mr-2 h-4 w-4\" />\r\n                    {cat.name}\r\n                  </Button>\r\n                ))}\r\n              </div>\r\n            </ScrollArea>\r\n\r\n            <ExpenseCategoriesManager />\r\n\r\n            <div className=\"flex justify-end\">\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => setShowCategoryDialog(false)}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ExpenseForm;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3497, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/EditExpenseDialog.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Expense } from '@/hooks/useExpenses';\r\nimport ExpenseForm from './ExpenseForm';\r\n\r\ninterface EditExpenseDialogProps {\r\n  expense: Expense | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onSubmit: (data: any) => Promise<void>;\r\n}\r\n\r\nconst EditExpenseDialog: React.FC<EditExpenseDialogProps> = ({\r\n  expense,\r\n  open,\r\n  onOpenChange,\r\n  onSubmit\r\n}) => {\r\n  if (!expense) return null;\r\n\r\n  const initialData = {\r\n    amount: expense.amount,\r\n    description: expense.description,\r\n    category: expense.category || '',\r\n    date: expense.date,\r\n    paymentMethod: expense.paymentMethod || '',\r\n    personInCharge: expense.personInCharge || '',\r\n    receiptImage: expense.receiptImage || '',\r\n    linkToCash: !!expense.cashAccountId,\r\n    cashAccountId: expense.cashAccountId || ''\r\n  };\r\n\r\n  const handleSubmit = async (data: any) => {\r\n    console.log('EditExpenseDialog handleSubmit data:', data);\r\n    \r\n    // Pass the complete form data including both linkToCash and cashAccountId\r\n    await onSubmit(data);\r\n  };\r\n\r\n  return (\r\n    <ExpenseForm\r\n      open={open}\r\n      onOpenChange={onOpenChange}\r\n      onSubmit={handleSubmit}\r\n      initialData={initialData}\r\n      title=\"Edit Expense\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditExpenseDialog;\r\n"],"names":[],"mappings":";;;;;AAGA;;;AASA,MAAM,oBAAsD,CAAC,EAC3D,OAAO,EACP,IAAI,EACJ,YAAY,EACZ,QAAQ,EACT;IACC,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,cAAc;QAClB,QAAQ,QAAQ,MAAM;QACtB,aAAa,QAAQ,WAAW;QAChC,UAAU,QAAQ,QAAQ,IAAI;QAC9B,MAAM,QAAQ,IAAI;QAClB,eAAe,QAAQ,aAAa,IAAI;QACxC,gBAAgB,QAAQ,cAAc,IAAI;QAC1C,cAAc,QAAQ,YAAY,IAAI;QACtC,YAAY,CAAC,CAAC,QAAQ,aAAa;QACnC,eAAe,QAAQ,aAAa,IAAI;IAC1C;IAEA,MAAM,eAAe,OAAO;QAC1B,QAAQ,GAAG,CAAC,wCAAwC;QAEpD,0EAA0E;QAC1E,MAAM,SAAS;IACjB;IAEA,qBACE,8OAAC,wJAAW;QACV,MAAM;QACN,cAAc;QACd,UAAU;QACV,aAAa;QACb,OAAM;;;;;;AAGZ;uCAEe"}},
    {"offset": {"line": 3540, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/DeleteExpenseDialog.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\nimport { Expense } from '@/hooks/useExpenses';\r\n\r\ninterface DeleteExpenseDialogProps {\r\n  expense: Expense | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: () => Promise<void>;\r\n  formatCurrency: (amount: number) => string;\r\n}\r\n\r\nconst DeleteExpenseDialog: React.FC<DeleteExpenseDialogProps> = ({\r\n  expense,\r\n  open,\r\n  onOpenChange,\r\n  onConfirm,\r\n  formatCurrency\r\n}) => {\r\n  if (!expense) return null;\r\n\r\n  return (\r\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\r\n      <AlertDialogContent>\r\n        <AlertDialogHeader>\r\n          <AlertDialogTitle>Delete Expense</AlertDialogTitle>\r\n          <AlertDialogDescription className=\"space-y-2\">\r\n            <div>Are you sure you want to delete this expense?</div>\r\n            <div className=\"p-3 bg-muted rounded-md\">\r\n              <div className=\"font-medium\">{expense.description}</div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                {formatCurrency(expense.amount)} • {expense.date.toLocaleDateString()}\r\n              </div>\r\n            </div>\r\n            <div className=\"text-sm text-destructive\">\r\n              This action cannot be undone.\r\n            </div>\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        <AlertDialogFooter>\r\n          <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n          <AlertDialogAction onClick={onConfirm} className=\"bg-destructive hover:bg-destructive/90\">\r\n            Delete Expense\r\n          </AlertDialogAction>\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};\r\n\r\nexport default DeleteExpenseDialog;\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAoBA,MAAM,sBAA0D,CAAC,EAC/D,OAAO,EACP,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,cAAc,EACf;IACC,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC,0JAAW;QAAC,MAAM;QAAM,cAAc;kBACrC,cAAA,8OAAC,iKAAkB;;8BACjB,8OAAC,gKAAiB;;sCAChB,8OAAC,+JAAgB;sCAAC;;;;;;sCAClB,8OAAC,qKAAsB;4BAAC,WAAU;;8CAChC,8OAAC;8CAAI;;;;;;8CACL,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDAAe,QAAQ,WAAW;;;;;;sDACjD,8OAAC;4CAAI,WAAU;;gDACZ,eAAe,QAAQ,MAAM;gDAAE;gDAAI,QAAQ,IAAI,CAAC,kBAAkB;;;;;;;;;;;;;8CAGvE,8OAAC;oCAAI,WAAU;8CAA2B;;;;;;;;;;;;;;;;;;8BAK9C,8OAAC,gKAAiB;;sCAChB,8OAAC,gKAAiB;sCAAC;;;;;;sCACnB,8OAAC,gKAAiB;4BAAC,SAAS;4BAAW,WAAU;sCAAyC;;;;;;;;;;;;;;;;;;;;;;;AAOpG;uCAEe"}},
    {"offset": {"line": 3664, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpensesList.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Eye, Edit, Trash2, Search } from 'lucide-react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport { useCashAccounts } from '@/hooks/useCashAccounts';\r\nimport { Expense } from '@/hooks/useExpenses';\r\nimport ViewExpenseDialog from './ViewExpenseDialog';\r\nimport EditExpenseDialog from './EditExpenseDialog';\r\nimport DeleteExpenseDialog from './DeleteExpenseDialog';\r\nimport { formatCashCurrency } from '@/lib/utils';\r\nimport { useBusinessSettings } from '@/hooks/useBusinessSettings';\r\nimport { useFinancialVisibility } from '@/hooks/useFinancialVisibility';\r\nimport { useProfiles } from '@/contexts/ProfileContext';\r\n\r\ninterface ExpensesListProps {\r\n  expenses: Expense[];\r\n  onUpdateExpense: (id: string, updates: any) => Promise<any>;\r\n  onDeleteExpense: (id: string) => Promise<boolean>;\r\n  formatCurrency: (amount: number) => string;\r\n}\r\n\r\nconst ExpensesList: React.FC<ExpensesListProps> = ({\r\n  expenses,\r\n  onUpdateExpense,\r\n  onDeleteExpense,\r\n  formatCurrency\r\n}) => {\r\n  const isMobile = useIsMobile();\r\n  const { accounts } = useCashAccounts();\r\n  const { settings } = useBusinessSettings();\r\n  const { canViewTotalExpenses } = useFinancialVisibility();\r\n  const { hasPermission } = useProfiles();\r\n  const currency = settings.currency || 'USD';\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedExpense, setSelectedExpense] = useState<Expense | null>(null);\r\n  const [viewDialogOpen, setViewDialogOpen] = useState(false);\r\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n\r\n  const filteredExpenses = expenses.filter(expense =>\r\n    expense.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    (expense.category && expense.category.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n    (expense.paymentMethod && expense.paymentMethod.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n    (expense.personInCharge && expense.personInCharge.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  const getCashAccountName = (accountId: string | null) => {\r\n    if (!accountId) return null;\r\n    const account = accounts.find(acc => acc.id === accountId);\r\n    return account?.name || 'Unknown Account';\r\n  };\r\n\r\n  const handleView = (expense: Expense) => {\r\n    setSelectedExpense(expense);\r\n    setViewDialogOpen(true);\r\n  };\r\n\r\n  const handleEdit = (expense: Expense) => {\r\n    setSelectedExpense(expense);\r\n    setEditDialogOpen(true);\r\n  };\r\n\r\n  const handleDelete = (expense: Expense) => {\r\n    setSelectedExpense(expense);\r\n    setDeleteDialogOpen(true);\r\n  };\r\n\r\n  const handleUpdateExpense = async (updates: any) => {\r\n    if (selectedExpense) {\r\n      await onUpdateExpense(selectedExpense.id, updates);\r\n      setEditDialogOpen(false);\r\n      setSelectedExpense(null);\r\n    }\r\n  };\r\n\r\n  const handleConfirmDelete = async () => {\r\n    if (selectedExpense) {\r\n      const success = await onDeleteExpense(selectedExpense.id);\r\n      if (success) {\r\n        setDeleteDialogOpen(false);\r\n        setSelectedExpense(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Mobile Card View\r\n  if (isMobile) {\r\n    return (\r\n      <>\r\n        <Card>\r\n          <CardHeader className=\"pb-4\">\r\n            <div className=\"flex flex-col gap-4\">\r\n              <CardTitle className=\"text-lg\">Expenses List</CardTitle>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n                <Input\r\n                  placeholder=\"Search expenses...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent className=\"px-3\">\r\n            {filteredExpenses.length === 0 ? (\r\n              <div className=\"text-center py-8\">\r\n                <p className=\"text-muted-foreground\">\r\n                  {searchTerm ? 'No expenses found matching your search.' : 'No expenses found.'}\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                {filteredExpenses.map((expense) => (\r\n                  <Card\r\n                    key={expense.id}\r\n                    className=\"p-4 space-y-3 cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-red-500\"\r\n                    onClick={() => handleView(expense)}\r\n                  >\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"space-y-1 flex-1\">\r\n                        <div className=\"text-sm font-medium text-muted-foreground\">\r\n                          {expense.date.toLocaleDateString()}\r\n                        </div>\r\n                        <div className=\"text-base font-semibold line-clamp-2\">\r\n                          {expense.description}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"text-right space-y-1\">\r\n                        <div className=\"text-lg font-bold text-red-600\">\r\n                          {canViewTotalExpenses ? formatCashCurrency(expense.amount, currency) : '•••'}\r\n                        </div>\r\n                        <div className=\"flex gap-1\" onClick={(e) => e.stopPropagation()}>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleView(expense)}\r\n                            className=\"h-6 w-6 p-0 text-gray-600 hover:text-gray-700\"\r\n                          >\r\n                            <Eye className=\"h-3 w-3\" />\r\n                          </Button>\r\n                          {hasPermission('expenses', 'edit') && (\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleEdit(expense)}\r\n                              className=\"h-6 w-6 p-0 text-blue-600 hover:text-blue-700\"\r\n                            >\r\n                              <Edit className=\"h-3 w-3\" />\r\n                            </Button>\r\n                          )}\r\n                          {hasPermission('expenses', 'delete') && (\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleDelete(expense)}\r\n                              className=\"h-6 w-6 p-0 text-red-600 hover:text-red-700\"\r\n                            >\r\n                              <Trash2 className=\"h-3 w-3\" />\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2 text-sm\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <span className=\"font-medium text-muted-foreground\">Category:</span>\r\n                        {expense.category ? (\r\n                          <Badge variant=\"secondary\" className=\"text-xs\">{expense.category}</Badge>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">-</span>\r\n                        )}\r\n                      </div>\r\n\r\n                      {expense.paymentMethod && (\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"font-medium text-muted-foreground\">Payment:</span>\r\n                          <span className=\"text-xs\">{expense.paymentMethod}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {expense.personInCharge && (\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"font-medium text-muted-foreground\">Person in Charge:</span>\r\n                          <span className=\"text-xs\">{expense.personInCharge}</span>\r\n                        </div>\r\n                      )}\r\n\r\n                      {expense.receiptImage && (\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"font-medium text-muted-foreground\">Receipt:</span>\r\n                          <Badge variant=\"outline\" className=\"text-xs\">Available</Badge>\r\n                        </div>\r\n                      )}\r\n\r\n                      {expense.cashAccountId && (\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"font-medium text-muted-foreground\">Cash Account:</span>\r\n                          <Badge variant=\"outline\" className=\"text-xs\">{getCashAccountName(expense.cashAccountId)}</Badge>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* View Dialog */}\r\n        <ViewExpenseDialog\r\n          expense={selectedExpense}\r\n          open={viewDialogOpen}\r\n          onOpenChange={setViewDialogOpen}\r\n          formatCurrency={formatCurrency}\r\n          accounts={accounts}\r\n        />\r\n\r\n        {/* Edit Dialog */}\r\n        <EditExpenseDialog\r\n          expense={selectedExpense}\r\n          open={editDialogOpen}\r\n          onOpenChange={setEditDialogOpen}\r\n          onSubmit={handleUpdateExpense}\r\n        />\r\n\r\n        {/* Delete Dialog */}\r\n        <DeleteExpenseDialog\r\n          expense={selectedExpense}\r\n          open={deleteDialogOpen}\r\n          onOpenChange={setDeleteDialogOpen}\r\n          onConfirm={handleConfirmDelete}\r\n          formatCurrency={formatCurrency}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n\r\n  // Desktop Table View\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardHeader className=\"pb-4\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n            <CardTitle className=\"text-lg md:text-xl\">Expenses List</CardTitle>\r\n            <div className=\"relative w-full sm:w-80\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n              <Input\r\n                placeholder=\"Search expenses by description, category, payment method...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {filteredExpenses.length === 0 ? (\r\n            <div className=\"text-center py-8\">\r\n              <p className=\"text-muted-foreground\">\r\n                {searchTerm ? 'No expenses found matching your search.' : 'No expenses found.'}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>Date</TableHead>\r\n                    <TableHead>Description</TableHead>\r\n                    <TableHead>Category</TableHead>\r\n                    <TableHead>Amount</TableHead>\r\n                    <TableHead>Payment Method</TableHead>\r\n                    <TableHead>Person In Charge</TableHead>\r\n                    <TableHead>Cash Account</TableHead>\r\n                    <TableHead>Receipt</TableHead>\r\n                    <TableHead className=\"text-right\">Actions</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {filteredExpenses.map((expense) => (\r\n                    <TableRow\r\n                      key={expense.id}\r\n                      className=\"cursor-pointer hover:bg-muted/50\"\r\n                      onClick={() => handleView(expense)}\r\n                    >\r\n                      <TableCell className=\"whitespace-nowrap\">\r\n                        {expense.date.toLocaleDateString()}\r\n                      </TableCell>\r\n                      <TableCell className=\"font-medium\">\r\n                        {expense.description}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {expense.category ? (\r\n                          <Badge variant=\"secondary\">{expense.category}</Badge>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">-</span>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell className=\"font-semibold text-red-600\">\r\n                        {canViewTotalExpenses ? formatCashCurrency(expense.amount, currency) : '•••'}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {expense.paymentMethod || <span className=\"text-muted-foreground\">-</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {expense.personInCharge || <span className=\"text-muted-foreground\">-</span>}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {expense.cashAccountId ? (\r\n                          <Badge variant=\"outline\">{getCashAccountName(expense.cashAccountId)}</Badge>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">-</span>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {expense.receiptImage ? (\r\n                          <Badge variant=\"outline\">Receipt</Badge>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">-</span>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right\">\r\n                        <div className=\"flex justify-end gap-1\" onClick={(e) => e.stopPropagation()}>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleView(expense)}\r\n                            className=\"h-8 w-8 p-0\"\r\n                          >\r\n                            <Eye className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          {hasPermission('expenses', 'edit') && (\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleEdit(expense)}\r\n                              className=\"h-8 w-8 p-0\"\r\n                            >\r\n                              <Edit className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          )}\r\n                          {hasPermission('expenses', 'delete') && (\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleDelete(expense)}\r\n                              className=\"h-8 w-8 p-0 text-destructive hover:text-destructive\"\r\n                            >\r\n                              <Trash2 className=\"h-4 w-4\" />\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* View Dialog */}\r\n      <ViewExpenseDialog\r\n        expense={selectedExpense}\r\n        open={viewDialogOpen}\r\n        onOpenChange={setViewDialogOpen}\r\n        formatCurrency={formatCurrency}\r\n        accounts={accounts}\r\n      />\r\n\r\n      {/* Edit Dialog */}\r\n      <EditExpenseDialog\r\n        expense={selectedExpense}\r\n        open={editDialogOpen}\r\n        onOpenChange={setEditDialogOpen}\r\n        onSubmit={handleUpdateExpense}\r\n      />\r\n\r\n      {/* Delete Dialog */}\r\n      <DeleteExpenseDialog\r\n        expense={selectedExpense}\r\n        open={deleteDialogOpen}\r\n        onOpenChange={setDeleteDialogOpen}\r\n        onConfirm={handleConfirmDelete}\r\n        formatCurrency={formatCurrency}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ExpensesList;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseContent.tsx"],"sourcesContent":["import React from 'react';\r\nimport ExpenseStatsCards from '@/components/expenses/ExpenseStatsCards';\r\nimport RecentExpensesCard from '@/components/expenses/RecentExpensesCard';\r\nimport ExpenseCategoriesSummary from '@/components/expenses/ExpenseCategoriesSummary';\r\nimport ExpensesList from '@/components/expenses/ExpensesList';\r\nimport { Expense } from '@/hooks/useExpenses';\r\n\r\ninterface ExpenseContentProps {\r\n  filteredExpenses: Expense[];\r\n  expenseStats: {\r\n    totalExpenses: number;\r\n    thisMonthExpenses: number;\r\n    transactionCount: number;\r\n  };\r\n  formatCurrency: (amount: number) => string;\r\n  dateFilter: string;\r\n  onUpdateExpense: (id: string, data: any) => Promise<any>;\r\n  onDeleteExpense: (id: string) => Promise<boolean>;\r\n  showOnlyOverview?: boolean;\r\n  showOnlyList?: boolean;\r\n}\r\n\r\nconst ExpenseContent: React.FC<ExpenseContentProps> = ({\r\n  filteredExpenses,\r\n  expenseStats,\r\n  formatCurrency,\r\n  dateFilter,\r\n  onUpdateExpense,\r\n  onDeleteExpense,\r\n  showOnlyOverview = false,\r\n  showOnlyList = false\r\n}) => {\r\n  if (showOnlyOverview) {\r\n    return (\r\n      <div className=\"space-y-4 md:space-y-6\">\r\n        {/* Summary Cards */}\r\n        <ExpenseStatsCards\r\n          totalExpenses={expenseStats.totalExpenses}\r\n          thisMonthExpenses={expenseStats.thisMonthExpenses}\r\n          transactionCount={expenseStats.transactionCount}\r\n          formatCurrency={formatCurrency}\r\n          dateFilter={dateFilter}\r\n        />\r\n\r\n        {/* Categories Summary */}\r\n        <ExpenseCategoriesSummary expenses={filteredExpenses} formatCurrency={formatCurrency} />\r\n\r\n        {/* Recent Expenses */}\r\n        <RecentExpensesCard\r\n          filteredExpenses={filteredExpenses}\r\n          formatCurrency={formatCurrency}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (showOnlyList) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <ExpensesList\r\n          expenses={filteredExpenses}\r\n          onUpdateExpense={onUpdateExpense}\r\n          onDeleteExpense={onDeleteExpense}\r\n          formatCurrency={formatCurrency}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Fallback / original behavior if neither prop is provided\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <ExpenseStatsCards\r\n        totalExpenses={expenseStats.totalExpenses}\r\n        thisMonthExpenses={expenseStats.thisMonthExpenses}\r\n        transactionCount={expenseStats.transactionCount}\r\n        formatCurrency={formatCurrency}\r\n        dateFilter={dateFilter}\r\n      />\r\n      <ExpensesList\r\n        expenses={filteredExpenses}\r\n        onUpdateExpense={onUpdateExpense}\r\n        onDeleteExpense={onDeleteExpense}\r\n        formatCurrency={formatCurrency}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpenseContent;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;AAkBA,MAAM,iBAAgD,CAAC,EACrD,gBAAgB,EAChB,YAAY,EACZ,cAAc,EACd,UAAU,EACV,eAAe,EACf,eAAe,EACf,mBAAmB,KAAK,EACxB,eAAe,KAAK,EACrB;IACC,IAAI,kBAAkB;QACpB,qBACE,8OAAC;YAAI,WAAU;;8BAEb,8OAAC,8JAAiB;oBAChB,eAAe,aAAa,aAAa;oBACzC,mBAAmB,aAAa,iBAAiB;oBACjD,kBAAkB,aAAa,gBAAgB;oBAC/C,gBAAgB;oBAChB,YAAY;;;;;;8BAId,8OAAC,qKAAwB;oBAAC,UAAU;oBAAkB,gBAAgB;;;;;;8BAGtE,8OAAC,+JAAkB;oBACjB,kBAAkB;oBAClB,gBAAgB;;;;;;;;;;;;IAIxB;IAEA,IAAI,cAAc;QAChB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,yJAAY;gBACX,UAAU;gBACV,iBAAiB;gBACjB,iBAAiB;gBACjB,gBAAgB;;;;;;;;;;;IAIxB;IAEA,2DAA2D;IAC3D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,8JAAiB;gBAChB,eAAe,aAAa,aAAa;gBACzC,mBAAmB,aAAa,iBAAiB;gBACjD,kBAAkB,aAAa,gBAAgB;gBAC/C,gBAAgB;gBAChB,YAAY;;;;;;0BAEd,8OAAC,yJAAY;gBACX,UAAU;gBACV,iBAAiB;gBACjB,iBAAiB;gBACjB,gBAAgB;;;;;;;;;;;;AAIxB;uCAEe"}},
    {"offset": {"line": 4664, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpensesDateFilter.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Calendar as CalendarIcon } from \"lucide-react\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { format } from \"date-fns\";\r\n\r\ninterface ExpensesDateFilterProps {\r\n  dateFilter: string;\r\n  dateRange: { from: Date | undefined; to: Date | undefined; };\r\n  onDateFilterChange: (value: string) => void;\r\n  onDateRangeChange: (range: { from: Date | undefined; to: Date | undefined; }) => void;\r\n}\r\n\r\nconst ExpensesDateFilter: React.FC<ExpensesDateFilterProps> = ({\r\n  dateFilter,\r\n  dateRange,\r\n  onDateFilterChange,\r\n  onDateRangeChange\r\n}) => {\r\n  const preventPropagation = (e: React.MouseEvent | React.TouchEvent) => {\r\n    e.stopPropagation();\r\n  };\r\n  \r\n  return (\r\n    <div \r\n      className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center mb-4\"\r\n      onClick={preventPropagation}\r\n    >\r\n      <div className=\"w-full sm:w-[200px]\">\r\n        <Select value={dateFilter} onValueChange={onDateFilterChange}>\r\n          <SelectTrigger className=\"bg-white shadow-sm\">\r\n            <SelectValue placeholder=\"Select period\" />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"z-50 bg-white shadow-lg\">\r\n            <SelectItem value=\"all\">All Time</SelectItem>\r\n            <SelectItem value=\"today\">Today</SelectItem>\r\n            <SelectItem value=\"yesterday\">Yesterday</SelectItem>\r\n            <SelectItem value=\"this-week\">This Week</SelectItem>\r\n            <SelectItem value=\"last-week\">Last Week</SelectItem>\r\n            <SelectItem value=\"this-month\">This Month</SelectItem>\r\n            <SelectItem value=\"last-month\">Last Month</SelectItem>\r\n            <SelectItem value=\"this-year\">This Year</SelectItem>\r\n            <SelectItem value=\"custom\">Custom Range</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      {dateFilter === 'custom' && (\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal\"\r\n              >\r\n                <CalendarIcon className=\"h-4 w-4\" />\r\n                <span>{dateRange.from ? format(dateRange.from, \"MMM d, yyyy\") : \"Start Date\"}</span>\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-auto p-0 z-[100] bg-white shadow-lg\" align=\"start\">\r\n              <Calendar\r\n                initialFocus\r\n                mode=\"single\"\r\n                defaultMonth={dateRange?.from}\r\n                selected={dateRange?.from}\r\n                onSelect={(date) => onDateRangeChange({ ...dateRange, from: date })}\r\n                className=\"p-3 pointer-events-auto\"\r\n                showOutsideDays={true}\r\n              />\r\n            </PopoverContent>\r\n          </Popover>\r\n          \r\n          <span className=\"text-muted-foreground\">to</span>\r\n          \r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal\"\r\n              >\r\n                <CalendarIcon className=\"h-4 w-4\" />\r\n                <span>{dateRange.to ? format(dateRange.to, \"MMM d, yyyy\") : \"End Date\"}</span>\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-auto p-0 z-[100] bg-white shadow-lg\" align=\"start\">\r\n              <Calendar\r\n                initialFocus\r\n                mode=\"single\"\r\n                defaultMonth={dateRange?.to}\r\n                selected={dateRange?.to}\r\n                onSelect={(date) => onDateRangeChange({ ...dateRange, to: date })}\r\n                className=\"p-3 pointer-events-auto\"\r\n                showOutsideDays={true}\r\n              />\r\n            </PopoverContent>\r\n          </Popover>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpensesDateFilter;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AASA,MAAM,qBAAwD,CAAC,EAC7D,UAAU,EACV,SAAS,EACT,kBAAkB,EAClB,iBAAiB,EAClB;IACC,MAAM,qBAAqB,CAAC;QAC1B,EAAE,eAAe;IACnB;IAEA,qBACE,8OAAC;QACC,WAAU;QACV,SAAS;;0BAET,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,4IAAM;oBAAC,OAAO;oBAAY,eAAe;;sCACxC,8OAAC,mJAAa;4BAAC,WAAU;sCACvB,cAAA,8OAAC,iJAAW;gCAAC,aAAY;;;;;;;;;;;sCAE3B,8OAAC,mJAAa;4BAAC,WAAU;;8CACvB,8OAAC,gJAAU;oCAAC,OAAM;8CAAM;;;;;;8CACxB,8OAAC,gJAAU;oCAAC,OAAM;8CAAQ;;;;;;8CAC1B,8OAAC,gJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,8OAAC,gJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,8OAAC,gJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,8OAAC,gJAAU;oCAAC,OAAM;8CAAa;;;;;;8CAC/B,8OAAC,gJAAU;oCAAC,OAAM;8CAAa;;;;;;8CAC/B,8OAAC,gJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,8OAAC,gJAAU;oCAAC,OAAM;8CAAS;;;;;;;;;;;;;;;;;;;;;;;YAKhC,eAAe,0BACd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,8IAAO;;0CACN,8OAAC,qJAAc;gCAAC,OAAO;0CACrB,cAAA,8OAAC,4IAAM;oCACL,SAAQ;oCACR,WAAU;;sDAEV,8OAAC,sNAAY;4CAAC,WAAU;;;;;;sDACxB,8OAAC;sDAAM,UAAU,IAAI,GAAG,IAAA,+JAAM,EAAC,UAAU,IAAI,EAAE,iBAAiB;;;;;;;;;;;;;;;;;0CAGpE,8OAAC,qJAAc;gCAAC,WAAU;gCAAwC,OAAM;0CACtE,cAAA,8OAAC,gJAAQ;oCACP,YAAY;oCACZ,MAAK;oCACL,cAAc,WAAW;oCACzB,UAAU,WAAW;oCACrB,UAAU,CAAC,OAAS,kBAAkB;4CAAE,GAAG,SAAS;4CAAE,MAAM;wCAAK;oCACjE,WAAU;oCACV,iBAAiB;;;;;;;;;;;;;;;;;kCAKvB,8OAAC;wBAAK,WAAU;kCAAwB;;;;;;kCAExC,8OAAC,8IAAO;;0CACN,8OAAC,qJAAc;gCAAC,OAAO;0CACrB,cAAA,8OAAC,4IAAM;oCACL,SAAQ;oCACR,WAAU;;sDAEV,8OAAC,sNAAY;4CAAC,WAAU;;;;;;sDACxB,8OAAC;sDAAM,UAAU,EAAE,GAAG,IAAA,+JAAM,EAAC,UAAU,EAAE,EAAE,iBAAiB;;;;;;;;;;;;;;;;;0CAGhE,8OAAC,qJAAc;gCAAC,WAAU;gCAAwC,OAAM;0CACtE,cAAA,8OAAC,gJAAQ;oCACP,YAAY;oCACZ,MAAK;oCACL,cAAc,WAAW;oCACzB,UAAU,WAAW;oCACrB,UAAU,CAAC,OAAS,kBAAkB;4CAAE,GAAG,SAAS;4CAAE,IAAI;wCAAK;oCAC/D,WAAU;oCACV,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjC;uCAEe"}},
    {"offset": {"line": 4957, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/checkbox.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Checkbox = React.forwardRef<\r\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <CheckboxPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <CheckboxPrimitive.Indicator\r\n      className={cn(\"flex items-center justify-center text-current\")}\r\n    >\r\n      <Check className=\"h-4 w-4\" />\r\n    </CheckboxPrimitive.Indicator>\r\n  </CheckboxPrimitive.Root>\r\n))\r\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAW,IAAA,yHAAE,EAAC;sBAEd,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 5000, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseBulkAddDialog.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Calendar } from '@/components/ui/calendar';\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\r\nimport { format } from 'date-fns';\r\nimport { Calendar as CalendarIcon, Plus, Trash2, ArrowUp, ArrowDown, Save, X, Info, Receipt, Wallet, Link } from 'lucide-react';\r\nimport { useExpenses } from '@/hooks/useExpenses';\r\nimport { useCashAccounts } from '@/hooks/useCashAccounts';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface ExpenseRow {\r\n    id: string;\r\n    amount: number;\r\n    description: string;\r\n    category: string;\r\n    date: Date;\r\n    paymentMethod: string;\r\n    personInCharge: string;\r\n    linkToCash: boolean;\r\n    cashAccountId?: string;\r\n}\r\n\r\ninterface ExpenseBulkAddDialogProps {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    onSuccess: () => void;\r\n}\r\n\r\nconst STORAGE_KEY = 'bulk_expenses_draft';\r\n\r\nconst ExpenseBulkAddDialog: React.FC<ExpenseBulkAddDialogProps> = ({\r\n    open,\r\n    onOpenChange,\r\n    onSuccess\r\n}) => {\r\n    const isMobile = useIsMobile();\r\n    const { user } = useAuth();\r\n    const { accounts } = useCashAccounts();\r\n    const { createBulkExpenses } = useExpenses();\r\n    const [rows, setRows] = useState<ExpenseRow[]>([]);\r\n    const [globalDate, setGlobalDate] = useState<Date>(new Date());\r\n    const [isSaving, setIsSaving] = useState(false);\r\n\r\n    // Load draft from localStorage\r\n    useEffect(() => {\r\n        if (!open) return;\r\n\r\n        const savedDraft = localStorage.getItem(STORAGE_KEY);\r\n        if (savedDraft) {\r\n            try {\r\n                const parsed = JSON.parse(savedDraft);\r\n                setRows(parsed.map((r: any) => ({ ...r, date: new Date(r.date) })));\r\n            } catch (e) {\r\n                console.error('Failed to parse draft', e);\r\n                addEmptyRow();\r\n            }\r\n        } else {\r\n            setRows([]);\r\n            addEmptyRow();\r\n        }\r\n    }, [open]);\r\n\r\n    // Save draft to localStorage whenever rows change\r\n    useEffect(() => {\r\n        if (rows.length > 0) {\r\n            localStorage.setItem(STORAGE_KEY, JSON.stringify(rows));\r\n        } else {\r\n            localStorage.removeItem(STORAGE_KEY);\r\n        }\r\n    }, [rows]);\r\n\r\n    const addEmptyRow = () => {\r\n        const newId = Math.random().toString(36).substr(2, 9);\r\n        const newRow: ExpenseRow = {\r\n            id: newId,\r\n            amount: 0,\r\n            description: '',\r\n            category: 'Other',\r\n            date: globalDate,\r\n            paymentMethod: 'Cash',\r\n            personInCharge: '',\r\n            linkToCash: false,\r\n            cashAccountId: accounts.length > 0 ? accounts[0].id : undefined\r\n        };\r\n        setRows(prev => [...prev, newRow]);\r\n    };\r\n\r\n    const removeRow = (id: string) => {\r\n        setRows(prev => prev.filter(r => r.id !== id));\r\n        if (rows.length === 1) {\r\n            addEmptyRow();\r\n        }\r\n    };\r\n\r\n    const updateRow = (id: string, updates: Partial<ExpenseRow>) => {\r\n        setRows(prev => prev.map(r => r.id === id ? { ...r, ...updates } : r));\r\n    };\r\n\r\n    const moveRow = (id: string, direction: 'up' | 'down') => {\r\n        const index = rows.findIndex(r => r.id === id);\r\n        if (index < 0) return;\r\n        if (direction === 'up' && index === 0) return;\r\n        if (direction === 'down' && index === rows.length - 1) return;\r\n\r\n        const newRows = [...rows];\r\n        const targetIndex = direction === 'up' ? index - 1 : index + 1;\r\n        [newRows[index], newRows[targetIndex]] = [newRows[targetIndex], newRows[index]];\r\n        setRows(newRows);\r\n    };\r\n\r\n    const handleSaveAll = async () => {\r\n        const validRows = rows.filter(r => r.amount > 0 && r.description.trim() !== '');\r\n        if (validRows.length === 0) {\r\n            alert('Please enter at least one valid expense with amount and description');\r\n            return;\r\n        }\r\n\r\n        const invalidLinks = validRows.filter(r => r.linkToCash && !r.cashAccountId);\r\n        if (invalidLinks.length > 0) {\r\n            alert('Please select a finance account for all linked expenses');\r\n            return;\r\n        }\r\n\r\n        setIsSaving(true);\r\n        try {\r\n            await createBulkExpenses(validRows.map(({ id, ...rest }) => ({ ...rest })));\r\n            localStorage.removeItem(STORAGE_KEY);\r\n            onSuccess();\r\n        } catch (e) {\r\n            console.error('Bulk save failed', e);\r\n            alert('Failed to save expenses. Please check your network connection.');\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const renderDesktop = () => (\r\n        <div className=\"overflow-x-auto rounded-xl border-none shadow-sm bg-white dark:bg-slate-900\">\r\n            <Table>\r\n                <TableHeader className=\"bg-slate-50 dark:bg-slate-800/50\">\r\n                    <TableRow>\r\n                        <TableHead className=\"w-[140px]\">Date</TableHead>\r\n                        <TableHead className=\"w-[130px]\">Amount</TableHead>\r\n                        <TableHead>Description</TableHead>\r\n                        <TableHead className=\"w-[140px]\">Category</TableHead>\r\n                        <TableHead className=\"w-[180px]\">Link to Cash</TableHead>\r\n                        <TableHead className=\"w-[120px] text-right\">Actions</TableHead>\r\n                    </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                    {rows.map((row) => (\r\n                        <TableRow key={row.id} className=\"hover:bg-muted/30 transition-colors border-slate-100 dark:border-slate-800\">\r\n                            <TableCell>\r\n                                <Popover>\r\n                                    <PopoverTrigger asChild>\r\n                                        <Button\r\n                                            variant=\"outline\"\r\n                                            size=\"sm\"\r\n                                            className={cn(\"w-full justify-start text-left font-normal h-9 rounded-lg\", !row.date && \"text-muted-foreground\")}\r\n                                        >\r\n                                            <CalendarIcon className=\"mr-2 h-3 w-3 shrink-0\" />\r\n                                            <span className=\"truncate\">{row.date ? format(row.date, \"MMM dd, yyyy\") : \"Date\"}</span>\r\n                                        </Button>\r\n                                    </PopoverTrigger>\r\n                                    <PopoverContent className=\"w-auto p-0 z-[70]\" align=\"start\">\r\n                                        <Calendar\r\n                                            mode=\"single\"\r\n                                            selected={row.date}\r\n                                            onSelect={(date) => date && updateRow(row.id, { date })}\r\n                                            initialFocus\r\n                                        />\r\n                                    </PopoverContent>\r\n                                </Popover>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Input\r\n                                    type=\"number\"\r\n                                    value={row.amount || ''}\r\n                                    onChange={(e) => updateRow(row.id, { amount: Number(e.target.value) })}\r\n                                    className=\"h-9 font-medium rounded-lg\"\r\n                                    placeholder=\"0.00\"\r\n                                />\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Input\r\n                                    value={row.description}\r\n                                    onChange={(e) => updateRow(row.id, { description: e.target.value })}\r\n                                    placeholder=\"Description...\"\r\n                                    className=\"h-9 rounded-lg\"\r\n                                />\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Select\r\n                                    value={row.category}\r\n                                    onValueChange={(val) => updateRow(row.id, { category: val })}\r\n                                >\r\n                                    <SelectTrigger className=\"h-9 rounded-lg\">\r\n                                        <SelectValue />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent>\r\n                                        <SelectItem value=\"Sales\">Sales</SelectItem>\r\n                                        <SelectItem value=\"Expenses\">Expenses</SelectItem>\r\n                                        <SelectItem value=\"Payroll\">Payroll</SelectItem>\r\n                                        <SelectItem value=\"Supplies\">Supplies</SelectItem>\r\n                                        <SelectItem value=\"Utilities\">Utilities</SelectItem>\r\n                                        <SelectItem value=\"Rent\">Rent</SelectItem>\r\n                                        <SelectItem value=\"Other\">Other</SelectItem>\r\n                                    </SelectContent>\r\n                                </Select>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <div className=\"flex flex-col gap-1.5 p-1 bg-slate-50/50 dark:bg-slate-800/50 rounded-lg\">\r\n                                    <div className=\"flex items-center space-x-2\">\r\n                                        <Checkbox\r\n                                            id={`link-${row.id}`}\r\n                                            checked={row.linkToCash}\r\n                                            onCheckedChange={(checked) => updateRow(row.id, { linkToCash: !!checked })}\r\n                                        />\r\n                                        <Label htmlFor={`link-${row.id}`} className=\"text-[10px] font-medium text-slate-600\">Link Transaction</Label>\r\n                                    </div>\r\n                                    {row.linkToCash && (\r\n                                        <Select\r\n                                            value={row.cashAccountId}\r\n                                            onValueChange={(val) => updateRow(row.id, { cashAccountId: val })}\r\n                                        >\r\n                                            <SelectTrigger className=\"text-[10px] h-7 px-2 rounded-md\">\r\n                                                <SelectValue placeholder=\"Select Account\" />\r\n                                            </SelectTrigger>\r\n                                            <SelectContent>\r\n                                                {accounts.map(acc => (\r\n                                                    <SelectItem key={acc.id} value={acc.id}>{acc.name}</SelectItem>\r\n                                                ))}\r\n                                            </SelectContent>\r\n                                        </Select>\r\n                                    )}\r\n                                </div>\r\n                            </TableCell>\r\n                            <TableCell className=\"text-right\">\r\n                                <div className=\"flex items-center justify-end gap-0.5\">\r\n                                    <Button size=\"icon\" variant=\"ghost\" className=\"h-7 w-7 text-muted-foreground\" onClick={() => moveRow(row.id, 'up')}>\r\n                                        <ArrowUp className=\"h-3.5 w-3.5\" />\r\n                                    </Button>\r\n                                    <Button size=\"icon\" variant=\"ghost\" className=\"h-7 w-7 text-muted-foreground\" onClick={() => moveRow(row.id, 'down')}>\r\n                                        <ArrowDown className=\"h-3.5 w-3.5\" />\r\n                                    </Button>\r\n                                    <Button size=\"icon\" variant=\"ghost\" className=\"h-7 w-7 text-destructive/70 hover:text-destructive hover:bg-destructive/10\" onClick={() => removeRow(row.id)}>\r\n                                        <Trash2 className=\"h-3.5 w-3.5\" />\r\n                                    </Button>\r\n                                </div>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </div>\r\n    );\r\n\r\n    const renderMobile = () => (\r\n        <div className=\"space-y-4 px-1\">\r\n            {rows.map((row, index) => (\r\n                <Card key={row.id} className=\"overflow-hidden border-l-4 border-l-red-500/30 shadow-sm\">\r\n                    <CardHeader className=\"flex flex-row items-center justify-between p-3 pb-2 bg-muted/20\">\r\n                        <CardTitle className=\"text-xs font-semibold uppercase tracking-wider text-muted-foreground\">\r\n                            Expense {index + 1}\r\n                        </CardTitle>\r\n                        <div className=\"flex items-center gap-1\">\r\n                            <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8 text-muted-foreground\" onClick={() => moveRow(row.id, 'up')}>\r\n                                <ArrowUp className=\"h-4 w-4\" />\r\n                            </Button>\r\n                            <Button size=\"icon\" variant=\"ghost\" className=\"h-8 w-8 text-destructive/70\" onClick={() => removeRow(row.id)}>\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                            </Button>\r\n                        </div>\r\n                    </CardHeader>\r\n                    <CardContent className=\"p-3 space-y-3\">\r\n                        <div className=\"grid grid-cols-2 gap-2\">\r\n                            <Popover>\r\n                                <PopoverTrigger asChild>\r\n                                    <Button\r\n                                        variant=\"outline\"\r\n                                        size=\"sm\"\r\n                                        className={cn(\"w-full justify-start text-left font-normal h-9 rounded-lg\", !row.date && \"text-muted-foreground\")}\r\n                                    >\r\n                                        <CalendarIcon className=\"mr-2 h-3 w-3\" />\r\n                                        <span className=\"truncate text-xs\">{row.date ? format(row.date, \"MMM dd, yyyy\") : \"Date\"}</span>\r\n                                    </Button>\r\n                                </PopoverTrigger>\r\n                                <PopoverContent className=\"w-auto p-0 z-[70]\" align=\"start\">\r\n                                    <Calendar\r\n                                        mode=\"single\"\r\n                                        selected={row.date}\r\n                                        onSelect={(date) => date && updateRow(row.id, { date })}\r\n                                        initialFocus\r\n                                    />\r\n                                </PopoverContent>\r\n                            </Popover>\r\n                            <Input\r\n                                type=\"number\"\r\n                                placeholder=\"Amount\"\r\n                                value={row.amount || ''}\r\n                                onChange={(e) => updateRow(row.id, { amount: Number(e.target.value) })}\r\n                                className=\"h-9 font-medium rounded-lg\"\r\n                            />\r\n                        </div>\r\n\r\n                        <Input\r\n                            placeholder=\"Description\"\r\n                            value={row.description}\r\n                            onChange={(e) => updateRow(row.id, { description: e.target.value })}\r\n                            className=\"h-9 rounded-lg\"\r\n                        />\r\n\r\n                        <div className=\"grid grid-cols-2 gap-2\">\r\n                            <Select\r\n                                value={row.category}\r\n                                onValueChange={(val) => updateRow(row.id, { category: val })}\r\n                            >\r\n                                <SelectTrigger className=\"h-9 text-xs rounded-lg\">\r\n                                    <SelectValue placeholder=\"Category\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"Sales\">Sales</SelectItem>\r\n                                    <SelectItem value=\"Expenses\">Expenses</SelectItem>\r\n                                    <SelectItem value=\"Payroll\">Payroll</SelectItem>\r\n                                    <SelectItem value=\"Other\">Other</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                            <Select\r\n                                value={row.paymentMethod}\r\n                                onValueChange={(val) => updateRow(row.id, { paymentMethod: val })}\r\n                            >\r\n                                <SelectTrigger className=\"h-9 text-xs rounded-lg\">\r\n                                    <SelectValue placeholder=\"Method\" />\r\n                                </SelectTrigger>\r\n                                <SelectContent>\r\n                                    <SelectItem value=\"Cash\">Cash</SelectItem>\r\n                                    <SelectItem value=\"M-Pesa\">M-Pesa</SelectItem>\r\n                                    <SelectItem value=\"Bank\">Bank</SelectItem>\r\n                                    <SelectItem value=\"Card\">Card</SelectItem>\r\n                                </SelectContent>\r\n                            </Select>\r\n                        </div>\r\n\r\n                        <div className=\"flex flex-col gap-2 p-2 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-100 dark:border-slate-800\">\r\n                            <div className=\"flex items-center space-x-2\">\r\n                                <Checkbox\r\n                                    id={`link-mobile-${row.id}`}\r\n                                    checked={row.linkToCash}\r\n                                    onCheckedChange={(checked) => updateRow(row.id, { linkToCash: !!checked })}\r\n                                />\r\n                                <Label htmlFor={`link-mobile-${row.id}`} className=\"text-xs font-medium\">Link to Finance Account</Label>\r\n                            </div>\r\n                            {row.linkToCash && (\r\n                                <Select\r\n                                    value={row.cashAccountId}\r\n                                    onValueChange={(val) => updateRow(row.id, { cashAccountId: val })}\r\n                                >\r\n                                    <SelectTrigger className=\"h-9 text-xs rounded-md\">\r\n                                        <SelectValue placeholder=\"Select Account\" />\r\n                                    </SelectTrigger>\r\n                                    <SelectContent>\r\n                                        {accounts.map(acc => (\r\n                                            <SelectItem key={acc.id} value={acc.id}>{acc.name}</SelectItem>\r\n                                        ))}\r\n                                    </SelectContent>\r\n                                </Select>\r\n                            )}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"max-w-[95vw] md:max-w-6xl p-0 overflow-hidden border-none bg-transparent shadow-none\">\r\n                <div className=\"space-y-4 md:space-y-6\">\r\n                    <Card className=\"shadow-2xl overflow-hidden border-none bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-950\">\r\n                        <CardHeader className=\"pb-3 bg-white dark:bg-slate-900 border-b\">\r\n                            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                                <div>\r\n                                    <div className=\"flex items-center gap-2 mb-1\">\r\n                                        <div className=\"bg-red-100 dark:bg-red-900/30 p-2 rounded-lg\">\r\n                                            <Receipt className=\"h-5 w-5 text-red-600\" />\r\n                                        </div>\r\n                                        <CardTitle className=\"text-xl font-bold text-slate-800 dark:text-slate-100\">\r\n                                            Bulk Expense Entry\r\n                                        </CardTitle>\r\n                                    </div>\r\n                                    <p className=\"text-sm text-slate-500 dark:text-slate-400\">\r\n                                        Log multiple expenses efficiently. Link them to finance accounts to update cash ledgers automatically.\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    <Button variant=\"ghost\" onClick={() => onOpenChange(false)} disabled={isSaving}>\r\n                                        <X className=\"h-4 w-4 mr-2\" />\r\n                                        Cancel\r\n                                    </Button>\r\n                                    <Button\r\n                                        onClick={handleSaveAll}\r\n                                        disabled={isSaving}\r\n                                        className=\"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 shadow-lg font-bold\"\r\n                                    >\r\n                                        {isSaving ? <Save className=\"h-4 w-4 mr-2 animate-spin\" /> : <Save className=\"h-4 w-4 mr-2\" />}\r\n                                        Save {rows.filter(r => r.amount > 0).length} Expenses\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent className=\"p-4 sm:p-6 space-y-6 max-h-[80vh] overflow-y-auto custom-scrollbar\">\r\n                            <div className=\"bg-white dark:bg-slate-900/50 rounded-xl p-4 border border-slate-100 dark:border-slate-800 space-y-4\">\r\n                                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                                    <div className=\"flex items-center gap-3 w-full md:w-auto\">\r\n                                        <div className=\"flex-1 md:flex-initial\">\r\n                                            <p className=\"text-[10px] font-semibold text-muted-foreground uppercase mb-1 ml-1\">Default Date</p>\r\n                                            <Popover>\r\n                                                <PopoverTrigger asChild>\r\n                                                    <Button variant=\"outline\" className={cn(\"justify-start text-left font-normal w-full md:w-[220px] h-10 shadow-sm rounded-lg\", !globalDate && \"text-muted-foreground\")}>\r\n                                                        <CalendarIcon className=\"mr-2 h-4 w-4 text-red-500\" />\r\n                                                        {globalDate ? format(globalDate, \"PPP\") : <span>Pick a date</span>}\r\n                                                    </Button>\r\n                                                </PopoverTrigger>\r\n                                                <PopoverContent className=\"w-auto p-0 z-[100]\" align=\"start\">\r\n                                                    <Calendar\r\n                                                        mode=\"single\"\r\n                                                        selected={globalDate}\r\n                                                        onSelect={(date) => date && setGlobalDate(date)}\r\n                                                        initialFocus\r\n                                                    />\r\n                                                </PopoverContent>\r\n                                            </Popover>\r\n                                        </div>\r\n                                        <div className=\"flex items-end h-full\">\r\n                                            <Button\r\n                                                onClick={addEmptyRow}\r\n                                                variant=\"outline\"\r\n                                                className=\"gap-2 h-10 font-semibold border-red-200 dark:border-red-900/30 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg\"\r\n                                            >\r\n                                                <Plus className=\"h-4 w-4\" />\r\n                                                Add Row\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <Alert className=\"bg-orange-50/50 dark:bg-orange-900/10 border-orange-100 dark:border-orange-900 py-2 w-full md:max-w-xs\">\r\n                                        <Info className=\"h-4 w-4 text-orange-500\" />\r\n                                        <AlertDescription className=\"text-[10px] sm:text-xs\">\r\n                                            Rows with <strong>Link Transaction</strong> checked will automatically create cash deductions.\r\n                                        </AlertDescription>\r\n                                    </Alert>\r\n                                </div>\r\n\r\n                                <div className=\"min-h-[300px]\">\r\n                                    {isMobile ? renderMobile() : renderDesktop()}\r\n                                </div>\r\n\r\n                                {rows.length > 5 && (\r\n                                    <div className=\"flex justify-center pt-2\">\r\n                                        <Button\r\n                                            onClick={addEmptyRow}\r\n                                            variant=\"ghost\"\r\n                                            className=\"gap-2 text-muted-foreground hover:text-red-500\"\r\n                                        >\r\n                                            <Plus className=\"h-4 w-4\" />\r\n                                            Add Another Row\r\n                                        </Button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default ExpenseBulkAddDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6363, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/progress.tsx"],"sourcesContent":["\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ElementRef<typeof ProgressPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative h-4 w-full overflow-hidden rounded-full bg-gray-200\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className=\"h-full w-full flex-1 transition-all\"\r\n      style={{ \r\n        transform: `translateX(-${100 - (value || 0)}%)`,\r\n        backgroundColor: \"#16a34a\"\r\n      }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,gEACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAU;YACV,OAAO;gBACL,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;gBAChD,iBAAiB;YACnB;;;;;;;;;;;AAIN,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 6401, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseCSVUploadDialog.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Upload, FileText, AlertCircle, CheckCircle, Download, Info, Receipt, X } from 'lucide-react';\r\nimport * as XLSX from 'xlsx';\r\nimport { parseExpenseCSV, generateErrorLogCSV, ValidationError, CSVExpenseRow, validateExpenseCSVRow } from '@/utils/csvParser';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { useExpenses } from '@/hooks/useExpenses';\r\nimport { useCashAccounts } from '@/hooks/useCashAccounts';\r\n\r\ninterface ExpenseCSVUploadDialogProps {\r\n    open: boolean;\r\n    onOpenChange: (open: boolean) => void;\r\n    onUploadComplete: () => void;\r\n}\r\n\r\ninterface UploadState {\r\n    step: 'select' | 'preview' | 'uploading' | 'complete';\r\n    file: File | null;\r\n    validRows: CSVExpenseRow[];\r\n    errors: ValidationError[];\r\n    totalRows: number;\r\n    uploadProgress: number;\r\n    successCount: number;\r\n    failureCount: number;\r\n}\r\n\r\nconst ExpenseCSVUploadDialog: React.FC<ExpenseCSVUploadDialogProps> = ({\r\n    open,\r\n    onOpenChange,\r\n    onUploadComplete\r\n}) => {\r\n    const { createBulkExpenses } = useExpenses();\r\n    const { accounts } = useCashAccounts();\r\n    const [state, setState] = useState<UploadState>({\r\n        step: 'select',\r\n        file: null,\r\n        validRows: [],\r\n        errors: [],\r\n        totalRows: 0,\r\n        uploadProgress: 0,\r\n        successCount: 0,\r\n        failureCount: 0\r\n    });\r\n\r\n    const fileInputRef = useRef<HTMLInputElement>(null);\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [isUploading, setIsUploading] = useState(false);\r\n\r\n    const convertCSVRowToExpenseBody = (row: CSVExpenseRow) => {\r\n        let expenseDate = new Date();\r\n        const rawDate = row['Date'] as any;\r\n        const dateValue = rawDate?.toString();\r\n\r\n        if (dateValue) {\r\n            if (rawDate instanceof Date) {\r\n                expenseDate = rawDate;\r\n            } else {\r\n                const ddmmyyyyMatch = dateValue.match(/^(\\d{1,2})[/-](\\d{1,2})[/-](\\d{4})$/);\r\n                if (ddmmyyyyMatch) {\r\n                    const [, day, month, year] = ddmmyyyyMatch;\r\n                    expenseDate = new Date(parseInt(year), parseInt(month) - 1, parseInt(day));\r\n                } else {\r\n                    const parsedDate = new Date(dateValue);\r\n                    if (!isNaN(parsedDate.getTime())) {\r\n                        expenseDate = parsedDate;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let cashAccountId = '';\r\n        const linkToCash = row['Link to Finance']?.toString().toLowerCase() === 'true';\r\n\r\n        if (linkToCash && row['Finance Account']) {\r\n            const targetAccount = accounts?.find(a =>\r\n                a.name.toLowerCase() === row['Finance Account']?.toString().toLowerCase()\r\n            );\r\n            if (targetAccount) {\r\n                cashAccountId = targetAccount.id;\r\n            }\r\n        }\r\n\r\n        return {\r\n            amount: parseFloat(row['Amount']?.toString().replace(/[^0-9.-]/g, '') || '0'),\r\n            description: row['Description'] || '',\r\n            category: row['Category'] || 'Other',\r\n            date: expenseDate,\r\n            paymentMethod: row['Payment Method'] || 'Cash',\r\n            personInCharge: row['Person In Charge'] || '',\r\n            linkToCash,\r\n            cashAccountId: cashAccountId || undefined\r\n        };\r\n    };\r\n\r\n    const handleFileSelect = async (file: File) => {\r\n        const isExcel = file.name.endsWith('.xlsx') || file.name.endsWith('.xls');\r\n        const isCSV = file.name.endsWith('.csv');\r\n\r\n        if (!isExcel && !isCSV) {\r\n            alert('Please select a CSV or Excel file');\r\n            return;\r\n        }\r\n\r\n        let result: { validRows: CSVExpenseRow[], errors: ValidationError[], totalRows: number };\r\n\r\n        if (isExcel) {\r\n            const buffer = await file.arrayBuffer();\r\n            const workbook = XLSX.read(buffer, { cellDates: true });\r\n            const firstSheetName = workbook.SheetNames[0];\r\n            const worksheet = workbook.Sheets[firstSheetName];\r\n            const rawRows = XLSX.utils.sheet_to_json(worksheet) as any[];\r\n\r\n            const csvRows: CSVExpenseRow[] = rawRows.map(row => ({\r\n                'Date': row['Date'] || '',\r\n                'Amount': row['Amount'] || '',\r\n                'Description': row['Description'] || '',\r\n                'Category': row['Category'] || '',\r\n                'Payment Method': row['Payment Method'] || '',\r\n                'Person In Charge': row['Person In Charge'] || '',\r\n                'Link to Finance': row['Link to Finance'] || '',\r\n                'Finance Account': row['Finance Account'] || ''\r\n            }));\r\n\r\n            const validRows: CSVExpenseRow[] = [];\r\n            const errors: ValidationError[] = [];\r\n\r\n            csvRows.forEach((row, index) => {\r\n                const rowErrors = validateExpenseCSVRow(row, index + 2);\r\n\r\n                if (row['Link to Finance']?.toString().toLowerCase() === 'true' && row['Finance Account']) {\r\n                    const match = accounts?.find(a =>\r\n                        a.name.toLowerCase() === row['Finance Account']?.toString().toLowerCase()\r\n                    );\r\n                    if (!match) {\r\n                        rowErrors.push({\r\n                            row: index + 2,\r\n                            field: 'Finance Account',\r\n                            message: `Account \"${row['Finance Account']}\" not found.`\r\n                        });\r\n                    }\r\n                }\r\n\r\n                if (rowErrors.length === 0) {\r\n                    validRows.push(row);\r\n                } else {\r\n                    errors.push(...rowErrors);\r\n                }\r\n            });\r\n\r\n            result = { validRows, errors, totalRows: csvRows.length };\r\n        } else {\r\n            const text = await file.text();\r\n            result = parseExpenseCSV(text);\r\n\r\n            const uploadErrors: ValidationError[] = [];\r\n            const filteredValidRows: CSVExpenseRow[] = [];\r\n\r\n            result.validRows.forEach((row, index) => {\r\n                if (row['Link to Finance']?.toString().toLowerCase() === 'true' && row['Finance Account']) {\r\n                    const match = accounts?.find(a =>\r\n                        a.name.toLowerCase() === row['Finance Account']?.toString().toLowerCase()\r\n                    );\r\n                    if (!match) {\r\n                        uploadErrors.push({\r\n                            row: index + 2,\r\n                            field: 'Finance Account',\r\n                            message: `Account \"${row['Finance Account']}\" not found.`\r\n                        });\r\n                    } else {\r\n                        filteredValidRows.push(row);\r\n                    }\r\n                } else {\r\n                    filteredValidRows.push(row);\r\n                }\r\n            });\r\n\r\n            result.errors.push(...uploadErrors);\r\n            result.validRows = filteredValidRows;\r\n        }\r\n\r\n        setState({\r\n            ...state,\r\n            step: 'preview',\r\n            file,\r\n            validRows: result.validRows,\r\n            errors: result.errors,\r\n            totalRows: result.totalRows\r\n        });\r\n    };\r\n\r\n    const handleConfirmUpload = async () => {\r\n        setState(prev => ({ ...prev, step: 'uploading', uploadProgress: 0 }));\r\n        setIsUploading(true);\r\n\r\n        const expenses = state.validRows.map(convertCSVRowToExpenseBody);\r\n\r\n        try {\r\n            await createBulkExpenses(expenses);\r\n            setState(prev => ({\r\n                ...prev,\r\n                step: 'complete',\r\n                uploadProgress: 100,\r\n                successCount: expenses.length,\r\n                failureCount: 0\r\n            }));\r\n            setTimeout(() => onUploadComplete(), 1500);\r\n        } catch (error) {\r\n            console.error('Bulk upload failed:', error);\r\n            setState(prev => ({\r\n                ...prev,\r\n                step: 'complete',\r\n                uploadProgress: 100,\r\n                successCount: 0,\r\n                failureCount: expenses.length\r\n            }));\r\n        } finally {\r\n            setIsUploading(false);\r\n        }\r\n    };\r\n\r\n    const renderFileSelection = () => (\r\n        <div className=\"space-y-6\">\r\n            <div\r\n                className={cn(\r\n                    \"border-4 border-dashed rounded-3xl p-12 text-center cursor-pointer transition-all duration-300\",\r\n                    isDragging\r\n                        ? \"border-red-500 bg-red-50/50 scale-[1.01] shadow-xl\"\r\n                        : \"border-slate-200 dark:border-slate-800 hover:border-red-400 hover:bg-slate-50/50 dark:hover:bg-slate-900/50\"\r\n                )}\r\n                onDrop={(e) => { e.preventDefault(); setIsDragging(false); handleFileSelect(e.dataTransfer.files[0]); }}\r\n                onDragOver={(e) => { e.preventDefault(); setIsDragging(true); }}\r\n                onDragLeave={() => setIsDragging(false)}\r\n                onClick={() => fileInputRef.current?.click()}\r\n            >\r\n                <div className=\"bg-red-100 dark:bg-red-900/40 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-sm\">\r\n                    <Upload className=\"h-10 w-10 text-red-600 dark:text-red-400\" />\r\n                </div>\r\n                <h3 className=\"text-2xl font-black text-slate-900 dark:text-slate-100 mb-2\">Select CSV or Excel</h3>\r\n                <p className=\"text-sm text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-8\">\r\n                    Import multiple expenses quickly. Drag and drop your file here or click to browse.\r\n                </p>\r\n                <div className=\"flex justify-center gap-4\">\r\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full text-[11px] font-bold text-slate-600 dark:text-slate-400\">\r\n                        <FileText className=\"h-3 w-3\" /> .CSV\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 rounded-full text-[11px] font-bold text-green-700 dark:text-green-400\">\r\n                        <FileText className=\"h-3 w-3\" /> .XLSX\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"border rounded-2xl overflow-hidden bg-white dark:bg-slate-900 shadow-sm\">\r\n                <div className=\"bg-slate-50 dark:bg-slate-800/50 px-6 py-3 border-b flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                        <Info className=\"h-4 w-4 text-red-500\" />\r\n                        <span className=\"text-xs font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest\">Expected Format</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                    <Table>\r\n                        <TableHeader>\r\n                            <TableRow className=\"bg-slate-100/30 dark:bg-slate-900/30\">\r\n                                <TableHead className=\"text-[10px] h-9\">Date</TableHead>\r\n                                <TableHead className=\"text-[10px] h-9\">Amount</TableHead>\r\n                                <TableHead className=\"text-[10px] h-9\">Description</TableHead>\r\n                                <TableHead className=\"text-[10px] h-9\">Link to Finance</TableHead>\r\n                                <TableHead className=\"text-[10px] h-9\">Finance Account</TableHead>\r\n                            </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                            <TableRow className=\"h-9 border-slate-100 dark:border-slate-800\">\r\n                                <TableCell className=\"text-[11px] py-1.5 font-mono\">22/12/2025</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 font-bold\">450.00</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 truncate max-w-[120px]\">Office Rent</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 text-red-600 font-bold italic\">true</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 truncate max-w-[120px]\">Company Wallet</TableCell>\r\n                            </TableRow>\r\n                            <TableRow className=\"h-9 border-none\">\r\n                                <TableCell className=\"text-[11px] py-1.5 font-mono\">23/12/2025</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 font-bold\">120.00</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 truncate max-w-[120px]\">Stationery</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 text-slate-400 font-bold italic\">false</TableCell>\r\n                                <TableCell className=\"text-[11px] py-1.5 text-slate-400 italic\">Leave Empty</TableCell>\r\n                            </TableRow>\r\n                        </TableBody>\r\n                    </Table>\r\n                </div>\r\n            </div>\r\n            <input ref={fileInputRef} type=\"file\" accept=\".csv, .xlsx, .xls\" onChange={(e) => e.target.files?.[0] && handleFileSelect(e.target.files[0])} className=\"hidden\" />\r\n        </div>\r\n    );\r\n\r\n    const renderPreview = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm\">\r\n                <div className=\"flex items-center justify-between mb-6\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"bg-red-50 dark:bg-red-900/30 p-2 rounded-xl\">\r\n                            <FileText className=\"h-6 w-6 text-red-600\" />\r\n                        </div>\r\n                        <div>\r\n                            <span className=\"text-lg font-black text-slate-900 dark:text-slate-100\">{state.file?.name}</span>\r\n                            <p className=\"text-xs text-slate-500 uppercase font-bold tracking-tight\">Analyzed Successfully</p>\r\n                        </div>\r\n                    </div>\r\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => setState(prev => ({ ...prev, step: 'select' }))} className=\"text-red-600 font-bold\">\r\n                        Change File\r\n                    </Button>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                    <Card className=\"shadow-none bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/50\">\r\n                        <CardContent className=\"p-6\">\r\n                            <div className=\"text-3xl font-black text-emerald-600 dark:text-emerald-400\">{state.validRows.length}</div>\r\n                            <p className=\"text-[10px] font-black text-emerald-700 dark:text-emerald-500 uppercase tracking-widest mt-1\">Ready to Import</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                    <Card className=\"shadow-none bg-rose-50/50 dark:bg-rose-900/10 border-rose-100 dark:border-rose-800/50\">\r\n                        <CardContent className=\"p-6\">\r\n                            <div className=\"text-3xl font-black text-rose-600 dark:text-rose-400\">{state.errors.length}</div>\r\n                            <p className=\"text-[10px] font-black text-rose-700 dark:text-rose-500 uppercase tracking-widest mt-1\">Invalid Records</p>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n\r\n            {state.errors.length > 0 && (\r\n                <Alert variant=\"destructive\" className=\"bg-rose-50/50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900/50 rounded-2xl p-4\">\r\n                    <AlertCircle className=\"h-5 w-5 text-rose-600\" />\r\n                    <AlertDescription className=\"text-sm text-rose-700 dark:text-rose-400 leading-relaxed font-bold ml-2\">\r\n                        Heads up! {state.errors.length} rows have errors and will be skipped.\r\n                        <Button\r\n                            variant=\"link\"\r\n                            className=\"p-0 h-auto ml-2 text-rose-800 dark:text-rose-300 underline font-black uppercase text-xs\"\r\n                            onClick={() => generateErrorLogCSV(state.errors, 'expense_errors.csv')}\r\n                        >\r\n                            <Download className=\"h-3 w-3 mr-1 inline\" /> Export Error Log\r\n                        </Button>\r\n                    </AlertDescription>\r\n                </Alert>\r\n            )}\r\n\r\n            <Button\r\n                className=\"w-full h-14 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 shadow-xl font-black text-lg rounded-2xl\"\r\n                onClick={handleConfirmUpload}\r\n                disabled={state.validRows.length === 0}\r\n            >\r\n                Confirm Import of {state.validRows.length} Expenses\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    const renderUploading = () => (\r\n        <div className=\"space-y-10 py-12 text-center\">\r\n            <div className=\"relative w-24 h-24 mx-auto\">\r\n                <div className=\"absolute inset-0 rounded-3xl border-4 border-slate-100 dark:border-slate-800\" />\r\n                <div className=\"absolute inset-0 rounded-3xl border-4 border-t-red-600 animate-spin\" />\r\n                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                    <Receipt className=\"h-10 w-10 text-red-500/30\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"space-y-4\">\r\n                <h3 className=\"text-2xl font-black\">Processing Your Data</h3>\r\n                <div className=\"max-w-xs mx-auto space-y-2\">\r\n                    <Progress value={state.uploadProgress} className=\"h-3 rounded-full bg-slate-100 dark:bg-slate-800\" />\r\n                    <span className=\"text-xs font-black text-slate-400 uppercase tracking-[0.2em]\">{Math.round(state.uploadProgress)}% Complete</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderComplete = () => (\r\n        <div className=\"space-y-8 py-8 text-center animate-in fade-in zoom-in duration-500\">\r\n            <div className=\"bg-emerald-100 dark:bg-emerald-900/30 w-24 h-24 rounded-[2rem] flex items-center justify-center mx-auto shadow-inner\">\r\n                <CheckCircle className=\"h-12 w-12 text-emerald-600 dark:text-emerald-400\" />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n                <h3 className=\"text-3xl font-black tracking-tight\">Import Complete!</h3>\r\n                <p className=\"text-slate-500 dark:text-slate-400 font-bold uppercase text-xs tracking-widest\">\r\n                    Successfully Added <span className=\"text-emerald-600 dark:text-emerald-400 font-black\">{state.successCount} Records</span>\r\n                </p>\r\n            </div>\r\n            <Button onClick={onUploadComplete} className=\"h-14 px-12 rounded-2xl text-lg font-black bg-slate-900 hover:bg-black dark:bg-white dark:text-black shadow-xl\">\r\n                Return to Dashboard\r\n            </Button>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"max-w-[95vw] md:max-w-4xl p-0 overflow-hidden border-none bg-transparent shadow-none\">\r\n                <div className=\"space-y-6\">\r\n                    <Card className=\"shadow-2xl border-none bg-transparent\">\r\n                        <CardHeader className=\"px-6 py-4 bg-white dark:bg-slate-900 border-b rounded-t-[2rem]\">\r\n                            <div className=\"flex justify-between items-center\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"bg-red-600 p-2.5 rounded-2xl text-white shadow-lg\">\r\n                                        <Upload className=\"h-6 w-6\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <CardTitle className=\"text-2xl font-black tracking-tight\">CSV/Excel Importer</CardTitle>\r\n                                        <p className=\"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-tight\">Bulk process historical expense logs</p>\r\n                                    </div>\r\n                                </div>\r\n                                <Button variant=\"ghost\" onClick={() => onOpenChange(false)} className=\"bg-white dark:bg-slate-900 shadow-sm border rounded-xl h-10 px-4\">\r\n                                    <X className=\"h-4 w-4 mr-2\" /> Cancel\r\n                                </Button>\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent className=\"p-0\">\r\n                            <div className=\"bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-b-[2rem] p-8 md:p-12 border shadow-sm min-h-[450px] max-h-[85vh] overflow-y-auto custom-scrollbar flex flex-col justify-center\">\r\n                                {state.step === 'select' && renderFileSelection()}\r\n                                {state.step === 'preview' && renderPreview()}\r\n                                {state.step === 'uploading' && renderUploading()}\r\n                                {state.step === 'complete' && renderComplete()}\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default ExpenseCSVUploadDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7462, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/expenses/ExpenseCenter.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Card } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Plus, LayoutGrid, Upload, Download, Receipt } from 'lucide-react';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface ExpenseCenterProps {\r\n    onNewEntry: () => void;\r\n    onBulkEntry: () => void;\r\n    onImportCSV: () => void;\r\n    canCreate?: boolean;\r\n}\r\n\r\nconst ExpenseCenter: React.FC<ExpenseCenterProps> = ({\r\n    onNewEntry,\r\n    onBulkEntry,\r\n    onImportCSV,\r\n    canCreate = true\r\n}) => {\r\n    return (\r\n        <Card className=\"border-none shadow-md overflow-hidden bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-950 mb-6\">\r\n            <div className=\"p-4 sm:p-6 space-y-4\">\r\n                <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n                    <div className=\"space-y-1\">\r\n                        <h3 className=\"text-lg font-bold tracking-tight\">Expense Center</h3>\r\n                        <p className=\"text-xs text-muted-foreground\">Manage your business expenditures efficiently</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                    {/* Primary Action - New Single Entry */}\r\n                    <Button\r\n                        type=\"button\"\r\n                        onClick={onNewEntry}\r\n                        disabled={!canCreate}\r\n                        className={cn(\r\n                            \"h-auto py-4 flex flex-col items-center justify-center gap-2 text-white shadow-lg border-none active:scale-[0.98] transition-all\",\r\n                            canCreate ? \"bg-red-600 hover:bg-red-700\" : \"bg-slate-400 cursor-not-allowed opacity-60\"\r\n                        )}\r\n                    >\r\n                        <div className=\"bg-white/20 p-2 rounded-lg\">\r\n                            <Plus className=\"h-5 w-5\" />\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <span className=\"block font-bold\">New Entry</span>\r\n                            <span className=\"block text-[10px] opacity-80 font-medium\">Single Expense</span>\r\n                        </div>\r\n                    </Button>\r\n\r\n                    {/* Bulk Entry */}\r\n                    <Button\r\n                        type=\"button\"\r\n                        onClick={onBulkEntry}\r\n                        variant=\"outline\"\r\n                        disabled={!canCreate}\r\n                        className={cn(\r\n                            \"h-auto py-4 flex flex-col items-center justify-center gap-2 border-slate-200 dark:border-slate-800 shadow-sm active:scale-[0.98] transition-all\",\r\n                            canCreate ? \"hover:bg-orange-50/50 dark:hover:bg-orange-900/10 hover:border-orange-200\" : \"opacity-60 cursor-not-allowed\"\r\n                        )}\r\n                    >\r\n                        <div className=\"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-lg text-orange-600 dark:text-orange-400\">\r\n                            <LayoutGrid className=\"h-5 w-5\" />\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <span className=\"block font-bold\">Bulk Entry</span>\r\n                            <span className=\"block text-[10px] text-muted-foreground font-medium\">Manual Batch</span>\r\n                        </div>\r\n                    </Button>\r\n\r\n                    {/* CSV Import */}\r\n                    <Button\r\n                        type=\"button\"\r\n                        onClick={onImportCSV}\r\n                        variant=\"outline\"\r\n                        disabled={!canCreate}\r\n                        className={cn(\r\n                            \"h-auto py-4 flex flex-col items-center justify-center gap-2 border-slate-200 dark:border-slate-800 shadow-sm active:scale-[0.98] transition-all\",\r\n                            canCreate ? \"hover:bg-emerald-50/50 dark:hover:bg-emerald-900/10 hover:border-emerald-200\" : \"opacity-60 cursor-not-allowed\"\r\n                        )}\r\n                    >\r\n                        <div className=\"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-lg text-emerald-600 dark:text-emerald-400\">\r\n                            <Upload className=\"h-5 w-5\" />\r\n                        </div>\r\n                        <div className=\"text-center\">\r\n                            <span className=\"block font-bold\">Import CSV</span>\r\n                            <span className=\"block text-[10px] text-muted-foreground font-medium\">Process Legacy Logs</span>\r\n                        </div>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ExpenseCenter;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AACA;;;;;;AASA,MAAM,gBAA8C,CAAC,EACjD,UAAU,EACV,WAAW,EACX,WAAW,EACX,YAAY,IAAI,EACnB;IACG,qBACI,8OAAC,wIAAI;QAAC,WAAU;kBACZ,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAG,WAAU;0CAAmC;;;;;;0CACjD,8OAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;;;;;;8BAIrD,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC,4IAAM;4BACH,MAAK;4BACL,SAAS;4BACT,UAAU,CAAC;4BACX,WAAW,IAAA,yHAAE,EACT,mIACA,YAAY,gCAAgC;;8CAGhD,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,0MAAI;wCAAC,WAAU;;;;;;;;;;;8CAEpB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAkB;;;;;;sDAClC,8OAAC;4CAAK,WAAU;sDAA2C;;;;;;;;;;;;;;;;;;sCAKnE,8OAAC,4IAAM;4BACH,MAAK;4BACL,SAAS;4BACT,SAAQ;4BACR,UAAU,CAAC;4BACX,WAAW,IAAA,yHAAE,EACT,mJACA,YAAY,8EAA8E;;8CAG9F,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,gOAAU;wCAAC,WAAU;;;;;;;;;;;8CAE1B,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAkB;;;;;;sDAClC,8OAAC;4CAAK,WAAU;sDAAsD;;;;;;;;;;;;;;;;;;sCAK9E,8OAAC,4IAAM;4BACH,MAAK;4BACL,SAAS;4BACT,SAAQ;4BACR,UAAU,CAAC;4BACX,WAAW,IAAA,yHAAE,EACT,mJACA,YAAY,iFAAiF;;8CAGjG,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC,gNAAM;wCAAC,WAAU;;;;;;;;;;;8CAEtB,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAK,WAAU;sDAAkB;;;;;;sDAClC,8OAAC;4CAAK,WAAU;sDAAsD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlG;uCAEe"}}]
}