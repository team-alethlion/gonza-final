{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/inventory/StockInputHistory.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { getActivityByEntityIdsAction, updateStockHistoryDatesAction } from '@/app/actions/inventory';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { History, Edit, Trash2, Search } from 'lucide-react';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { useStockHistory } from '@/hooks/useStockHistory';\r\nimport { useProducts } from '@/hooks/useProducts';\r\nimport { useBusinessSettings } from '@/hooks/useBusinessSettings';\r\nimport { useStockSummaryData } from '@/hooks/useStockSummaryData';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\nimport { getDateRangeFromFilter } from '@/utils/dateFilters';\r\nimport StockHistoryDateFilter from './StockHistoryDateFilter';\r\nimport EditStockHistoryDialog from './EditStockHistoryDialog';\r\nimport { EditGroupDateDialog } from './EditGroupDateDialog';\r\nimport DeleteStockHistoryDialog from './DeleteStockHistoryDialog';\r\nimport { DeleteInvoiceDialog } from './DeleteInvoiceDialog';\r\nimport { StockHistoryEntry } from '@/types';\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu';\r\nimport {\r\n  Tooltip,\r\n  TooltipContent,\r\n  TooltipProvider,\r\n  TooltipTrigger,\r\n} from \"@/components/ui/tooltip\";\r\nimport { useFinancialVisibility } from '@/hooks/useFinancialVisibility';\r\n\r\nconst StockInputHistory = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n  const { stockHistory, isLoading, updateStockHistoryEntry, deleteStockHistoryEntry, deleteMultipleStockHistoryEntries, recalculateProductStock, loadStockHistory } = useStockHistory(user?.id);\r\n  const { products, loadProducts } = useProducts(user?.id, 10000);\r\n  const { settings } = useBusinessSettings();\r\n  const { clearAllLocationCaches } = useStockSummaryData({ from: undefined, to: undefined });\r\n  const { formatFinancial, canViewCostPrice } = useFinancialVisibility();\r\n\r\n  const [dateFilter, setDateFilter] = useState<string>('this-month');\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n  const [debouncedSearchTerm, setDebouncedSearchTerm] = useState<string>('');\r\n  const [editHistoryDialog, setEditHistoryDialog] = useState<{ open: boolean; entry: StockHistoryEntry | null }>({ open: false, entry: null });\r\n  const [editGroupDateDialog, setEditGroupDateDialog] = useState<{ open: boolean; group: { date: Date; entries: StockHistoryEntry[]; supplier?: string; invoice?: string } | null }>({ open: false, group: null });\r\n  const [deleteHistoryDialog, setDeleteHistoryDialog] = useState<{ open: boolean; entry: StockHistoryEntry | null }>({ open: false, entry: null });\r\n  const [deleteInvoiceDialog, setDeleteInvoiceDialog] = useState<{ open: boolean; group: { supplier: string; invoice: string; entries: StockHistoryEntry[] } | null }>({ open: false, group: null });\r\n  const [scavengedNames, setScavengedNames] = useState<Record<string, string>>({});\r\n  const [isScavenging, setIsScavenging] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedSearchTerm(searchTerm);\r\n    }, 300);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  const getCurrencySymbol = (currency: string) => {\r\n    const symbols: Record<string, string> = {\r\n      'USD': '$',\r\n      'EUR': '€',\r\n      'GBP': '£',\r\n      'NGN': '₦',\r\n      'GHS': '₵',\r\n      'KES': 'KSh',\r\n      'ZAR': 'R',\r\n      'EGP': 'E£'\r\n    };\r\n    return symbols[currency] || currency;\r\n  };\r\n\r\n  const currencySymbol = getCurrencySymbol(settings.currency);\r\n\r\n  useEffect(() => {\r\n    const handleStockHistoryUpdate = () => {\r\n      loadStockHistory();\r\n    };\r\n\r\n    window.addEventListener('stock-history-updated', handleStockHistoryUpdate);\r\n\r\n    return () => {\r\n      window.removeEventListener('stock-history-updated', handleStockHistoryUpdate);\r\n    };\r\n  }, [loadStockHistory]);\r\n\r\n  useEffect(() => {\r\n    const scavengeNames = async () => {\r\n      if (!stockHistory.length || products.length === 0 || isScavenging) return;\r\n\r\n      const missingProductIds = Array.from(new Set(\r\n        stockHistory\r\n          .map(entry => entry.productId)\r\n          .filter(id => {\r\n            if (!id) return false;\r\n            const exists = products.some(p => p.id === id || p.itemNumber === id);\r\n            return !exists && !scavengedNames[id];\r\n          })\r\n      ));\r\n\r\n      if (missingProductIds.length === 0) return;\r\n\r\n      setIsScavenging(true);\r\n      try {\r\n        // Fetch entity names from activity history via server action\r\n        const result = await getActivityByEntityIdsAction(missingProductIds);\r\n        const newNames: Record<string, string> = { ...scavengedNames };\r\n\r\n        if (result.success && result.data) {\r\n          result.data.forEach((item: any) => {\r\n            if (item.entityId && item.entityName && !newNames[item.entityId]) {\r\n              newNames[item.entityId] = item.entityName;\r\n            }\r\n          });\r\n        }\r\n\r\n        if (Object.keys(newNames).length > Object.keys(scavengedNames).length) {\r\n          setScavengedNames(newNames);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error scavenging names:', err);\r\n      } finally {\r\n        setIsScavenging(false);\r\n      }\r\n    };\r\n\r\n    scavengeNames();\r\n  }, [stockHistory, products, isScavenging, scavengedNames]);\r\n\r\n  const formatNumber = (num: number) => {\r\n    return parseFloat(num.toFixed(5)).toLocaleString();\r\n  };\r\n\r\n  const dateRange = dateFilter === 'all' ? null : getDateRangeFromFilter(dateFilter);\r\n\r\n  const { filteredBulkGroups, filteredRegularGroups } = useMemo(() => {\r\n    try {\r\n      if (isLoading || !stockHistory.length) {\r\n        return { filteredBulkGroups: [], filteredRegularGroups: [] };\r\n      }\r\n\r\n      const filteredHistory = stockHistory.filter(entry => {\r\n        try {\r\n          const entryDate = new Date(entry.createdAt);\r\n          let isInDateRange = true;\r\n\r\n          if (dateRange) {\r\n            isInDateRange = entryDate >= dateRange.from && entryDate <= dateRange.to;\r\n          }\r\n\r\n          return isInDateRange && entry.newQuantity > entry.oldQuantity;\r\n        } catch {\r\n          return false;\r\n        }\r\n      });\r\n\r\n      const bulkStockAdditions = filteredHistory.filter(entry => {\r\n        const reason = entry.changeReason?.toLowerCase() || '';\r\n        return reason.includes('purchase:') ||\r\n          reason.includes('invoice:') ||\r\n          reason.includes('supplier:') ||\r\n          reason.includes('session:');\r\n      });\r\n\r\n      const regularStockAdditions = filteredHistory.filter(entry => {\r\n        const reason = entry.changeReason?.toLowerCase() || '';\r\n        return !reason.includes('purchase:') &&\r\n          !reason.includes('invoice:') &&\r\n          !reason.includes('supplier:') &&\r\n          !reason.includes('session:');\r\n      });\r\n\r\n      const groupedBulkHistory = bulkStockAdditions.reduce((groups, entry) => {\r\n        try {\r\n          const sessionMatch = entry.changeReason?.match(/Session: (\\d+)/);\r\n          const sessionId = sessionMatch ? sessionMatch[1] : entry.createdAt.toString();\r\n\r\n          if (!groups[sessionId]) {\r\n            const supplierMatch = entry.changeReason?.match(/Purchase: ([^|]+)/);\r\n            const invoiceMatch = entry.changeReason?.match(/Invoice: ([^|]+)/);\r\n\r\n            groups[sessionId] = {\r\n              date: entry.createdAt,\r\n              sessionId,\r\n              supplier: supplierMatch ? supplierMatch[1].trim() : 'Unknown Supplier',\r\n              invoice: invoiceMatch ? invoiceMatch[1].trim() : 'N/A',\r\n              entries: []\r\n            };\r\n          }\r\n\r\n          groups[sessionId].entries.push(entry);\r\n          return groups;\r\n        } catch {\r\n          return groups;\r\n        }\r\n      }, {} as Record<string, { date: Date; sessionId: string; supplier: string; invoice: string; entries: typeof bulkStockAdditions }>);\r\n\r\n      Object.values(groupedBulkHistory).forEach(group => {\r\n        try {\r\n          group.entries.sort((a, b) => {\r\n            const seqA = a.changeReason?.match(/Seq: (\\d+)/);\r\n            const seqB = b.changeReason?.match(/Seq: (\\d+)/);\r\n\r\n            if (seqA && seqB) {\r\n              return parseInt(seqA[1]) - parseInt(seqB[1]);\r\n            }\r\n\r\n            return new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime();\r\n          });\r\n        } catch {\r\n        }\r\n      });\r\n\r\n      const groupedRegularHistory = regularStockAdditions.reduce((groups, entry) => {\r\n        try {\r\n          const dateKey = format(new Date(entry.createdAt), 'yyyy-MM-dd');\r\n\r\n          if (!groups[dateKey]) {\r\n            groups[dateKey] = {\r\n              date: entry.createdAt,\r\n              entries: []\r\n            };\r\n          }\r\n\r\n          groups[dateKey].entries.push(entry);\r\n          return groups;\r\n        } catch {\r\n          return groups;\r\n        }\r\n      }, {} as Record<string, { date: Date; entries: typeof regularStockAdditions }>);\r\n\r\n      Object.values(groupedRegularHistory).forEach(group => {\r\n        try {\r\n          group.entries.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n        } catch {\r\n        }\r\n      });\r\n\r\n      const sortedBulkGroups = Object.values(groupedBulkHistory).sort(\r\n        (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\r\n      );\r\n\r\n      const sortedRegularGroups = Object.values(groupedRegularHistory).sort(\r\n        (a, b) => new Date(b.date).getTime() - new Date(a.date).getTime()\r\n      );\r\n\r\n      const filteredBulkGroups = sortedBulkGroups.filter(group => {\r\n        if (!debouncedSearchTerm.trim()) return true;\r\n\r\n        try {\r\n          const searchLower = debouncedSearchTerm.toLowerCase().trim();\r\n          const matchesSupplier = group.supplier?.toLowerCase()?.includes(searchLower) || false;\r\n          const matchesInvoice = group.invoice?.toLowerCase()?.includes(searchLower) || false;\r\n\r\n          const matchesProduct = group.entries.some(entry => {\r\n            if (!entry?.productId) return false;\r\n            try {\r\n              const productDetails = getProductDetails(entry);\r\n              return productDetails.name.toLowerCase().includes(searchLower);\r\n            } catch {\r\n              return false;\r\n            }\r\n          });\r\n\r\n          return matchesSupplier || matchesInvoice || matchesProduct;\r\n        } catch {\r\n          return false;\r\n        }\r\n      });\r\n\r\n      const filteredRegularGroups = sortedRegularGroups.filter(group => {\r\n        if (!debouncedSearchTerm.trim()) return true;\r\n\r\n        try {\r\n          const searchLower = debouncedSearchTerm.toLowerCase().trim();\r\n          return group.entries.some(entry => {\r\n            try {\r\n              if (!entry?.productId) {\r\n                return entry.changeReason?.toLowerCase()?.includes(searchLower) || false;\r\n              }\r\n              const productDetails = getProductDetails(entry);\r\n              const matchesProduct = productDetails.name.toLowerCase().includes(searchLower);\r\n              const matchesReason = entry.changeReason?.toLowerCase()?.includes(searchLower) || false;\r\n              return matchesProduct || matchesReason;\r\n            } catch {\r\n              return false;\r\n            }\r\n          });\r\n        } catch {\r\n          return false;\r\n        }\r\n      });\r\n\r\n      return { filteredBulkGroups, filteredRegularGroups };\r\n    } catch (error) {\r\n      console.error('Error in filtering logic:', error);\r\n      return { filteredBulkGroups: [], filteredRegularGroups: [] };\r\n    }\r\n  }, [stockHistory, products, dateRange, debouncedSearchTerm, isLoading]);\r\n\r\n  const getProductDetails = useCallback((entry: StockHistoryEntry) => {\r\n    try {\r\n      if (!entry) return { name: \"Unknown\", costPrice: 0, sellingPrice: 0 };\r\n\r\n      const { productId, changeReason, product: joinedProduct } = entry;\r\n\r\n      if (joinedProduct) {\r\n        return {\r\n          name: joinedProduct.name,\r\n          costPrice: joinedProduct.costPrice,\r\n          sellingPrice: joinedProduct.sellingPrice\r\n        };\r\n      }\r\n\r\n      const cachedProduct = products.find(p => p.id === productId || p.itemNumber === productId);\r\n      if (cachedProduct) {\r\n        return {\r\n          name: cachedProduct.name,\r\n          costPrice: cachedProduct.costPrice,\r\n          sellingPrice: cachedProduct.sellingPrice\r\n        };\r\n      }\r\n\r\n      if (changeReason) {\r\n        const nameMatch = changeReason.match(/^\\[(.*?)\\]\\s*\\|/);\r\n        if (nameMatch) {\r\n          return {\r\n            name: nameMatch[1],\r\n            costPrice: 0,\r\n            sellingPrice: 0\r\n          };\r\n        }\r\n      }\r\n\r\n      if (scavengedNames[productId]) {\r\n        return {\r\n          name: scavengedNames[productId],\r\n          costPrice: 0,\r\n          sellingPrice: 0\r\n        };\r\n      }\r\n\r\n      const idStr = productId || \"\";\r\n      return {\r\n        name: `Deleted Product (${idStr.length > 8 ? idStr.slice(-8) : idStr})`,\r\n        costPrice: 0,\r\n        sellingPrice: 0\r\n      };\r\n    } catch (err) {\r\n      console.error('Error in getProductDetails:', err);\r\n      return {\r\n        name: \"Deleted Product\",\r\n        costPrice: 0,\r\n        sellingPrice: 0\r\n      };\r\n    }\r\n  }, [products, scavengedNames]);\r\n\r\n  const calculateGroupTotals = (entries: StockHistoryEntry[]) => {\r\n    return entries.reduce((totals, entry) => {\r\n      const productDetails = getProductDetails(entry);\r\n      const qtyAdded = entry.newQuantity - entry.oldQuantity;\r\n      const amount = qtyAdded * productDetails.costPrice;\r\n\r\n      return {\r\n        totalQty: totals.totalQty + qtyAdded,\r\n        totalAmount: totals.totalAmount + amount\r\n      };\r\n    }, { totalQty: 0, totalAmount: 0 });\r\n  };\r\n\r\n  const handleProductClick = (productId: string) => {\r\n    navigate(`/inventory/${productId}`);\r\n  };\r\n\r\n  const handleEditStockHistory = async (entryId: string, newQuantity: number, newReason: string, newDate?: Date) => {\r\n    const entry = stockHistory.find(e => e.id === entryId);\r\n    if (!entry) return false;\r\n\r\n    const success = await updateStockHistoryEntry(entryId, newQuantity, newReason, newDate);\r\n    if (success) {\r\n      clearAllLocationCaches();\r\n      await Promise.all([\r\n        recalculateProductStock(entry.productId),\r\n        loadStockHistory()\r\n      ]);\r\n    }\r\n    return success;\r\n  };\r\n\r\n  const handleDeleteStockHistory = async (entryId: string) => {\r\n    const entry = stockHistory.find(e => e.id === entryId);\r\n    if (!entry) return false;\r\n\r\n    const success = await deleteStockHistoryEntry(entryId);\r\n    if (success) {\r\n      clearAllLocationCaches();\r\n      await Promise.all([\r\n        recalculateProductStock(entry.productId),\r\n        loadStockHistory()\r\n      ]);\r\n    }\r\n    return success;\r\n  };\r\n\r\n  const handleDeleteInvoice = (group: { supplier: string; invoice: string; entries: StockHistoryEntry[] }) => {\r\n    setDeleteInvoiceDialog({ open: true, group });\r\n  };\r\n\r\n  const handleEditGroupDate = (group: { date: Date; entries: StockHistoryEntry[]; supplier?: string; invoice?: string }) => {\r\n    setEditGroupDateDialog({ open: true, group });\r\n  };\r\n\r\n  const handleEditGroupDateConfirm = async (newDate: Date) => {\r\n    if (!editGroupDateDialog.group) return false;\r\n\r\n    const entryIds = editGroupDateDialog.group.entries.map(e => e.id);\r\n    const productIds = Array.from(new Set(editGroupDateDialog.group.entries.map(e => e.productId)));\r\n\r\n    try {\r\n      const result = await updateStockHistoryDatesAction(entryIds, newDate.toISOString());\r\n      if (!result.success) throw new Error(result.error);\r\n\r\n      await Promise.all(productIds.map(id => recalculateProductStock(id)));\r\n\r\n      clearAllLocationCaches();\r\n      await Promise.all([\r\n        loadStockHistory(),\r\n        loadProducts()\r\n      ]);\r\n\r\n      return true;\r\n    } catch (err) {\r\n      console.error('Error updating invoice date:', err);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleDeleteInvoiceConfirm = async (entryIds: string[]) => {\r\n    const success = await deleteMultipleStockHistoryEntries(entryIds);\r\n    if (success) {\r\n      clearAllLocationCaches();\r\n      await Promise.all([\r\n        loadStockHistory(),\r\n        loadProducts()\r\n      ]);\r\n      window.dispatchEvent(new CustomEvent('stock-updated'));\r\n    }\r\n    return success;\r\n  };\r\n\r\n  return (\r\n    <Card className=\"mt-6 shadow-sm\">\r\n      <CardHeader className=\"pb-3 md:pb-6\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <History size={20} />\r\n            <div>\r\n              <CardTitle className=\"text-base md:text-lg\">Stock Input History</CardTitle>\r\n              <p className=\"text-sm text-muted-foreground mt-1\">\r\n                View all stock additions and increases\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <StockHistoryDateFilter\r\n            selectedFilter={dateFilter}\r\n            onFilterChange={setDateFilter}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mt-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4\" />\r\n            <Input\r\n              placeholder=\"Search by supplier, invoice, or item name...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"p-0\">\r\n        {isLoading ? (\r\n          <div className=\"flex items-center justify-center py-8\">\r\n            <div className=\"text-sm text-muted-foreground\">Loading history...</div>\r\n          </div>\r\n        ) : filteredBulkGroups.length === 0 && filteredRegularGroups.length === 0 ? (\r\n          <div className=\"text-center py-8 text-muted-foreground\">\r\n            <History size={48} className=\"mx-auto mb-4 opacity-50\" />\r\n            <p>{searchTerm.trim() ? 'No matching stock history found.' : 'No stock input history found for the selected date range.'}</p>\r\n          </div>\r\n        ) : (\r\n          <TooltipProvider>\r\n            <div className=\"space-y-6 p-4\">\r\n              {filteredBulkGroups.length > 0 && (\r\n                <div>\r\n                  <div className=\"mb-4\">\r\n                    <h3 className=\"text-lg font-semibold text-primary\">Stock Purchases</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Stock purchased from suppliers</p>\r\n                  </div>\r\n                  <div className=\"space-y-6\">\r\n                    {filteredBulkGroups.map((group, groupIndex) => {\r\n                      const groupTotals = calculateGroupTotals(group.entries);\r\n\r\n                      return (\r\n                        <div key={`purchase-${groupIndex}`} className=\"border rounded-lg overflow-hidden\">\r\n                          <div className=\"bg-primary/5 px-4 py-3 border-b\">\r\n                            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-2\">\r\n                              <div className=\"space-y-1\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                  <h4 className=\"font-semibold text-base\">\r\n                                    {format(new Date(group.date), 'PPP')}\r\n                                  </h4>\r\n                                  <span className=\"text-xs bg-primary/20 text-primary px-2 py-1 rounded-full\">\r\n                                    {group.entries.length} item{group.entries.length > 1 ? 's' : ''}\r\n                                  </span>\r\n                                </div>\r\n                                <div className=\"flex flex-col md:flex-row md:items-center gap-1 md:gap-4 text-sm text-muted-foreground\">\r\n                                  <span><strong>Supplier:</strong> {group.supplier}</span>\r\n                                  <span><strong>Invoice:</strong> {group.invoice}</span>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"flex gap-2\">\r\n                                <Button\r\n                                  variant=\"outline\"\r\n                                  size=\"sm\"\r\n                                  onClick={() => handleEditGroupDate(group)}\r\n                                  className=\"h-8 px-3 text-xs\"\r\n                                >\r\n                                  <Edit className=\"h-3 w-3 mr-1\" />\r\n                                  Edit Date\r\n                                </Button>\r\n                                <Button\r\n                                  variant=\"ghost\"\r\n                                  size=\"sm\"\r\n                                  onClick={() => handleDeleteInvoice(group)}\r\n                                  className=\"h-8 px-3 text-xs text-destructive hover:text-destructive\"\r\n                                >\r\n                                  <Trash2 className=\"h-3 w-3 mr-1\" />\r\n                                  Delete Invoice\r\n                                </Button>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"overflow-x-auto\">\r\n                            <Table>\r\n                              <TableHeader>\r\n                                <TableRow>\r\n                                  <TableHead className=\"w-[200px]\">Item</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Qty Added</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Price</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Amount</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Time</TableHead>\r\n                                  <TableHead className=\"w-[60px]\">Actions</TableHead>\r\n                                </TableRow>\r\n                              </TableHeader>\r\n                              <TableBody>\r\n                                {group.entries.map((entry) => {\r\n                                  const productDetails = getProductDetails(entry);\r\n                                  const qtyAdded = entry.newQuantity - entry.oldQuantity;\r\n                                  const price = productDetails.costPrice;\r\n                                  const amount = qtyAdded * price;\r\n                                  const productExistsInCache = products.some(p => p.id === entry.productId || p.itemNumber === entry.productId);\r\n\r\n                                  return (\r\n                                    <TableRow key={entry.id}>\r\n                                      <TableCell className=\"font-medium\">\r\n                                        {productExistsInCache ? (\r\n                                          <Tooltip>\r\n                                            <TooltipTrigger asChild>\r\n                                              <button\r\n                                                onClick={() => handleProductClick(entry.productId)}\r\n                                                className=\"text-left hover:text-primary hover:underline cursor-pointer transition-colors max-w-[200px] truncate\"\r\n                                              >\r\n                                                {productDetails.name}\r\n                                              </button>\r\n                                            </TooltipTrigger>\r\n                                            <TooltipContent side=\"top\" className=\"max-w-xs\">\r\n                                              <div className=\"space-y-1\">\r\n                                                <p className=\"font-bold break-words whitespace-normal\">{productDetails.name}</p>\r\n                                                {entry.changeReason && (\r\n                                                  <p className=\"text-xs text-muted-foreground\">{entry.changeReason}</p>\r\n                                                )}\r\n                                              </div>\r\n                                            </TooltipContent>\r\n                                          </Tooltip>\r\n                                        ) : (\r\n                                          <span className=\"max-w-[200px] truncate block\">{productDetails.name}</span>\r\n                                        )}\r\n                                      </TableCell>\r\n                                      <TableCell className=\"text-green-700 bg-green-50 font-medium px-3 py-2 rounded-lg border border-green-200\">\r\n                                        {entry.oldQuantity} → {entry.newQuantity} (+{formatNumber(qtyAdded)})\r\n                                      </TableCell>\r\n                                      <TableCell>\r\n                                        {canViewCostPrice ? `${currencySymbol}${formatFinancial(price, 'cost')}` : '•••'}\r\n                                      </TableCell>\r\n                                      <TableCell className=\"font-medium\">\r\n                                        {canViewCostPrice ? `${currencySymbol}${formatNumber(amount)}` : '•••'}\r\n                                      </TableCell>\r\n                                      <TableCell className=\"text-sm text-muted-foreground\">\r\n                                        {format(new Date(entry.createdAt), 'p')}\r\n                                      </TableCell>\r\n                                      <TableCell>\r\n                                        <div className=\"flex gap-1\">\r\n                                          <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"sm\"\r\n                                            onClick={() => setEditHistoryDialog({ open: true, entry })}\r\n                                            className=\"h-8 w-8 p-0\"\r\n                                          >\r\n                                            <Edit className=\"h-4 w-4\" />\r\n                                          </Button>\r\n                                          <Button\r\n                                            variant=\"ghost\"\r\n                                            size=\"sm\"\r\n                                            onClick={() => setDeleteHistoryDialog({ open: true, entry })}\r\n                                            className=\"h-8 w-8 p-0 text-destructive hover:text-destructive\"\r\n                                          >\r\n                                            <Trash2 className=\"h-4 w-4\" />\r\n                                          </Button>\r\n                                        </div>\r\n                                      </TableCell>\r\n                                    </TableRow>\r\n                                  );\r\n                                })}\r\n                                <TableRow className=\"bg-primary/5 font-semibold border-t-2\">\r\n                                  <TableCell className=\"font-bold\">\r\n                                    Total\r\n                                  </TableCell>\r\n                                  <TableCell className=\"text-green-700 bg-green-50 font-bold px-3 py-2 rounded-lg border border-green-200\">\r\n                                    Total: +{formatNumber(groupTotals.totalQty)}\r\n                                  </TableCell>\r\n                                  <TableCell>\r\n                                    -\r\n                                  </TableCell>\r\n                                  <TableCell className=\"font-bold\">\r\n                                    {canViewCostPrice ? `${currencySymbol}${formatNumber(groupTotals.totalAmount)}` : '•••'}\r\n                                  </TableCell>\r\n                                  <TableCell>\r\n                                    -\r\n                                  </TableCell>\r\n                                  <TableCell>\r\n                                    -\r\n                                  </TableCell>\r\n                                </TableRow>\r\n                              </TableBody>\r\n                            </Table>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {filteredRegularGroups.length > 0 && (\r\n                <div>\r\n                  <div className=\"mb-4\">\r\n                    <h3 className=\"text-lg font-semibold text-muted-foreground\">Regular Stock Additions</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Individual stock additions and manual adjustments</p>\r\n                  </div>\r\n                  <div className=\"space-y-4\">\r\n                    {filteredRegularGroups.map((group, groupIndex) => {\r\n                      const groupTotals = calculateGroupTotals(group.entries);\r\n\r\n                      return (\r\n                        <div key={`regular-${groupIndex}`} className=\"border rounded-lg overflow-hidden\">\r\n                          <div className=\"bg-muted/50 px-4 py-2 border-b\">\r\n                            <div className=\"flex items-center justify-between\">\r\n                              <h4 className=\"font-medium text-sm\">\r\n                                {format(new Date(group.date), 'PPP')}\r\n                              </h4>\r\n                              <div className=\"flex items-center gap-2\">\r\n                                <span className=\"text-xs text-muted-foreground\">\r\n                                  {group.entries.length} item{group.entries.length > 1 ? 's' : ''}\r\n                                </span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"overflow-x-auto\">\r\n                            <Table>\r\n                              <TableHeader>\r\n                                <TableRow>\r\n                                  <TableHead className=\"w-[200px]\">Item</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Qty Added</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Price</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Amount</TableHead>\r\n                                  <TableHead className=\"w-[100px]\">Time</TableHead>\r\n                                  <TableHead className=\"w-[120px]\">Type</TableHead>\r\n                                </TableRow>\r\n                              </TableHeader>\r\n                              <TableBody>\r\n                                {group.entries.map((entry) => {\r\n                                  const productDetails = getProductDetails(entry);\r\n                                  const qtyAdded = entry.newQuantity - entry.oldQuantity;\r\n                                  const price = productDetails.costPrice;\r\n                                  const amount = qtyAdded * price;\r\n                                  const productExistsInCache = products.some(p => p.id === entry.productId || p.itemNumber === entry.productId);\r\n\r\n                                  return (\r\n                                    <TableRow key={entry.id}>\r\n                                      <TableCell className=\"font-medium\">\r\n                                        {productExistsInCache ? (\r\n                                          <Tooltip>\r\n                                            <TooltipTrigger asChild>\r\n                                              <button\r\n                                                onClick={() => handleProductClick(entry.productId)}\r\n                                                className=\"text-left hover:text-primary hover:underline cursor-pointer transition-colors max-w-[200px] truncate\"\r\n                                              >\r\n                                                {productDetails.name}\r\n                                              </button>\r\n                                            </TooltipTrigger>\r\n                                            <TooltipContent side=\"top\" className=\"max-w-xs\">\r\n                                              <div className=\"space-y-1\">\r\n                                                <p className=\"font-bold break-words whitespace-normal\">{productDetails.name}</p>\r\n                                                {entry.changeReason && (\r\n                                                  <p className=\"text-xs text-muted-foreground\">{entry.changeReason}</p>\r\n                                                )}\r\n                                              </div>\r\n                                            </TooltipContent>\r\n                                          </Tooltip>\r\n                                        ) : (\r\n                                          <span className=\"max-w-[200px] truncate block\">{productDetails.name}</span>\r\n                                        )}\r\n                                      </TableCell>\r\n                                      <TableCell className=\"text-green-700 bg-green-50 font-medium px-3 py-2 rounded-lg border border-green-200\">\r\n                                        {entry.oldQuantity} → {entry.newQuantity} (+{formatNumber(qtyAdded)})\r\n                                      </TableCell>\r\n                                      <TableCell>\r\n                                        {canViewCostPrice ? `${currencySymbol}${formatFinancial(price, 'cost')}` : '•••'}\r\n                                      </TableCell>\r\n                                      <TableCell className=\"font-medium\">\r\n                                        {canViewCostPrice ? `${currencySymbol}${formatNumber(amount)}` : '•••'}\r\n                                      </TableCell>\r\n                                      <TableCell className=\"text-sm text-muted-foreground\">\r\n                                        {format(new Date(entry.createdAt), 'p')}\r\n                                      </TableCell>\r\n                                      <TableCell>\r\n                                        <span className=\"text-xs bg-muted text-muted-foreground px-2 py-1 rounded-full\">\r\n                                          {entry.changeReason}\r\n                                        </span>\r\n                                      </TableCell>\r\n                                    </TableRow>\r\n                                  );\r\n                                })}\r\n                                <TableRow className=\"bg-muted/30 font-semibold border-t-2\">\r\n                                  <TableCell className=\"font-bold\">\r\n                                    Total\r\n                                  </TableCell>\r\n                                  <TableCell className=\"text-green-700 bg-green-50 font-bold px-3 py-2 rounded-lg border border-green-200\">\r\n                                    Total: +{formatNumber(groupTotals.totalQty)}\r\n                                  </TableCell>\r\n                                  <TableCell>\r\n                                    -\r\n                                  </TableCell>\r\n                                  <TableCell className=\"font-bold\">\r\n                                    {canViewCostPrice ? `${currencySymbol}${formatNumber(groupTotals.totalAmount)}` : '•••'}\r\n                                  </TableCell>\r\n                                  <TableCell>\r\n                                    -\r\n                                  </TableCell>\r\n                                  <TableCell>\r\n                                    -\r\n                                  </TableCell>\r\n                                </TableRow>\r\n                              </TableBody>\r\n                            </Table>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </TooltipProvider>\r\n        )}\r\n      </CardContent>\r\n\r\n      <EditStockHistoryDialog\r\n        open={editHistoryDialog.open}\r\n        onOpenChange={(open) => setEditHistoryDialog({ open, entry: null })}\r\n        entry={editHistoryDialog.entry}\r\n        onConfirm={handleEditStockHistory}\r\n        productCreatedAt={editHistoryDialog.entry ? (() => {\r\n          const product = products.find(p => p.id === editHistoryDialog.entry?.productId);\r\n          return product ? new Date(product.createdAt) : undefined;\r\n        })() : undefined}\r\n      />\r\n\r\n      <DeleteStockHistoryDialog\r\n        open={deleteHistoryDialog.open}\r\n        onOpenChange={(open) => setDeleteHistoryDialog({ open, entry: null })}\r\n        entry={deleteHistoryDialog.entry}\r\n        onConfirm={handleDeleteStockHistory}\r\n      />\r\n\r\n      <DeleteInvoiceDialog\r\n        open={deleteInvoiceDialog.open}\r\n        onOpenChange={(open) => setDeleteInvoiceDialog({ open, group: null })}\r\n        group={deleteInvoiceDialog.group}\r\n        onConfirm={handleDeleteInvoiceConfirm}\r\n      />\r\n\r\n      <EditGroupDateDialog\r\n        open={editGroupDateDialog.open}\r\n        onOpenChange={(open) => setEditGroupDateDialog({ open, group: null })}\r\n        group={editGroupDateDialog.group}\r\n        onConfirm={handleEditGroupDateConfirm}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default StockInputHistory;\r\n"],"names":[],"mappings":"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"}}]
}