{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/tabs.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/CashAccountsHeader.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Plus } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\n\r\ninterface CashAccountsHeaderProps {\r\n  onCreateAccount: () => void;\r\n  canCreate?: boolean;\r\n}\r\n\r\nconst CashAccountsHeader: React.FC<CashAccountsHeaderProps> = ({ onCreateAccount, canCreate = true }) => {\r\n  const isMobile = useIsMobile();\r\n\r\n  return (\r\n    <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n      <h2 className=\"text-xl font-semibold\">Cash Accounts</h2>\r\n      {canCreate && (\r\n        <Button\r\n          onClick={onCreateAccount}\r\n          className=\"gap-2\"\r\n          size={isMobile ? \"default\" : \"default\"}\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          New Cash Account\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CashAccountsHeader;"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;;;;AAOA,MAAM,qBAAwD,CAAC,EAAE,eAAe,EAAE,YAAY,IAAI,EAAE;;IAClG,MAAM,WAAW,IAAA,gJAAW;IAE5B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAwB;;;;;;YACrC,2BACC,6LAAC,+IAAM;gBACL,SAAS;gBACT,WAAU;gBACV,MAAM,WAAW,YAAY;;kCAE7B,6LAAC,6MAAI;wBAAC,WAAU;;;;;;oBAAY;;;;;;;;;;;;;AAMtC;GAlBM;;QACa,gJAAW;;;KADxB;uCAoBS"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/badge.tsx"],"sourcesContent":["\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n        warning:\r\n          \"border-transparent bg-amber-500 text-white hover:bg-amber-600\",\r\n        success:\r\n          \"border-transparent bg-green-600 text-white hover:bg-green-700\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { buttonVariants } from \"@/components/ui/button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,sLAAyB;AAE7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,4HAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAChC,6LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,IAAA,uJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,IAAA,uJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 350, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/DeleteCashAccountDialog.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\nimport { CashAccount } from '@/types/cash';\r\n\r\ninterface DeleteCashAccountDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  account: CashAccount | null;\r\n  transactionCount?: number;\r\n  details?: string;\r\n  onConfirm: (deleteTransactions: boolean) => void;\r\n}\r\n\r\nconst DeleteCashAccountDialog: React.FC<DeleteCashAccountDialogProps> = ({\r\n  open,\r\n  onOpenChange,\r\n  account,\r\n  transactionCount = 0,\r\n  details,\r\n  onConfirm\r\n}) => {\r\n  if (!account) return null;\r\n\r\n  const hasTransactions = transactionCount > 0;\r\n\r\n  return (\r\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\r\n      <AlertDialogContent>\r\n        <AlertDialogHeader>\r\n          <AlertDialogTitle>Delete Cash Account</AlertDialogTitle>\r\n          <AlertDialogDescription className=\"space-y-2\">\r\n            <span className=\"block\">\r\n              Are you sure you want to delete the cash account \"{account.name}\"?\r\n            </span>\r\n            {hasTransactions && (\r\n              <span className=\"block text-amber-600 font-medium\">\r\n                This account has {details || `${transactionCount} linked records`}.\r\n              </span>\r\n            )}\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        <AlertDialogFooter className={hasTransactions ? \"flex-col gap-2 sm:flex-col\" : \"\"}>\r\n          <AlertDialogCancel>Cancel</AlertDialogCancel>\r\n          {hasTransactions ? (\r\n            <>\r\n              <AlertDialogAction\r\n                onClick={() => onConfirm(false)}\r\n                className=\"bg-blue-600 hover:bg-blue-700\"\r\n              >\r\n                Delete Account Only (Unlink Records)\r\n              </AlertDialogAction>\r\n              <AlertDialogAction\r\n                onClick={() => onConfirm(true)}\r\n                className=\"bg-red-600 hover:bg-red-700\"\r\n              >\r\n                Delete Account & All Records\r\n              </AlertDialogAction>\r\n            </>\r\n          ) : (\r\n            <AlertDialogAction\r\n              onClick={() => onConfirm(false)}\r\n              className=\"bg-red-600 hover:bg-red-700\"\r\n            >\r\n              Delete Account\r\n            </AlertDialogAction>\r\n          )}\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};\r\n\r\nexport default DeleteCashAccountDialog;\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAqBA,MAAM,0BAAkE,CAAC,EACvE,IAAI,EACJ,YAAY,EACZ,OAAO,EACP,mBAAmB,CAAC,EACpB,OAAO,EACP,SAAS,EACV;IACC,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,kBAAkB,mBAAmB;IAE3C,qBACE,6LAAC,6JAAW;QAAC,MAAM;QAAM,cAAc;kBACrC,cAAA,6LAAC,oKAAkB;;8BACjB,6LAAC,mKAAiB;;sCAChB,6LAAC,kKAAgB;sCAAC;;;;;;sCAClB,6LAAC,wKAAsB;4BAAC,WAAU;;8CAChC,6LAAC;oCAAK,WAAU;;wCAAQ;wCAC6B,QAAQ,IAAI;wCAAC;;;;;;;gCAEjE,iCACC,6LAAC;oCAAK,WAAU;;wCAAmC;wCAC/B,WAAW,GAAG,iBAAiB,eAAe,CAAC;wCAAC;;;;;;;;;;;;;;;;;;;8BAK1E,6LAAC,mKAAiB;oBAAC,WAAW,kBAAkB,+BAA+B;;sCAC7E,6LAAC,mKAAiB;sCAAC;;;;;;wBAClB,gCACC;;8CACE,6LAAC,mKAAiB;oCAChB,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;8CAGD,6LAAC,mKAAiB;oCAChB,SAAS,IAAM,UAAU;oCACzB,WAAU;8CACX;;;;;;;yDAKH,6LAAC,mKAAiB;4BAChB,SAAS,IAAM,UAAU;4BACzB,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb;KAzDM;uCA2DS"}},
    {"offset": {"line": 483, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/CashAccountCard.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { MoreHorizontal, ArrowUpRight, ArrowDownRight, Wallet, Loader2 } from 'lucide-react';\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';\r\nimport { CashAccount, DailyCashSummary } from '@/types/cash';\r\nimport { useCashAccounts } from '@/hooks/useCashAccounts';\r\nimport { useCashTransactions } from '@/hooks/useCashTransactions';\r\nimport { useBusinessSettings } from '@/hooks/useBusinessSettings';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport DeleteCashAccountDialog from './DeleteCashAccountDialog';\r\nimport { formatCashAmount } from '@/lib/utils';\r\nimport { useProfiles } from '@/contexts/ProfileContext';\r\nimport { useFinancialVisibility } from '@/hooks/useFinancialVisibility';\r\n\r\ninterface CashAccountCardProps {\r\n  account: CashAccount;\r\n  onAccountDeleted?: () => void;\r\n}\r\n\r\nconst CashAccountCard: React.FC<CashAccountCardProps> = ({ account, onAccountDeleted }) => {\r\n  const navigate = useNavigate();\r\n  const isMobile = useIsMobile();\r\n  const { deleteAccount, deleteAccountWithTransactions } = useCashAccounts();\r\n  const { getDailySummary } = useCashTransactions(account.id);\r\n  const { settings } = useBusinessSettings();\r\n  const { hasPermission } = useProfiles();\r\n  const { canManageFinanceAccounts } = useFinancialVisibility();\r\n  const canDelete = hasPermission('finance', 'delete');\r\n  const [isLoadingSummary, setIsLoadingSummary] = useState(true);\r\n  const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);\r\n  const [transactionCount, setTransactionCount] = useState(0);\r\n  const [deleteDetails, setDeleteDetails] = useState<string>('');\r\n  const [todaysSummary, setTodaysSummary] = useState<DailyCashSummary>({\r\n    date: new Date(),\r\n    openingBalance: 0,\r\n    cashIn: 0,\r\n    cashOut: 0,\r\n    transfersIn: 0,\r\n    transfersOut: 0,\r\n    closingBalance: 0\r\n  });\r\n\r\n  // Memoize currency formatter\r\n  const formatCurrency = useMemo(() => {\r\n    return (amount: number) => {\r\n      return formatCashAmount(amount, settings.currency || 'USD');\r\n    };\r\n  }, [settings.currency]);\r\n\r\n  // Load today's summary to get opening, closing, and current balance\r\n  const loadTodaysSummary = useCallback(async () => {\r\n    setIsLoadingSummary(true);\r\n    try {\r\n      const summary = await getDailySummary(new Date(), account.id);\r\n      setTodaysSummary(summary);\r\n    } catch (error) {\r\n      console.error('Error loading today\\'s summary:', error);\r\n    } finally {\r\n      setIsLoadingSummary(false);\r\n    }\r\n  }, [getDailySummary, account.id]);\r\n\r\n  useEffect(() => {\r\n    loadTodaysSummary();\r\n  }, [loadTodaysSummary]);\r\n\r\n  // Memoized handlers\r\n  const handleDelete = useCallback(async () => {\r\n    console.log('Delete button clicked for account:', account.id);\r\n\r\n    try {\r\n      const result = await deleteAccount(account.id, onAccountDeleted);\r\n      console.log('Delete result:', result);\r\n\r\n      if (result && typeof result === 'object' && 'hasTransactions' in result) {\r\n        if (result.hasTransactions) {\r\n          console.log('Account has transactions, showing dialog');\r\n          // Show dialog with transaction count and details\r\n          setTransactionCount(result.transactionCount || 0);\r\n          setDeleteDetails(result.details || '');\r\n          setDeleteDialogOpen(true);\r\n        } else if (result.success) {\r\n          console.log('Account deleted successfully without dialog');\r\n          // Account was deleted successfully\r\n        } else {\r\n          console.log('Account deletion failed');\r\n          // Deletion failed, error was already shown in toast\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Unexpected error during deletion:', error);\r\n    }\r\n  }, [deleteAccount, account.id, onAccountDeleted]);\r\n\r\n  const handleConfirmDelete = useCallback(async (deleteTransactions: boolean) => {\r\n    console.log('Confirm delete called with deleteTransactions:', deleteTransactions);\r\n\r\n    try {\r\n      const success = await deleteAccountWithTransactions(account.id, deleteTransactions, onAccountDeleted);\r\n      console.log('Delete with transactions result:', success);\r\n\r\n      if (success) {\r\n        setDeleteDialogOpen(false);\r\n        console.log('Deletion successful, dialog closed');\r\n      } else {\r\n        console.log('Deletion failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in handleConfirmDelete:', error);\r\n    }\r\n  }, [deleteAccountWithTransactions, account.id, onAccountDeleted]);\r\n\r\n  const handleCardClick = useCallback(() => {\r\n    navigate(`/cash/${account.id}`);\r\n  }, [navigate, account.id]);\r\n\r\n  return (\r\n    <>\r\n      <Card className={`hover:shadow-lg transition-all duration-200 cursor-pointer ${isMobile ? 'shadow-sm border-gray-200' : 'hover:shadow-md'}`}>\r\n        <CardHeader className={`flex flex-row items-center justify-between space-y-0 ${isMobile ? 'pb-3' : 'pb-2'}`}>\r\n          <CardTitle className={`${isMobile ? 'text-base' : 'text-sm'} font-semibold flex items-center gap-2 text-gray-900`}>\r\n            <Wallet className={`${isMobile ? 'h-5 w-5' : 'h-4 w-4'} text-primary`} />\r\n            <span className=\"truncate\">{account.name}</span>\r\n            {account.isDefault && (\r\n              <Badge variant=\"secondary\" className={`${isMobile ? 'text-xs px-2 py-0.5' : 'text-xs'} bg-primary/10 text-primary border-primary/20`}>\r\n                Default\r\n              </Badge>\r\n            )}\r\n          </CardTitle>\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" className={`${isMobile ? 'h-8 w-8' : 'h-8 w-8'} p-0 hover:bg-gray-100`}>\r\n                <MoreHorizontal className=\"h-4 w-4 text-gray-500\" />\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"bg-white border border-gray-200 shadow-lg\">\r\n              <DropdownMenuItem\r\n                onClick={handleCardClick}\r\n                className=\"hover:bg-gray-50\"\r\n              >\r\n                View Details\r\n              </DropdownMenuItem>\r\n              {canDelete && (\r\n                <DropdownMenuItem\r\n                  onClick={handleDelete}\r\n                  className=\"text-red-600 hover:bg-red-50\"\r\n                >\r\n                  Delete Account\r\n                </DropdownMenuItem>\r\n              )}\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        </CardHeader>\r\n        <CardContent\r\n          onClick={handleCardClick}\r\n          className={isMobile ? 'px-4 pb-4' : ''}\r\n        >\r\n          <div className={`space-y-${isMobile ? '4' : '3'}`}>\r\n            <div className={isMobile ? 'space-y-1' : ''}>\r\n              <div className={`${isMobile ? 'text-2xl' : 'text-2xl'} font-bold text-gray-900 flex items-center`}>\r\n                {isLoadingSummary ? (\r\n                  <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n                ) : (\r\n                  canManageFinanceAccounts ? formatCurrency(todaysSummary.closingBalance) : '•••'\r\n                )}\r\n              </div>\r\n              <p className={`${isMobile ? 'text-sm' : 'text-xs'} text-gray-500 font-medium`}>\r\n                Current Balance\r\n              </p>\r\n            </div>\r\n\r\n            {account.description && (\r\n              <p className={`${isMobile ? 'text-sm leading-relaxed' : 'text-sm'} text-gray-600 line-clamp-2`}>\r\n                {account.description}\r\n              </p>\r\n            )}\r\n\r\n            <div className={`grid grid-cols-1 ${isMobile ? 'gap-3' : 'gap-2'} ${isMobile ? 'text-sm' : 'text-sm'}`}>\r\n              <div className=\"flex items-center justify-between p-2 bg-green-50 rounded-md\">\r\n                <div className=\"flex items-center gap-2 text-green-700\">\r\n                  <ArrowUpRight className=\"h-4 w-4\" />\r\n                  <span className=\"font-medium\">Opening</span>\r\n                </div>\r\n                <span className=\"font-semibold text-green-800 flex items-center\">\r\n                  {isLoadingSummary ? (\r\n                    <Loader2 className=\"h-4 w-4 animate-spin text-green-600\" />\r\n                  ) : (\r\n                    canManageFinanceAccounts ? formatCurrency(todaysSummary.openingBalance) : '•••'\r\n                  )}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center justify-between p-2 bg-blue-50 rounded-md\">\r\n                <div className=\"flex items-center gap-2 text-blue-700\">\r\n                  <ArrowDownRight className=\"h-4 w-4\" />\r\n                  <span className=\"font-medium\">Today's Close</span>\r\n                </div>\r\n                <span className=\"font-semibold text-blue-800 flex items-center\">\r\n                  {isLoadingSummary ? (\r\n                    <Loader2 className=\"h-4 w-4 animate-spin text-blue-600\" />\r\n                  ) : (\r\n                    canManageFinanceAccounts ? formatCurrency(todaysSummary.closingBalance) : '•••'\r\n                  )}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={`${isMobile ? 'pt-2' : 'pt-2'}`}>\r\n              <Button\r\n                variant=\"outline\"\r\n                size={isMobile ? \"default\" : \"sm\"}\r\n                className={`w-full font-medium hover:bg-primary hover:text-white transition-colors ${isMobile ? 'h-10' : ''}`}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  handleCardClick();\r\n                }}\r\n              >\r\n                Manage Account\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <DeleteCashAccountDialog\r\n        open={deleteDialogOpen}\r\n        onOpenChange={setDeleteDialogOpen}\r\n        account={account}\r\n        transactionCount={transactionCount}\r\n        details={deleteDetails}\r\n        onConfirm={handleConfirmDelete}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CashAccountCard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 971, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/CashAccountsList.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Plus } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport CashAccountCard from '@/components/cash/CashAccountCard';\r\nimport { CashAccount } from '@/types/cash';\r\n\r\ninterface CashAccountsListProps {\r\n  accounts: CashAccount[];\r\n  isLoading: boolean;\r\n  onCreateAccount: () => void;\r\n  onAccountDeleted: () => Promise<void>;\r\n  canCreate?: boolean;\r\n}\r\n\r\nconst CashAccountsList: React.FC<CashAccountsListProps> = ({\r\n  accounts,\r\n  isLoading,\r\n  onCreateAccount,\r\n  onAccountDeleted,\r\n  canCreate = true\r\n}) => {\r\n  const isMobile = useIsMobile();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\r\n        {[1, 2, 3].map((i) => (\r\n          <div key={i} className=\"h-64 bg-gray-100 animate-pulse rounded-lg\" />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (accounts.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No cash accounts</h3>\r\n        <p className=\"text-gray-500 mb-4\">Get started by creating your first cash account.</p>\r\n        {canCreate && (\r\n          <Button onClick={onCreateAccount} className=\"gap-2\">\r\n            <Plus className=\"h-4 w-4\" />\r\n            Create Cash Account\r\n          </Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6\">\r\n      {accounts.map((account) => (\r\n        <CashAccountCard\r\n          key={account.id}\r\n          account={account}\r\n          onAccountDeleted={onAccountDeleted}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CashAccountsList;"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;;;;;AAWA,MAAM,mBAAoD,CAAC,EACzD,QAAQ,EACR,SAAS,EACT,eAAe,EACf,gBAAgB,EAChB,YAAY,IAAI,EACjB;;IACC,MAAM,WAAW,IAAA,gJAAW;IAE5B,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACZ;gBAAC;gBAAG;gBAAG;aAAE,CAAC,GAAG,CAAC,CAAC,kBACd,6LAAC;oBAAY,WAAU;mBAAb;;;;;;;;;;IAIlB;IAEA,IAAI,SAAS,MAAM,KAAK,GAAG;QACzB,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAyC;;;;;;8BACvD,6LAAC;oBAAE,WAAU;8BAAqB;;;;;;gBACjC,2BACC,6LAAC,+IAAM;oBAAC,SAAS;oBAAiB,WAAU;;sCAC1C,6LAAC,6MAAI;4BAAC,WAAU;;;;;;wBAAY;;;;;;;;;;;;;IAMtC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC,2JAAe;gBAEd,SAAS;gBACT,kBAAkB;eAFb,QAAQ,EAAE;;;;;;;;;;AAOzB;GA7CM;;QAOa,gJAAW;;;KAPxB;uCA+CS"}},
    {"offset": {"line": 1086, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,2KAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/checkbox.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Checkbox = React.forwardRef<\r\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <CheckboxPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <CheckboxPrimitive.Indicator\r\n      className={cn(\"flex items-center justify-center text-current\")}\r\n    >\r\n      <Check className=\"h-4 w-4\" />\r\n    </CheckboxPrimitive.Indicator>\r\n  </CheckboxPrimitive.Root>\r\n))\r\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\r\n\r\nexport { Checkbox }\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAW,IAAA,4HAAE,EAAC;sBAEd,cAAA,6LAAC,gNAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/CashAccountDialog.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport { CashAccountFormData } from '@/types/cash';\r\nimport { useBusinessSettings } from '@/hooks/useBusinessSettings';\r\n\r\ninterface CashAccountDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onSubmit: (data: CashAccountFormData) => void;\r\n  title: string;\r\n  initialData?: Partial<CashAccountFormData>;\r\n  isSubmitting?: boolean;\r\n}\r\n\r\nconst CashAccountDialog: React.FC<CashAccountDialogProps> = ({\r\n  open,\r\n  onOpenChange,\r\n  onSubmit,\r\n  title,\r\n  initialData,\r\n  isSubmitting = false\r\n}) => {\r\n  const { settings } = useBusinessSettings();\r\n  const { register, handleSubmit, formState: { errors }, reset, watch, setValue } = useForm<CashAccountFormData>({\r\n    defaultValues: {\r\n      name: '',\r\n      description: '',\r\n      isDefault: false,\r\n      ...initialData\r\n    }\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open && initialData) {\r\n      reset({\r\n        name: initialData.name || '',\r\n        description: initialData.description || '',\r\n        openingBalance: initialData.openingBalance || 0,\r\n        isDefault: initialData.isDefault || false\r\n      });\r\n    } else if (open) {\r\n      reset({\r\n        name: '',\r\n        description: '',\r\n        openingBalance: undefined as any,\r\n        isDefault: false\r\n      });\r\n    }\r\n  }, [open, initialData, reset]);\r\n\r\n  const isDefault = watch('isDefault');\r\n\r\n  const handleFormSubmit = (data: CashAccountFormData) => {\r\n    onSubmit(data);\r\n  };\r\n\r\n  // Use business settings currency, default to UGX if not set\r\n  const currency = settings.currency || 'UGX';\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[425px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>{title}</DialogTitle>\r\n        </DialogHeader>\r\n        <form onSubmit={handleSubmit(handleFormSubmit)} className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"name\">Account Name</Label>\r\n            <Input\r\n              id=\"name\"\r\n              {...register('name', { required: 'Account name is required' })}\r\n              placeholder=\"e.g., Main Cash, Petty Cash\"\r\n              disabled={isSubmitting}\r\n            />\r\n            {errors.name && (\r\n              <p className=\"text-sm text-red-600\">{errors.name.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"description\">Description (Optional)</Label>\r\n            <Textarea\r\n              id=\"description\"\r\n              {...register('description')}\r\n              placeholder=\"Brief description of this account\"\r\n              rows={3}\r\n              disabled={isSubmitting}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"openingBalance\">Opening Balance ({currency})</Label>\r\n            <Input\r\n              id=\"openingBalance\"\r\n              type=\"number\"\r\n              step=\"0.01\"\r\n              {...register('openingBalance', {\r\n                required: 'Opening balance is required',\r\n                min: { value: 0, message: 'Opening balance cannot be negative' }\r\n              })}\r\n              placeholder=\"0.00\"\r\n              disabled={isSubmitting}\r\n            />\r\n            {errors.openingBalance && (\r\n              <p className=\"text-sm text-red-600\">{errors.openingBalance.message}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Checkbox\r\n              id=\"isDefault\"\r\n              checked={isDefault}\r\n              onCheckedChange={(checked) => setValue('isDefault', checked as boolean)}\r\n              disabled={isSubmitting}\r\n            />\r\n            <Label htmlFor=\"isDefault\" className=\"text-sm\">\r\n              Set as default account\r\n            </Label>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-2 pt-4\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => onOpenChange(false)} disabled={isSubmitting}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSubmitting}>\r\n              {isSubmitting\r\n                ? (initialData ? 'Updating...' : 'Creating...')\r\n                : (initialData ? 'Update Account' : 'Create Account')\r\n              }\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default CashAccountDialog;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1462, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/popover.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Popover = PopoverPrimitive.Root\r\n\r\nconst PopoverTrigger = PopoverPrimitive.Trigger\r\n\r\nconst PopoverContent = React.forwardRef<\r\n  React.ElementRef<typeof PopoverPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\r\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\r\n  <PopoverPrimitive.Portal>\r\n    <PopoverPrimitive.Content\r\n      ref={ref}\r\n      align={align}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </PopoverPrimitive.Portal>\r\n))\r\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,UAAU,8KAAqB;AAErC,MAAM,iBAAiB,iLAAwB;AAE/C,MAAM,+BAAiB,2KAAgB,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 1510, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/calendar.tsx"],"sourcesContent":["\r\nimport * as React from \"react\";\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport { DayPicker } from \"react-day-picker\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { buttonVariants } from \"@/components/ui/button\";\r\n\r\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>;\r\n\r\nfunction Calendar({\r\n  className,\r\n  classNames,\r\n  showOutsideDays = true,\r\n  ...props\r\n}: CalendarProps) {\r\n  return (\r\n    <DayPicker\r\n      showOutsideDays={showOutsideDays}\r\n      className={cn(\"p-3 pointer-events-auto\", className)}\r\n      classNames={{\r\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\r\n        month: \"space-y-4\",\r\n        caption: \"flex justify-center pt-1 relative items-center\",\r\n        caption_label: \"text-sm font-medium\",\r\n        caption_dropdowns: \"flex justify-center gap-1\",\r\n        nav: \"space-x-1 flex items-center\",\r\n        nav_button: cn(\r\n          buttonVariants({ variant: \"outline\" }),\r\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\r\n        ),\r\n        nav_button_previous: \"absolute left-1\",\r\n        nav_button_next: \"absolute right-1\",\r\n        table: \"w-full border-collapse space-y-1\",\r\n        head_row: \"flex\",\r\n        head_cell:\r\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\r\n        row: \"flex w-full mt-2\",\r\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\r\n        day: cn(\r\n          buttonVariants({ variant: \"ghost\" }),\r\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\r\n        ),\r\n        day_range_end: \"day-range-end\",\r\n        day_selected:\r\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\r\n        day_today: \"bg-accent text-accent-foreground\",\r\n        day_outside:\r\n          \"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30\",\r\n        day_disabled: \"text-muted-foreground opacity-50\",\r\n        day_range_middle:\r\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\r\n        day_hidden: \"invisible\",\r\n        dropdown: \"bg-background rounded-md border p-1 shadow-md\",\r\n        dropdown_month: \"w-[var(--rdp-caption-dropdown-month-width)]\",\r\n        dropdown_year: \"w-[var(--rdp-caption-dropdown-year-width)]\",\r\n        dropdown_icon: \"w-4 h-4\",\r\n        button_reset: \"appearance-none bg-transparent border-none p-0 m-0\",\r\n        vhidden: \"sr-only\",\r\n        ...classNames,\r\n      }}\r\n      components={{\r\n        IconLeft: ({ ..._props }) => <ChevronLeft className=\"h-4 w-4\" />,\r\n        IconRight: ({ ..._props }) => <ChevronRight className=\"h-4 w-4\" />,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nCalendar.displayName = \"Calendar\";\r\n\r\nexport { Calendar };\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAEA;AACA;;;;;;AAIA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,8KAAS;QACR,iBAAiB;QACjB,WAAW,IAAA,4HAAE,EAAC,2BAA2B;QACzC,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,mBAAmB;YACnB,KAAK;YACL,YAAY,IAAA,4HAAE,EACZ,IAAA,uJAAc,EAAC;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,IAAA,4HAAE,EACL,IAAA,uJAAc,EAAC;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,UAAU;YACV,gBAAgB;YAChB,eAAe;YACf,eAAe;YACf,cAAc;YACd,SAAS;YACT,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,GAAG,QAAQ,iBAAK,6LAAC,sOAAW;oBAAC,WAAU;;;;;;YACpD,WAAW,CAAC,EAAE,GAAG,QAAQ,iBAAK,6LAAC,yOAAY;oBAAC,WAAU;;;;;;QACxD;QACC,GAAG,KAAK;;;;;;AAGf;KA1DS;AA2DT,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1599, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/analytics/DateRangeFilter.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Calendar as CalendarIcon } from \"lucide-react\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { format } from \"date-fns\";\r\n\r\ninterface DateRangeFilterProps {\r\n  dateFilter: string;\r\n  dateRange: { from: Date | undefined; to: Date | undefined; };\r\n  specificDate?: Date | undefined;\r\n  isCustomRange: boolean;\r\n  isSpecificDate?: boolean;\r\n  onDateFilterChange: (value: string) => void;\r\n  onDateRangeChange: (range: { from: Date | undefined; to: Date | undefined; }) => void;\r\n  onSpecificDateChange?: (date: Date | undefined) => void;\r\n}\r\n\r\nconst DateRangeFilter: React.FC<DateRangeFilterProps> = ({\r\n  dateFilter,\r\n  dateRange,\r\n  specificDate,\r\n  isCustomRange,\r\n  isSpecificDate = false,\r\n  onDateFilterChange,\r\n  onDateRangeChange,\r\n  onSpecificDateChange\r\n}) => {\r\n  // Simplified event prevention\r\n  const preventPropagation = (e: React.MouseEvent | React.TouchEvent) => {\r\n    e.stopPropagation();\r\n  };\r\n  \r\n  return (\r\n    <div \r\n      className=\"flex gap-4 items-center flex-wrap mb-4\"\r\n      onClick={preventPropagation}\r\n    >\r\n      <div className=\"w-[240px] relative\">\r\n        <Select value={dateFilter} onValueChange={onDateFilterChange}>\r\n          <SelectTrigger className=\"bg-white shadow-sm\">\r\n            <SelectValue placeholder=\"Select date range\" />\r\n          </SelectTrigger>\r\n          <SelectContent className=\"z-[9999] bg-white shadow-lg border border-border/50\">\r\n            <SelectItem value=\"today\">Today</SelectItem>\r\n            <SelectItem value=\"yesterday\">Yesterday</SelectItem>\r\n            <SelectItem value=\"this-week\">This Week</SelectItem>\r\n            <SelectItem value=\"last-week\">Last Week</SelectItem>\r\n            <SelectItem value=\"this-month\">This Month</SelectItem>\r\n            <SelectItem value=\"last-month\">Last Month</SelectItem>\r\n            <SelectItem value=\"this-year\">This Year</SelectItem>\r\n            <SelectItem value=\"all\">All Time</SelectItem>\r\n            <SelectItem value=\"specific\">Specific Date</SelectItem>\r\n            <SelectItem value=\"custom\">Custom Range</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n\r\n      {isSpecificDate && onSpecificDateChange && (\r\n        <div className=\"flex items-center\">\r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal\"\r\n              >\r\n                <CalendarIcon className=\"h-4 w-4\" />\r\n                <span>{specificDate ? format(specificDate, \"MMM d, yyyy\") : \"Select Date\"}</span>\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-auto p-0 z-[9999] bg-white shadow-lg\" align=\"start\">\r\n              <Calendar\r\n                initialFocus\r\n                mode=\"single\"\r\n                defaultMonth={specificDate}\r\n                selected={specificDate}\r\n                onSelect={onSpecificDateChange}\r\n                className=\"p-3 pointer-events-auto\"\r\n                showOutsideDays={true}\r\n              />\r\n            </PopoverContent>\r\n          </Popover>\r\n        </div>\r\n      )}\r\n\r\n      {isCustomRange && (\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal\"\r\n              >\r\n                <CalendarIcon className=\"h-4 w-4\" />\r\n                <span>{dateRange.from ? format(dateRange.from, \"MMM d, yyyy\") : \"Start Date\"}</span>\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-auto p-0 z-[9999] bg-white shadow-lg\" align=\"start\">\r\n              <Calendar\r\n                initialFocus\r\n                mode=\"single\"\r\n                defaultMonth={dateRange?.from}\r\n                selected={dateRange?.from}\r\n                onSelect={(date) => onDateRangeChange({ ...dateRange, from: date })}\r\n                className=\"p-3 pointer-events-auto\"\r\n                showOutsideDays={true}\r\n              />\r\n            </PopoverContent>\r\n          </Popover>\r\n          \r\n          <span className=\"text-muted-foreground\">to</span>\r\n          \r\n          <Popover>\r\n            <PopoverTrigger asChild>\r\n              <Button\r\n                variant=\"outline\"\r\n                className=\"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal\"\r\n              >\r\n                <CalendarIcon className=\"h-4 w-4\" />\r\n                <span>{dateRange.to ? format(dateRange.to, \"MMM d, yyyy\") : \"End Date\"}</span>\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-auto p-0 z-[9999] bg-white shadow-lg\" align=\"start\">\r\n              <Calendar\r\n                initialFocus\r\n                mode=\"single\"\r\n                defaultMonth={dateRange?.to}\r\n                selected={dateRange?.to}\r\n                onSelect={(date) => onDateRangeChange({ ...dateRange, to: date })}\r\n                className=\"p-3 pointer-events-auto\"\r\n                showOutsideDays={true}\r\n              />\r\n            </PopoverContent>\r\n          </Popover>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DateRangeFilter;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;AAaA,MAAM,kBAAkD,CAAC,EACvD,UAAU,EACV,SAAS,EACT,YAAY,EACZ,aAAa,EACb,iBAAiB,KAAK,EACtB,kBAAkB,EAClB,iBAAiB,EACjB,oBAAoB,EACrB;IACC,8BAA8B;IAC9B,MAAM,qBAAqB,CAAC;QAC1B,EAAE,eAAe;IACnB;IAEA,qBACE,6LAAC;QACC,WAAU;QACV,SAAS;;0BAET,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,+IAAM;oBAAC,OAAO;oBAAY,eAAe;;sCACxC,6LAAC,sJAAa;4BAAC,WAAU;sCACvB,cAAA,6LAAC,oJAAW;gCAAC,aAAY;;;;;;;;;;;sCAE3B,6LAAC,sJAAa;4BAAC,WAAU;;8CACvB,6LAAC,mJAAU;oCAAC,OAAM;8CAAQ;;;;;;8CAC1B,6LAAC,mJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,6LAAC,mJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,6LAAC,mJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,6LAAC,mJAAU;oCAAC,OAAM;8CAAa;;;;;;8CAC/B,6LAAC,mJAAU;oCAAC,OAAM;8CAAa;;;;;;8CAC/B,6LAAC,mJAAU;oCAAC,OAAM;8CAAY;;;;;;8CAC9B,6LAAC,mJAAU;oCAAC,OAAM;8CAAM;;;;;;8CACxB,6LAAC,mJAAU;oCAAC,OAAM;8CAAW;;;;;;8CAC7B,6LAAC,mJAAU;oCAAC,OAAM;8CAAS;;;;;;;;;;;;;;;;;;;;;;;YAKhC,kBAAkB,sCACjB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,iJAAO;;sCACN,6LAAC,wJAAc;4BAAC,OAAO;sCACrB,cAAA,6LAAC,+IAAM;gCACL,SAAQ;gCACR,WAAU;;kDAEV,6LAAC,yNAAY;wCAAC,WAAU;;;;;;kDACxB,6LAAC;kDAAM,eAAe,IAAA,kKAAM,EAAC,cAAc,iBAAiB;;;;;;;;;;;;;;;;;sCAGhE,6LAAC,wJAAc;4BAAC,WAAU;4BAAyC,OAAM;sCACvE,cAAA,6LAAC,mJAAQ;gCACP,YAAY;gCACZ,MAAK;gCACL,cAAc;gCACd,UAAU;gCACV,UAAU;gCACV,WAAU;gCACV,iBAAiB;;;;;;;;;;;;;;;;;;;;;;YAO1B,+BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,iJAAO;;0CACN,6LAAC,wJAAc;gCAAC,OAAO;0CACrB,cAAA,6LAAC,+IAAM;oCACL,SAAQ;oCACR,WAAU;;sDAEV,6LAAC,yNAAY;4CAAC,WAAU;;;;;;sDACxB,6LAAC;sDAAM,UAAU,IAAI,GAAG,IAAA,kKAAM,EAAC,UAAU,IAAI,EAAE,iBAAiB;;;;;;;;;;;;;;;;;0CAGpE,6LAAC,wJAAc;gCAAC,WAAU;gCAAyC,OAAM;0CACvE,cAAA,6LAAC,mJAAQ;oCACP,YAAY;oCACZ,MAAK;oCACL,cAAc,WAAW;oCACzB,UAAU,WAAW;oCACrB,UAAU,CAAC,OAAS,kBAAkB;4CAAE,GAAG,SAAS;4CAAE,MAAM;wCAAK;oCACjE,WAAU;oCACV,iBAAiB;;;;;;;;;;;;;;;;;kCAKvB,6LAAC;wBAAK,WAAU;kCAAwB;;;;;;kCAExC,6LAAC,iJAAO;;0CACN,6LAAC,wJAAc;gCAAC,OAAO;0CACrB,cAAA,6LAAC,+IAAM;oCACL,SAAQ;oCACR,WAAU;;sDAEV,6LAAC,yNAAY;4CAAC,WAAU;;;;;;sDACxB,6LAAC;sDAAM,UAAU,EAAE,GAAG,IAAA,kKAAM,EAAC,UAAU,EAAE,EAAE,iBAAiB;;;;;;;;;;;;;;;;;0CAGhE,6LAAC,wJAAc;gCAAC,WAAU;gCAAyC,OAAM;0CACvE,cAAA,6LAAC,mJAAQ;oCACP,YAAY;oCACZ,MAAK;oCACL,cAAc,WAAW;oCACzB,UAAU,WAAW;oCACrB,UAAU,CAAC,OAAS,kBAAkB;4CAAE,GAAG,SAAS;4CAAE,IAAI;wCAAK;oCAC/D,WAAU;oCACV,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjC;KAxHM;uCA0HS"}},
    {"offset": {"line": 1974, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/table.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Table = React.forwardRef<\r\n  HTMLTableElement,\r\n  React.HTMLAttributes<HTMLTableElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div className=\"relative w-full overflow-auto\">\r\n    <table\r\n      ref={ref}\r\n      className={cn(\"w-full caption-bottom text-sm\", className)}\r\n      {...props}\r\n    />\r\n  </div>\r\n))\r\nTable.displayName = \"Table\"\r\n\r\nconst TableHeader = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\r\n))\r\nTableHeader.displayName = \"TableHeader\"\r\n\r\nconst TableBody = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tbody\r\n    ref={ref}\r\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableBody.displayName = \"TableBody\"\r\n\r\nconst TableFooter = React.forwardRef<\r\n  HTMLTableSectionElement,\r\n  React.HTMLAttributes<HTMLTableSectionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tfoot\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableFooter.displayName = \"TableFooter\"\r\n\r\nconst TableRow = React.forwardRef<\r\n  HTMLTableRowElement,\r\n  React.HTMLAttributes<HTMLTableRowElement>\r\n>(({ className, ...props }, ref) => (\r\n  <tr\r\n    ref={ref}\r\n    className={cn(\r\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableRow.displayName = \"TableRow\"\r\n\r\nconst TableHead = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.ThHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <th\r\n    ref={ref}\r\n    className={cn(\r\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTableHead.displayName = \"TableHead\"\r\n\r\nconst TableCell = React.forwardRef<\r\n  HTMLTableCellElement,\r\n  React.TdHTMLAttributes<HTMLTableCellElement>\r\n>(({ className, ...props }, ref) => (\r\n  <td\r\n    ref={ref}\r\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCell.displayName = \"TableCell\"\r\n\r\nconst TableCaption = React.forwardRef<\r\n  HTMLTableCaptionElement,\r\n  React.HTMLAttributes<HTMLTableCaptionElement>\r\n>(({ className, ...props }, ref) => (\r\n  <caption\r\n    ref={ref}\r\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nTableCaption.displayName = \"TableCaption\"\r\n\r\nexport {\r\n  Table,\r\n  TableHeader,\r\n  TableBody,\r\n  TableFooter,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableCaption,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,KAAK;YACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;;AAIf,MAAM,WAAW,GAAG;AAEpB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAM,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,mBAAmB;QAAa,GAAG,KAAK;;;;;;;AAEzE,YAAY,WAAW,GAAG;AAE1B,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,yBAAW,2KAAgB,OAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG;AAEvB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,oGACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,0BAAY,2KAAgB,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,kDAAkD;QAC/D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,6BAAe,2KAAgB,QAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;;AAGb,aAAa,WAAW,GAAG"}},
    {"offset": {"line": 2118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/TaxCalculator.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\n\r\ninterface TaxCalculatorProps {\r\n  taxPercentage: number;\r\n  onTaxChange: (percentage: number) => void;\r\n  netProfitLoss: number;\r\n  formatCurrency: (amount: number) => string;\r\n}\r\n\r\nconst TaxCalculator: React.FC<TaxCalculatorProps> = ({\r\n  taxPercentage,\r\n  onTaxChange,\r\n  netProfitLoss,\r\n  formatCurrency\r\n}) => {\r\n  const handleTaxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const value = parseFloat(e.target.value) || 0;\r\n    onTaxChange(Math.max(0, Math.min(100, value))); // Clamp between 0-100\r\n  };\r\n\r\n  const taxAmount = netProfitLoss > 0 ? (netProfitLoss * taxPercentage) / 100 : 0;\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-4 p-4 bg-gray-50 rounded-lg\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <Label htmlFor=\"tax-percentage\" className=\"text-sm font-medium\">\r\n          Tax %:\r\n        </Label>\r\n        <Input\r\n          id=\"tax-percentage\"\r\n          type=\"number\"\r\n          min=\"0\"\r\n          max=\"100\"\r\n          step=\"0.1\"\r\n          value={taxPercentage}\r\n          onChange={handleTaxChange}\r\n          className=\"w-20 h-8 text-center\"\r\n        />\r\n      </div>\r\n      <div className=\"text-sm\">\r\n        <span className=\"text-muted-foreground\">Tax Amount: </span>\r\n        <span className=\"font-medium\">{formatCurrency(taxAmount)}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaxCalculator;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;AASA,MAAM,gBAA8C,CAAC,EACnD,aAAa,EACb,WAAW,EACX,aAAa,EACb,cAAc,EACf;IACC,MAAM,kBAAkB,CAAC;QACvB,MAAM,QAAQ,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK;QAC5C,YAAY,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,UAAU,sBAAsB;IACxE;IAEA,MAAM,YAAY,gBAAgB,IAAI,AAAC,gBAAgB,gBAAiB,MAAM;IAE9E,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6IAAK;wBAAC,SAAQ;wBAAiB,WAAU;kCAAsB;;;;;;kCAGhE,6LAAC,6IAAK;wBACJ,IAAG;wBACH,MAAK;wBACL,KAAI;wBACJ,KAAI;wBACJ,MAAK;wBACL,OAAO;wBACP,UAAU;wBACV,WAAU;;;;;;;;;;;;0BAGd,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAwB;;;;;;kCACxC,6LAAC;wBAAK,WAAU;kCAAe,eAAe;;;;;;;;;;;;;;;;;;AAItD;KApCM;uCAsCS"}},
    {"offset": {"line": 2212, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/PLExportButton.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';\r\nimport { Download, FileText, File } from 'lucide-react';\r\nimport { ProfitLossData } from '@/hooks/useProfitLossData';\r\nimport { exportProfitLossToCSV } from '@/utils/exportProfitLossToCSV';\r\nimport { exportProfitLossToPDF } from '@/utils/exportProfitLossToPDF';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface PLExportButtonProps {\r\n  data: ProfitLossData;\r\n  dateRange: { from: Date | undefined; to: Date | undefined };\r\n  currency: string;\r\n  businessName?: string;\r\n  businessLogo?: string;\r\n  dateFilter?: string;\r\n}\r\n\r\nconst PLExportButton: React.FC<PLExportButtonProps> = ({ \r\n  data, \r\n  dateRange, \r\n  currency, \r\n  businessName, \r\n  businessLogo,\r\n  dateFilter \r\n}) => {\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const { toast } = useToast();\r\n\r\n  const handleExportCSV = async () => {\r\n    try {\r\n      setIsExporting(true);\r\n      exportProfitLossToCSV({\r\n        data,\r\n        dateRange,\r\n        currency,\r\n        businessName,\r\n        dateFilter\r\n      });\r\n      toast({\r\n        title: \"Export Successful\",\r\n        description: \"Profit & Loss Account exported to CSV successfully.\",\r\n      });\r\n    } catch (error) {\r\n      console.error('Error exporting CSV:', error);\r\n      toast({\r\n        title: \"Export Failed\",\r\n        description: \"Failed to export Profit & Loss Account to CSV.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsExporting(false);\r\n    }\r\n  };\r\n\r\n  const handleExportPDF = async () => {\r\n    try {\r\n      setIsExporting(true);\r\n      await exportProfitLossToPDF({\r\n        data,\r\n        dateRange,\r\n        currency,\r\n        businessName,\r\n        businessLogo,\r\n        dateFilter\r\n      });\r\n      toast({\r\n        title: \"Export Successful\",\r\n        description: \"Profit & Loss Account exported to PDF successfully.\",\r\n      });\r\n    } catch (error) {\r\n      console.error('Error exporting PDF:', error);\r\n      toast({\r\n        title: \"Export Failed\",\r\n        description: \"Failed to export Profit & Loss Account to PDF.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsExporting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"outline\" size=\"sm\" disabled={isExporting}>\r\n          <Download className=\"h-4 w-4 mr-2\" />\r\n          Export\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent>\r\n        <DropdownMenuItem onClick={handleExportCSV} disabled={isExporting}>\r\n          <File className=\"h-4 w-4 mr-2\" />\r\n          Export as CSV\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem onClick={handleExportPDF} disabled={isExporting}>\r\n          <FileText className=\"h-4 w-4 mr-2\" />\r\n          Export as PDF\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n};\r\n\r\nexport default PLExportButton;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;;;;;;;;;;AAWA,MAAM,iBAAgD,CAAC,EACrD,IAAI,EACJ,SAAS,EACT,QAAQ,EACR,YAAY,EACZ,YAAY,EACZ,UAAU,EACX;;IACC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAE1B,MAAM,kBAAkB;QACtB,IAAI;YACF,eAAe;YACf,IAAA,iKAAqB,EAAC;gBACpB;gBACA;gBACA;gBACA;gBACA;YACF;YACA,MAAM;gBACJ,OAAO;gBACP,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;QACF,SAAU;YACR,eAAe;QACjB;IACF;IAEA,MAAM,kBAAkB;QACtB,IAAI;YACF,eAAe;YACf,MAAM,IAAA,iKAAqB,EAAC;gBAC1B;gBACA;gBACA;gBACA;gBACA;gBACA;YACF;YACA,MAAM;gBACJ,OAAO;gBACP,aAAa;YACf;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;YACtC,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;QACF,SAAU;YACR,eAAe;QACjB;IACF;IAEA,qBACE,6LAAC,+JAAY;;0BACX,6LAAC,sKAAmB;gBAAC,OAAO;0BAC1B,cAAA,6LAAC,+IAAM;oBAAC,SAAQ;oBAAU,MAAK;oBAAK,UAAU;;sCAC5C,6LAAC,yNAAQ;4BAAC,WAAU;;;;;;wBAAiB;;;;;;;;;;;;0BAIzC,6LAAC,sKAAmB;;kCAClB,6LAAC,mKAAgB;wBAAC,SAAS;wBAAiB,UAAU;;0CACpD,6LAAC,6MAAI;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAGnC,6LAAC,mKAAgB;wBAAC,SAAS;wBAAiB,UAAU;;0CACpD,6LAAC,6NAAQ;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;AAM/C;GApFM;;QASc,2IAAQ;;;KATtB;uCAsFS"}},
    {"offset": {"line": 2385, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/ProfitLossTable.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { ProfitLossData } from '@/hooks/useProfitLossData';\r\nimport TaxCalculator from './TaxCalculator';\r\nimport PLExportButton from './PLExportButton';\r\n\r\ninterface ProfitLossTableProps {\r\n  data: ProfitLossData;\r\n  isLoading: boolean;\r\n  formatCurrency: (amount: number) => string;\r\n  onTaxChange: (percentage: number) => void;\r\n  dateRange: { from: Date | undefined; to: Date | undefined };\r\n  businessName?: string;\r\n  businessLogo?: string;\r\n  currency: string;\r\n  dateFilter?: string;\r\n}\r\n\r\nconst ProfitLossTable: React.FC<ProfitLossTableProps> = ({ \r\n  data, \r\n  isLoading, \r\n  formatCurrency, \r\n  onTaxChange, \r\n  dateRange, \r\n  businessName, \r\n  businessLogo, \r\n  currency,\r\n  dateFilter \r\n}) => {\r\n  if (isLoading) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Profit & Loss Account</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {[...Array(15)].map((_, i) => (\r\n              <Skeleton key={i} className=\"h-8 w-full\" />\r\n            ))}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  const tableRows = [\r\n    // Sales Section\r\n    { detail: 'SALES/REVENUE', amount: data.sales, isBold: true },\r\n    { detail: 'SALES RETURNS', amount: data.salesReturns, isSubtraction: true },\r\n    { detail: 'NET SALES', amount: data.netSales, isBold: true, isTotal: true },\r\n    \r\n    // Spacer\r\n    { detail: '', amount: null, isSpacer: true },\r\n    \r\n    // COGS Section - Updated structure with new formula\r\n    { detail: 'COST OF GOODS SOLD (COGS)', amount: null, isHeader: true },\r\n    { detail: 'TOTAL COST SALES', amount: data.totalCostSales },\r\n    { detail: 'CARRIAGE INWARDS', amount: data.carriageInwards },\r\n    { detail: 'TOTAL COST OF GOODS SOLD (COGS)', amount: data.totalCOGS, isBold: true, isTotal: true },\r\n    \r\n    // Spacer\r\n    { detail: '', amount: null, isSpacer: true },\r\n    \r\n    // Gross Profit\r\n    { detail: 'GROSS PROFIT', amount: data.grossProfit, isBold: true, isTotal: true },\r\n    \r\n    // Spacer\r\n    { detail: '', amount: null, isSpacer: true },\r\n    \r\n    // Expenses Section\r\n    { detail: 'EXPENSES', amount: null, isHeader: true },\r\n  ];\r\n\r\n  // Add expense categories\r\n  Object.entries(data.expensesByCategory).forEach(([category, amount]) => {\r\n    tableRows.push({\r\n      detail: category.toUpperCase(),\r\n      amount: amount\r\n    });\r\n  });\r\n\r\n  // Continue with totals\r\n  tableRows.push(\r\n    { detail: 'TOTAL EXPENSES', amount: data.totalExpenses, isBold: true, isTotal: true },\r\n    { detail: '', amount: null, isSpacer: true },\r\n    { detail: 'NET PROFIT / LOSS', amount: data.netProfitLoss, isBold: true, isTotal: true },\r\n    { detail: 'TAX', amount: data.taxAmount },\r\n    { detail: 'FINAL PROFIT AFTER TAX', amount: data.finalProfitAfterTax, isBold: true, isTotal: true }\r\n  );\r\n\r\n  const getRowColor = (row: any) => {\r\n    if (row.amount < 0) return 'text-red-600';\r\n    if (row.detail?.includes('PROFIT') && row.amount > 0) return 'text-green-600';\r\n    if (row.detail?.includes('EXPENSE') || row.detail?.includes('TAX')) return 'text-red-600';\r\n    return 'text-gray-900';\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex justify-between items-center\">\r\n          <CardTitle>Profit & Loss Account</CardTitle>\r\n              <PLExportButton\r\n                data={data}\r\n                dateRange={dateRange}\r\n                currency={currency}\r\n                businessName={businessName}\r\n                businessLogo={businessLogo}\r\n                dateFilter={dateFilter}\r\n              />\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <TaxCalculator\r\n          taxPercentage={data.taxPercentage}\r\n          onTaxChange={onTaxChange}\r\n          netProfitLoss={data.netProfitLoss}\r\n          formatCurrency={formatCurrency}\r\n        />\r\n        \r\n        <div className=\"overflow-x-auto\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead className=\"font-bold text-left\">DETAILS</TableHead>\r\n                <TableHead className=\"font-bold text-right\">AMOUNT</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {tableRows.map((row, index) => {\r\n                if (row.isSpacer) {\r\n                  return (\r\n                    <TableRow key={index}>\r\n                      <TableCell colSpan={2} className=\"h-4 border-0\"></TableCell>\r\n                    </TableRow>\r\n                  );\r\n                }\r\n\r\n                if (row.isHeader) {\r\n                  return (\r\n                    <TableRow key={index}>\r\n                      <TableCell colSpan={2} className=\"font-bold text-gray-800 bg-gray-50 border-0\">\r\n                        {row.detail}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                }\r\n\r\n                return (\r\n                  <TableRow key={index} className={row.isTotal ? 'border-t-2 border-gray-300' : ''}>\r\n                    <TableCell className={`${row.isBold ? 'font-bold' : ''} ${getRowColor(row)}`}>\r\n                      {row.detail}\r\n                    </TableCell>\r\n                    <TableCell className={`text-right ${row.isBold ? 'font-bold' : ''} ${getRowColor(row)}`}>\r\n                      {row.amount !== null ? (\r\n                        <span>\r\n                          {row.isSubtraction && '('}\r\n                          {formatCurrency(Math.abs(row.amount))}\r\n                          {row.isSubtraction && ')'}\r\n                        </span>\r\n                      ) : null}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        \r\n        {/* Summary Cards */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\">\r\n          <Card className=\"border-blue-200 bg-blue-50\">\r\n            <CardContent className=\"p-4 text-center\">\r\n              <p className=\"text-sm text-blue-600 font-medium\">Gross Profit</p>\r\n              <p className=\"text-lg font-bold text-blue-800\">{formatCurrency(data.grossProfit)}</p>\r\n            </CardContent>\r\n          </Card>\r\n          \r\n          <Card className={`border-${data.netProfitLoss >= 0 ? 'green' : 'red'}-200 bg-${data.netProfitLoss >= 0 ? 'green' : 'red'}-50`}>\r\n            <CardContent className=\"p-4 text-center\">\r\n              <p className={`text-sm text-${data.netProfitLoss >= 0 ? 'green' : 'red'}-600 font-medium`}>\r\n                Net {data.netProfitLoss >= 0 ? 'Profit' : 'Loss'}\r\n              </p>\r\n              <p className={`text-lg font-bold text-${data.netProfitLoss >= 0 ? 'green' : 'red'}-800`}>\r\n                {formatCurrency(Math.abs(data.netProfitLoss))}\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n          \r\n          <Card className={`border-${data.finalProfitAfterTax >= 0 ? 'green' : 'red'}-200 bg-${data.finalProfitAfterTax >= 0 ? 'green' : 'red'}-50`}>\r\n            <CardContent className=\"p-4 text-center\">\r\n              <p className={`text-sm text-${data.finalProfitAfterTax >= 0 ? 'green' : 'red'}-600 font-medium`}>\r\n                Final {data.finalProfitAfterTax >= 0 ? 'Profit' : 'Loss'} After Tax\r\n              </p>\r\n              <p className={`text-lg font-bold text-${data.finalProfitAfterTax >= 0 ? 'green' : 'red'}-800`}>\r\n                {formatCurrency(Math.abs(data.finalProfitAfterTax))}\r\n              </p>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ProfitLossTable;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2860, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/ProfitLossTab.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo, useEffect } from 'react';\r\nimport { useProfitLossData } from '@/hooks/useProfitLossData';\r\nimport { useBusinessSettings } from '@/hooks/useBusinessSettings';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport DateRangeFilter from '@/components/analytics/DateRangeFilter';\r\nimport ProfitLossTable from './ProfitLossTable';\r\nimport { getDateRangeFromFilter } from '@/utils/dateFilters';\r\n\r\nconst ProfitLossTab = () => {\r\n  const { currentBusiness } = useBusiness();\r\n  const { settings } = useBusinessSettings();\r\n  \r\n  // Date filter state - default to current month\r\n  const [dateFilter, setDateFilter] = useState('this-month');\r\n  const [dateRange, setDateRange] = useState<{ from: Date | undefined; to: Date | undefined }>({ from: undefined, to: undefined });\r\n  const [specificDate, setSpecificDate] = useState<Date | undefined>(undefined);\r\n\r\n  // Tax percentage state\r\n  const [taxPercentage, setTaxPercentage] = useState(0);\r\n\r\n  // Calculate derived states based on dateFilter\r\n  const isCustomRange = dateFilter === 'custom';\r\n  const isSpecificDate = dateFilter === 'specific';\r\n\r\n  // Reset relevant states when filter changes\r\n  useEffect(() => {\r\n    if (dateFilter === 'custom') {\r\n      // Clear specific date when switching to custom\r\n      setSpecificDate(undefined);\r\n    } else if (dateFilter === 'specific') {\r\n      // Clear date range when switching to specific\r\n      setDateRange({ from: undefined, to: undefined });\r\n    } else {\r\n      // Clear both when switching to predefined filters\r\n      setDateRange({ from: undefined, to: undefined });\r\n      setSpecificDate(undefined);\r\n    }\r\n  }, [dateFilter]);\r\n\r\n  // Get the currency from settings, defaulting to USD only if settings is null\r\n  const currency = settings?.currency || 'USD';\r\n\r\n  // Get profit & loss data using same parameters as sold items report\r\n  const { profitLossData, isLoading } = useProfitLossData(dateFilter, dateRange, specificDate, taxPercentage);\r\n\r\n  // Calculate the effective date range for exports (either custom range or calculated from filter)\r\n  const effectiveDateRange = useMemo(() => {\r\n    if (dateFilter === 'custom' && dateRange.from && dateRange.to) {\r\n      return dateRange;\r\n    } else if (dateFilter === 'specific' && specificDate) {\r\n      return { from: specificDate, to: specificDate };\r\n    } else if (dateFilter !== 'custom' && dateFilter !== 'specific') {\r\n      return getDateRangeFromFilter(dateFilter);\r\n    }\r\n    return { from: undefined, to: undefined };\r\n  }, [dateFilter, dateRange, specificDate]);\r\n\r\n  // Format currency function using the settings currency\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: currency,\r\n      minimumFractionDigits: 2,\r\n    }).format(amount);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold mb-4\">Profit & Loss Account</h2>\r\n        <DateRangeFilter\r\n          dateFilter={dateFilter}\r\n          dateRange={dateRange}\r\n          specificDate={specificDate}\r\n          isCustomRange={isCustomRange}\r\n          isSpecificDate={isSpecificDate}\r\n          onDateFilterChange={setDateFilter}\r\n          onDateRangeChange={setDateRange}\r\n          onSpecificDateChange={setSpecificDate}\r\n        />\r\n      </div>\r\n\r\n      <ProfitLossTable\r\n        data={profitLossData}\r\n        isLoading={isLoading}\r\n        formatCurrency={formatCurrency}\r\n        onTaxChange={setTaxPercentage}\r\n        dateRange={effectiveDateRange}\r\n        businessName={currentBusiness?.name}\r\n        businessLogo={settings?.businessLogo}\r\n        currency={currency}\r\n        dateFilter={dateFilter}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfitLossTab;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AAEA,MAAM,gBAAgB;;IACpB,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,qJAAW;IACvC,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,6JAAmB;IAExC,+CAA+C;IAC/C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAmD;QAAE,MAAM;QAAW,IAAI;IAAU;IAC9H,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAmB;IAEnE,uBAAuB;IACvB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,+CAA+C;IAC/C,MAAM,gBAAgB,eAAe;IACrC,MAAM,iBAAiB,eAAe;IAEtC,4CAA4C;IAC5C,IAAA,0KAAS;mCAAC;YACR,IAAI,eAAe,UAAU;gBAC3B,+CAA+C;gBAC/C,gBAAgB;YAClB,OAAO,IAAI,eAAe,YAAY;gBACpC,8CAA8C;gBAC9C,aAAa;oBAAE,MAAM;oBAAW,IAAI;gBAAU;YAChD,OAAO;gBACL,kDAAkD;gBAClD,aAAa;oBAAE,MAAM;oBAAW,IAAI;gBAAU;gBAC9C,gBAAgB;YAClB;QACF;kCAAG;QAAC;KAAW;IAEf,6EAA6E;IAC7E,MAAM,WAAW,UAAU,YAAY;IAEvC,oEAAoE;IACpE,MAAM,EAAE,cAAc,EAAE,SAAS,EAAE,GAAG,IAAA,yJAAiB,EAAC,YAAY,WAAW,cAAc;IAE7F,iGAAiG;IACjG,MAAM,qBAAqB,IAAA,wKAAO;qDAAC;YACjC,IAAI,eAAe,YAAY,UAAU,IAAI,IAAI,UAAU,EAAE,EAAE;gBAC7D,OAAO;YACT,OAAO,IAAI,eAAe,cAAc,cAAc;gBACpD,OAAO;oBAAE,MAAM;oBAAc,IAAI;gBAAa;YAChD,OAAO,IAAI,eAAe,YAAY,eAAe,YAAY;gBAC/D,OAAO,IAAA,wJAAsB,EAAC;YAChC;YACA,OAAO;gBAAE,MAAM;gBAAW,IAAI;YAAU;QAC1C;oDAAG;QAAC;QAAY;QAAW;KAAa;IAExC,uDAAuD;IACvD,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP,UAAU;YACV,uBAAuB;QACzB,GAAG,MAAM,CAAC;IACZ;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;;kCACC,6LAAC;wBAAG,WAAU;kCAA6B;;;;;;kCAC3C,6LAAC,gKAAe;wBACd,YAAY;wBACZ,WAAW;wBACX,cAAc;wBACd,eAAe;wBACf,gBAAgB;wBAChB,oBAAoB;wBACpB,mBAAmB;wBACnB,sBAAsB;;;;;;;;;;;;0BAI1B,6LAAC,2JAAe;gBACd,MAAM;gBACN,WAAW;gBACX,gBAAgB;gBAChB,aAAa;gBACb,WAAW;gBACX,cAAc,iBAAiB;gBAC/B,cAAc,UAAU;gBACxB,UAAU;gBACV,YAAY;;;;;;;;;;;;AAIpB;GAvFM;;QACwB,qJAAW;QAClB,6JAAmB;QAiCF,yJAAiB;;;KAnCnD;uCAyFS"}},
    {"offset": {"line": 3029, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/cash/CashContent.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport CashAccountsHeader from '@/components/cash/CashAccountsHeader';\r\nimport CashAccountsList from '@/components/cash/CashAccountsList';\r\nimport CashAccountDialog from '@/components/cash/CashAccountDialog';\r\nimport ProfitLossTab from '@/components/cash/ProfitLossTab';\r\nimport { CashAccount, CashAccountFormData } from '@/types/cash';\r\n\r\ninterface CashContentProps {\r\n  accounts: CashAccount[];\r\n  isLoading: boolean;\r\n  isDialogOpen: boolean;\r\n  onDialogOpenChange: (open: boolean) => void;\r\n  onCreateAccount: (data: CashAccountFormData) => Promise<void>;\r\n  onAccountDeleted: () => Promise<void>;\r\n  canCreate?: boolean;\r\n}\r\n\r\nconst CashContent: React.FC<CashContentProps> = ({\r\n  accounts,\r\n  isLoading,\r\n  isDialogOpen,\r\n  onDialogOpenChange,\r\n  onCreateAccount,\r\n  onAccountDeleted,\r\n  canCreate = true\r\n}) => {\r\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\r\n\r\n  const handleOpenDialog = () => onDialogOpenChange(true);\r\n\r\n  const handleCreateAccount = async (data: CashAccountFormData) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      await onCreateAccount(data);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Tabs defaultValue=\"cash-accounts\" className=\"w-full\">\r\n      <TabsList className=\"grid w-full grid-cols-2\">\r\n        <TabsTrigger value=\"cash-accounts\">Cash Accounts</TabsTrigger>\r\n        <TabsTrigger value=\"profit-loss\">Profit & Loss</TabsTrigger>\r\n      </TabsList>\r\n\r\n      <TabsContent value=\"cash-accounts\" className=\"space-y-6\">\r\n        <CashAccountsHeader onCreateAccount={handleOpenDialog} canCreate={canCreate} />\r\n\r\n        <CashAccountsList\r\n          accounts={accounts}\r\n          isLoading={isLoading}\r\n          onCreateAccount={handleOpenDialog}\r\n          onAccountDeleted={onAccountDeleted}\r\n          canCreate={canCreate}\r\n        />\r\n\r\n        <CashAccountDialog\r\n          open={isDialogOpen}\r\n          onOpenChange={onDialogOpenChange}\r\n          onSubmit={handleCreateAccount}\r\n          title=\"Create New Cash Account\"\r\n          isSubmitting={isSubmitting}\r\n        />\r\n      </TabsContent>\r\n\r\n      <TabsContent value=\"profit-loss\">\r\n        <ProfitLossTab />\r\n      </TabsContent>\r\n    </Tabs>\r\n  );\r\n};\r\n\r\nexport default CashContent;"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAaA,MAAM,cAA0C,CAAC,EAC/C,QAAQ,EACR,SAAS,EACT,YAAY,EACZ,kBAAkB,EAClB,eAAe,EACf,gBAAgB,EAChB,YAAY,IAAI,EACjB;;IACC,MAAM,CAAC,cAAc,gBAAgB,GAAG,wKAAK,CAAC,QAAQ,CAAC;IAEvD,MAAM,mBAAmB,IAAM,mBAAmB;IAElD,MAAM,sBAAsB,OAAO;QACjC,gBAAgB;QAChB,IAAI;YACF,MAAM,gBAAgB;QACxB,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,6LAAC,2IAAI;QAAC,cAAa;QAAgB,WAAU;;0BAC3C,6LAAC,+IAAQ;gBAAC,WAAU;;kCAClB,6LAAC,kJAAW;wBAAC,OAAM;kCAAgB;;;;;;kCACnC,6LAAC,kJAAW;wBAAC,OAAM;kCAAc;;;;;;;;;;;;0BAGnC,6LAAC,kJAAW;gBAAC,OAAM;gBAAgB,WAAU;;kCAC3C,6LAAC,8JAAkB;wBAAC,iBAAiB;wBAAkB,WAAW;;;;;;kCAElE,6LAAC,4JAAgB;wBACf,UAAU;wBACV,WAAW;wBACX,iBAAiB;wBACjB,kBAAkB;wBAClB,WAAW;;;;;;kCAGb,6LAAC,6JAAiB;wBAChB,MAAM;wBACN,cAAc;wBACd,UAAU;wBACV,OAAM;wBACN,cAAc;;;;;;;;;;;;0BAIlB,6LAAC,kJAAW;gBAAC,OAAM;0BACjB,cAAA,6LAAC,yJAAa;;;;;;;;;;;;;;;;AAItB;GAtDM;KAAA;uCAwDS"}}]
}