{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/utils/numberToWords.ts"],"sourcesContent":["\r\n/**\r\n * Converts a number to words representation\r\n * @param num The number to convert to words\r\n * @returns The number expressed in words\r\n */\r\nexport function numberToWords(num: number): string {\r\n  const specialNames = ['', 'thousand', 'million', 'billion', 'trillion', 'quadrillion'];\r\n  const tensNames = ['', 'ten', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];\r\n  const onesNames = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', \r\n    'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];\r\n\r\n  // Handles decimals by splitting the number into whole and decimal parts\r\n  const handleDecimals = (n: number): string => {\r\n    const numStr = n.toFixed(2);\r\n    const parts = numStr.split('.');\r\n    const wholeStr = convertNumberToWords(parseInt(parts[0]));\r\n    \r\n    // If there are meaningful decimals (not just .00)\r\n    if (parts.length > 1 && parseInt(parts[1]) > 0) {\r\n      // Format the decimal part as cents\r\n      return `${wholeStr} and ${parts[1]}/100`;\r\n    }\r\n    return wholeStr;\r\n  };\r\n\r\n  // Core conversion function for whole numbers\r\n  const convertNumberToWords = (n: number): string => {\r\n    // Handle zero\r\n    if (n === 0) return 'zero';\r\n    \r\n    // Handle negative numbers\r\n    if (n < 0) return `negative ${convertNumberToWords(Math.abs(n))}`;\r\n    \r\n    let result = '';\r\n    let numIndex = 0;\r\n    \r\n    // Process the number in chunks of three digits\r\n    while (n > 0) {\r\n      if (n % 1000 !== 0) {\r\n        result = `${convertLessThanOneThousand(n % 1000)} ${specialNames[numIndex]} ${result}`;\r\n      }\r\n      n = Math.floor(n / 1000);\r\n      numIndex++;\r\n    }\r\n    \r\n    return result.trim();\r\n  };\r\n\r\n  // Converts a number less than 1000 to words\r\n  const convertLessThanOneThousand = (n: number): string => {\r\n    if (n === 0) return '';\r\n    \r\n    let result = '';\r\n    \r\n    // Handle hundreds\r\n    if (n >= 100) {\r\n      result = `${onesNames[Math.floor(n / 100)]} hundred `;\r\n      n %= 100;\r\n      if (n === 0) return result.trim();\r\n    }\r\n    \r\n    // Handle tens and ones places\r\n    if (n < 20) {\r\n      // For numbers less than 20, use the direct name\r\n      result += onesNames[n];\r\n    } else {\r\n      // For numbers 20 and above, combine tens and ones names\r\n      result += `${tensNames[Math.floor(n / 10)]}`;\r\n      if (n % 10 > 0) {\r\n        result += `-${onesNames[n % 10]}`;\r\n      }\r\n    }\r\n    \r\n    return result.trim();\r\n  };\r\n\r\n  // Start the conversion process\r\n  return handleDecimals(num).trim().charAt(0).toUpperCase() + handleDecimals(num).trim().slice(1);\r\n}\r\n"],"names":[],"mappings":"AACA;;;;CAIC;;;;AACM,SAAS,cAAc,GAAW;IACvC,MAAM,eAAe;QAAC;QAAI;QAAY;QAAW;QAAW;QAAY;KAAc;IACtF,MAAM,YAAY;QAAC;QAAI;QAAO;QAAU;QAAU;QAAS;QAAS;QAAS;QAAW;QAAU;KAAS;IAC3G,MAAM,YAAY;QAAC;QAAI;QAAO;QAAO;QAAS;QAAQ;QAAQ;QAAO;QAAS;QAAS;QAAQ;QAC7F;QAAU;QAAU;QAAY;QAAY;QAAW;QAAW;QAAa;QAAY;KAAW;IAExG,wEAAwE;IACxE,MAAM,iBAAiB,CAAC;QACtB,MAAM,SAAS,EAAE,OAAO,CAAC;QACzB,MAAM,QAAQ,OAAO,KAAK,CAAC;QAC3B,MAAM,WAAW,qBAAqB,SAAS,KAAK,CAAC,EAAE;QAEvD,kDAAkD;QAClD,IAAI,MAAM,MAAM,GAAG,KAAK,SAAS,KAAK,CAAC,EAAE,IAAI,GAAG;YAC9C,mCAAmC;YACnC,OAAO,GAAG,SAAS,KAAK,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC;QAC1C;QACA,OAAO;IACT;IAEA,6CAA6C;IAC7C,MAAM,uBAAuB,CAAC;QAC5B,cAAc;QACd,IAAI,MAAM,GAAG,OAAO;QAEpB,0BAA0B;QAC1B,IAAI,IAAI,GAAG,OAAO,CAAC,SAAS,EAAE,qBAAqB,KAAK,GAAG,CAAC,KAAK;QAEjE,IAAI,SAAS;QACb,IAAI,WAAW;QAEf,+CAA+C;QAC/C,MAAO,IAAI,EAAG;YACZ,IAAI,IAAI,SAAS,GAAG;gBAClB,SAAS,GAAG,2BAA2B,IAAI,MAAM,CAAC,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ;YACxF;YACA,IAAI,KAAK,KAAK,CAAC,IAAI;YACnB;QACF;QAEA,OAAO,OAAO,IAAI;IACpB;IAEA,4CAA4C;IAC5C,MAAM,6BAA6B,CAAC;QAClC,IAAI,MAAM,GAAG,OAAO;QAEpB,IAAI,SAAS;QAEb,kBAAkB;QAClB,IAAI,KAAK,KAAK;YACZ,SAAS,GAAG,SAAS,CAAC,KAAK,KAAK,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC;YACrD,KAAK;YACL,IAAI,MAAM,GAAG,OAAO,OAAO,IAAI;QACjC;QAEA,8BAA8B;QAC9B,IAAI,IAAI,IAAI;YACV,gDAAgD;YAChD,UAAU,SAAS,CAAC,EAAE;QACxB,OAAO;YACL,wDAAwD;YACxD,UAAU,GAAG,SAAS,CAAC,KAAK,KAAK,CAAC,IAAI,IAAI,EAAE;YAC5C,IAAI,IAAI,KAAK,GAAG;gBACd,UAAU,CAAC,CAAC,EAAE,SAAS,CAAC,IAAI,GAAG,EAAE;YACnC;QACF;QAEA,OAAO,OAAO,IAAI;IACpB;IAEA,+BAA+B;IAC/B,OAAO,eAAe,KAAK,IAAI,GAAG,MAAM,CAAC,GAAG,WAAW,KAAK,eAAe,KAAK,IAAI,GAAG,KAAK,CAAC;AAC/F"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/utils/generateSubscriptionInvoice.ts"],"sourcesContent":["\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport { format } from 'date-fns';\r\nimport { numberToWords } from './numberToWords';\r\n\r\nexport const generateSubscriptionInvoice = async (payment: any, type: 'receipt' | 'invoice' = 'invoice') => {\r\n    const doc = new jsPDF({\r\n        orientation: 'portrait',\r\n        unit: 'mm',\r\n        format: 'a4'\r\n    });\r\n\r\n    const pageWidth = doc.internal.pageSize.getWidth();\r\n    const margins = { top: 20, right: 20, bottom: 20, left: 20 };\r\n    const innerWidth = pageWidth - margins.left - margins.right;\r\n    let currentY = margins.top;\r\n\r\n    const isReceipt = type === 'receipt';\r\n    const docTitle = isReceipt ? 'SALES RECEIPT' : 'INVOICE';\r\n    const docPrefix = isReceipt ? 'Receipt' : 'Invoice';\r\n\r\n    // 1. Logo & Business Info Header\r\n    // Logo on the left\r\n    const logoUrl = '/lovable-uploads/798d07d7-1db7-498c-92f3-6f6346827d59.png';\r\n    try {\r\n        const img = new Image();\r\n        img.src = logoUrl;\r\n        await new Promise((resolve) => {\r\n            img.onload = () => {\r\n                const aspectRatio = img.width / img.height;\r\n                const logoHeight = 20; // Slightly larger logo\r\n                const logoWidth = logoHeight * aspectRatio;\r\n                doc.addImage(img, 'PNG', margins.left, currentY, logoWidth, logoHeight);\r\n                resolve(null);\r\n            };\r\n            img.onerror = () => resolve(null);\r\n        });\r\n    } catch (e) {\r\n        console.warn('Could not load logo for PDF');\r\n    }\r\n\r\n    // Business info on the right\r\n    doc.setFontSize(14);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text('GONZA BUSINESS SYSTEMS', pageWidth - margins.right, currentY + 5, { align: 'right' });\r\n\r\n    doc.setFontSize(9);\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text('Rubaga ROYZ PLAZA room A04', pageWidth - margins.right, currentY + 10, { align: 'right' });\r\n    doc.text('Phone: +256 758519696', pageWidth - margins.right, currentY + 14, { align: 'right' });\r\n    doc.text('Email: gonzasystems@gmail.com', pageWidth - margins.right, currentY + 18, { align: 'right' });\r\n\r\n    currentY += 28;\r\n\r\n    // 2. Document Title\r\n    doc.setLineWidth(0.5);\r\n    doc.line(margins.left, currentY, pageWidth - margins.right, currentY);\r\n    currentY += 7;\r\n\r\n    doc.setFontSize(16);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text(docTitle, pageWidth / 2, currentY, { align: 'center' });\r\n    currentY += 4;\r\n\r\n    doc.line(margins.left, currentY, pageWidth - margins.right, currentY);\r\n    currentY += 10;\r\n\r\n    // 3. Document Details\r\n    const invoiceSlug = payment.invoice_number\r\n        ? payment.invoice_number.toString().padStart(4, '0')\r\n        : payment.id.split('-')[0].toUpperCase();\r\n\r\n    doc.setFontSize(10);\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text(`${docPrefix} #: ${invoiceSlug}`, margins.left, currentY);\r\n    const isPaid = ['completed', 'success'].includes(payment.payment_status?.toLowerCase());\r\n    const statusText = isPaid ? 'Paid' : 'Pending';\r\n    doc.text(`Status: ${statusText}`, pageWidth - margins.right, currentY, { align: 'right' });\r\n    currentY += 5;\r\n\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text(`Date: ${format(new Date(payment.created_at), 'MMM dd, yyyy')}`, margins.left, currentY);\r\n\r\n    // Add Due Date if provided (important for upcoming invoices)\r\n    if (payment.due_date) {\r\n        doc.text(`Due Date: ${format(new Date(payment.due_date), 'MMM dd, yyyy')}`, pageWidth - margins.right, currentY, { align: 'right' });\r\n    }\r\n\r\n    currentY += 5;\r\n    doc.text(`Time: ${format(new Date(payment.created_at), 'hh:mm aa')}`, margins.left, currentY);\r\n    currentY += 10;\r\n\r\n    // 4. Customer Information\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.text('Customer Information:', margins.left, currentY);\r\n    currentY += 5;\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.text(payment.business_name || 'Gonzo System User', margins.left, currentY);\r\n    currentY += 12;\r\n\r\n    // 5. Items Table\r\n    autoTable(doc, {\r\n        startY: currentY,\r\n        margin: { left: margins.left, right: margins.right },\r\n        head: [['Description', 'Qty', 'Unit Price', 'Amount']],\r\n        body: [\r\n            [\r\n                `${payment.billing_cycle} subscription for gonza system`,\r\n                '1',\r\n                `UGX ${payment.amount.toLocaleString()}`,\r\n                `UGX ${payment.amount.toLocaleString()}`\r\n            ]\r\n        ],\r\n        headStyles: {\r\n            fillColor: [240, 240, 240],\r\n            textColor: [0, 0, 0],\r\n            fontSize: 10,\r\n            fontStyle: 'bold',\r\n            lineWidth: 0.1,\r\n            lineColor: [200, 200, 200]\r\n        },\r\n        bodyStyles: {\r\n            fontSize: 9,\r\n            lineWidth: 0.1,\r\n            lineColor: [200, 200, 200]\r\n        },\r\n        columnStyles: {\r\n            0: { cellWidth: 80 },\r\n            1: { halign: 'center', cellWidth: 20 },\r\n            2: { halign: 'right', cellWidth: 35 },\r\n            3: { halign: 'right', cellWidth: 35 }\r\n        }\r\n    });\r\n\r\n    currentY = (doc as any).lastAutoTable.finalY;\r\n\r\n    // 6. Totals Section\r\n    const totalsWidth = 90;\r\n    const totalsX = pageWidth - margins.right - totalsWidth;\r\n\r\n    autoTable(doc, {\r\n        startY: currentY,\r\n        margin: { left: totalsX },\r\n        body: [\r\n            ['Subtotal:', `UGX ${payment.amount.toLocaleString()}`],\r\n            ['TOTAL:', `UGX ${payment.amount.toLocaleString()}`]\r\n        ],\r\n        theme: 'plain',\r\n        styles: {\r\n            fontSize: 10,\r\n            cellPadding: 2,\r\n        },\r\n        columnStyles: {\r\n            0: { cellWidth: 45, fontStyle: 'normal' },\r\n            1: { cellWidth: 45, halign: 'right', fontStyle: 'bold' }\r\n        },\r\n        didParseCell: (data) => {\r\n            if (data.row.index === 1) { // Total row\r\n                data.cell.styles.fillColor = [220, 220, 220];\r\n                data.cell.styles.fontSize = 12;\r\n            }\r\n            data.cell.styles.lineWidth = 0.1;\r\n            data.cell.styles.lineColor = [200, 200, 200];\r\n        }\r\n    });\r\n\r\n    currentY = (doc as any).lastAutoTable.finalY + 10;\r\n\r\n    // 7. Amount in Words\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.setFontSize(10);\r\n    doc.text('Amount in words:', margins.left, currentY);\r\n    currentY += 5;\r\n    doc.setFont('helvetica', 'italic');\r\n    doc.text(`UGX ${numberToWords(payment.amount)} only`, margins.left, currentY);\r\n    currentY += 15;\r\n\r\n    currentY += 5;\r\n\r\n    // 9. Footer\r\n    doc.setFont('helvetica', 'bold');\r\n    doc.setFontSize(11);\r\n    doc.text('Thank you for your business!', pageWidth / 2, currentY, { align: 'center' });\r\n    currentY += 5;\r\n    doc.setFont('helvetica', 'normal');\r\n    doc.setFontSize(9);\r\n    doc.text('Created by Gonza Systems', pageWidth / 2, currentY, { align: 'center' });\r\n\r\n    // Save the PDF\r\n    doc.save(`${docPrefix}-GS-${payment.id.split('-')[0].toUpperCase()}.pdf`);\r\n};\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;;;;;AAEO,MAAM,8BAA8B,OAAO,SAAc,OAA8B,SAAS;IACnG,MAAM,MAAM,IAAI,iKAAK,CAAC;QAClB,aAAa;QACb,MAAM;QACN,QAAQ;IACZ;IAEA,MAAM,YAAY,IAAI,QAAQ,CAAC,QAAQ,CAAC,QAAQ;IAChD,MAAM,UAAU;QAAE,KAAK;QAAI,OAAO;QAAI,QAAQ;QAAI,MAAM;IAAG;IAC3D,MAAM,aAAa,YAAY,QAAQ,IAAI,GAAG,QAAQ,KAAK;IAC3D,IAAI,WAAW,QAAQ,GAAG;IAE1B,MAAM,YAAY,SAAS;IAC3B,MAAM,WAAW,YAAY,kBAAkB;IAC/C,MAAM,YAAY,YAAY,YAAY;IAE1C,iCAAiC;IACjC,mBAAmB;IACnB,MAAM,UAAU;IAChB,IAAI;QACA,MAAM,MAAM,IAAI;QAChB,IAAI,GAAG,GAAG;QACV,MAAM,IAAI,QAAQ,CAAC;YACf,IAAI,MAAM,GAAG;gBACT,MAAM,cAAc,IAAI,KAAK,GAAG,IAAI,MAAM;gBAC1C,MAAM,aAAa,IAAI,uBAAuB;gBAC9C,MAAM,YAAY,aAAa;gBAC/B,IAAI,QAAQ,CAAC,KAAK,OAAO,QAAQ,IAAI,EAAE,UAAU,WAAW;gBAC5D,QAAQ;YACZ;YACA,IAAI,OAAO,GAAG,IAAM,QAAQ;QAChC;IACJ,EAAE,OAAO,GAAG;QACR,QAAQ,IAAI,CAAC;IACjB;IAEA,6BAA6B;IAC7B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,0BAA0B,YAAY,QAAQ,KAAK,EAAE,WAAW,GAAG;QAAE,OAAO;IAAQ;IAE7F,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,8BAA8B,YAAY,QAAQ,KAAK,EAAE,WAAW,IAAI;QAAE,OAAO;IAAQ;IAClG,IAAI,IAAI,CAAC,yBAAyB,YAAY,QAAQ,KAAK,EAAE,WAAW,IAAI;QAAE,OAAO;IAAQ;IAC7F,IAAI,IAAI,CAAC,iCAAiC,YAAY,QAAQ,KAAK,EAAE,WAAW,IAAI;QAAE,OAAO;IAAQ;IAErG,YAAY;IAEZ,oBAAoB;IACpB,IAAI,YAAY,CAAC;IACjB,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,UAAU,YAAY,QAAQ,KAAK,EAAE;IAC5D,YAAY;IAEZ,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,UAAU,YAAY,GAAG,UAAU;QAAE,OAAO;IAAS;IAC9D,YAAY;IAEZ,IAAI,IAAI,CAAC,QAAQ,IAAI,EAAE,UAAU,YAAY,QAAQ,KAAK,EAAE;IAC5D,YAAY;IAEZ,sBAAsB;IACtB,MAAM,cAAc,QAAQ,cAAc,GACpC,QAAQ,cAAc,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,OAC9C,QAAQ,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW;IAE1C,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,GAAG,UAAU,IAAI,EAAE,aAAa,EAAE,QAAQ,IAAI,EAAE;IACzD,MAAM,SAAS;QAAC;QAAa;KAAU,CAAC,QAAQ,CAAC,QAAQ,cAAc,EAAE;IACzE,MAAM,aAAa,SAAS,SAAS;IACrC,IAAI,IAAI,CAAC,CAAC,QAAQ,EAAE,YAAY,EAAE,YAAY,QAAQ,KAAK,EAAE,UAAU;QAAE,OAAO;IAAQ;IACxF,YAAY;IAEZ,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,CAAC,MAAM,EAAE,IAAA,kKAAM,EAAC,IAAI,KAAK,QAAQ,UAAU,GAAG,iBAAiB,EAAE,QAAQ,IAAI,EAAE;IAExF,6DAA6D;IAC7D,IAAI,QAAQ,QAAQ,EAAE;QAClB,IAAI,IAAI,CAAC,CAAC,UAAU,EAAE,IAAA,kKAAM,EAAC,IAAI,KAAK,QAAQ,QAAQ,GAAG,iBAAiB,EAAE,YAAY,QAAQ,KAAK,EAAE,UAAU;YAAE,OAAO;QAAQ;IACtI;IAEA,YAAY;IACZ,IAAI,IAAI,CAAC,CAAC,MAAM,EAAE,IAAA,kKAAM,EAAC,IAAI,KAAK,QAAQ,UAAU,GAAG,aAAa,EAAE,QAAQ,IAAI,EAAE;IACpF,YAAY;IAEZ,0BAA0B;IAC1B,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,yBAAyB,QAAQ,IAAI,EAAE;IAChD,YAAY;IACZ,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,QAAQ,aAAa,IAAI,qBAAqB,QAAQ,IAAI,EAAE;IACrE,YAAY;IAEZ,iBAAiB;IACjB,IAAA,yLAAS,EAAC,KAAK;QACX,QAAQ;QACR,QAAQ;YAAE,MAAM,QAAQ,IAAI;YAAE,OAAO,QAAQ,KAAK;QAAC;QACnD,MAAM;YAAC;gBAAC;gBAAe;gBAAO;gBAAc;aAAS;SAAC;QACtD,MAAM;YACF;gBACI,GAAG,QAAQ,aAAa,CAAC,8BAA8B,CAAC;gBACxD;gBACA,CAAC,IAAI,EAAE,QAAQ,MAAM,CAAC,cAAc,IAAI;gBACxC,CAAC,IAAI,EAAE,QAAQ,MAAM,CAAC,cAAc,IAAI;aAC3C;SACJ;QACD,YAAY;YACR,WAAW;gBAAC;gBAAK;gBAAK;aAAI;YAC1B,WAAW;gBAAC;gBAAG;gBAAG;aAAE;YACpB,UAAU;YACV,WAAW;YACX,WAAW;YACX,WAAW;gBAAC;gBAAK;gBAAK;aAAI;QAC9B;QACA,YAAY;YACR,UAAU;YACV,WAAW;YACX,WAAW;gBAAC;gBAAK;gBAAK;aAAI;QAC9B;QACA,cAAc;YACV,GAAG;gBAAE,WAAW;YAAG;YACnB,GAAG;gBAAE,QAAQ;gBAAU,WAAW;YAAG;YACrC,GAAG;gBAAE,QAAQ;gBAAS,WAAW;YAAG;YACpC,GAAG;gBAAE,QAAQ;gBAAS,WAAW;YAAG;QACxC;IACJ;IAEA,WAAW,AAAC,IAAY,aAAa,CAAC,MAAM;IAE5C,oBAAoB;IACpB,MAAM,cAAc;IACpB,MAAM,UAAU,YAAY,QAAQ,KAAK,GAAG;IAE5C,IAAA,yLAAS,EAAC,KAAK;QACX,QAAQ;QACR,QAAQ;YAAE,MAAM;QAAQ;QACxB,MAAM;YACF;gBAAC;gBAAa,CAAC,IAAI,EAAE,QAAQ,MAAM,CAAC,cAAc,IAAI;aAAC;YACvD;gBAAC;gBAAU,CAAC,IAAI,EAAE,QAAQ,MAAM,CAAC,cAAc,IAAI;aAAC;SACvD;QACD,OAAO;QACP,QAAQ;YACJ,UAAU;YACV,aAAa;QACjB;QACA,cAAc;YACV,GAAG;gBAAE,WAAW;gBAAI,WAAW;YAAS;YACxC,GAAG;gBAAE,WAAW;gBAAI,QAAQ;gBAAS,WAAW;YAAO;QAC3D;QACA,cAAc,CAAC;YACX,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG;gBACtB,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG;oBAAC;oBAAK;oBAAK;iBAAI;gBAC5C,KAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG;YAChC;YACA,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG;YAC7B,KAAK,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG;gBAAC;gBAAK;gBAAK;aAAI;QAChD;IACJ;IAEA,WAAW,AAAC,IAAY,aAAa,CAAC,MAAM,GAAG;IAE/C,qBAAqB;IACrB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,oBAAoB,QAAQ,IAAI,EAAE;IAC3C,YAAY;IACZ,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,CAAC,IAAI,EAAE,IAAA,iJAAa,EAAC,QAAQ,MAAM,EAAE,KAAK,CAAC,EAAE,QAAQ,IAAI,EAAE;IACpE,YAAY;IAEZ,YAAY;IAEZ,YAAY;IACZ,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,gCAAgC,YAAY,GAAG,UAAU;QAAE,OAAO;IAAS;IACpF,YAAY;IACZ,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,4BAA4B,YAAY,GAAG,UAAU;QAAE,OAAO;IAAS;IAEhF,eAAe;IACf,IAAI,IAAI,CAAC,GAAG,UAAU,IAAI,EAAE,QAAQ,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;AAC5E"}},
    {"offset": {"line": 383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/pages/BillingHistory.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useOnboarding } from '@/hooks/useOnboarding';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport {\r\n    CreditCard,\r\n    Calendar,\r\n    Clock,\r\n    CheckCircle2,\r\n    AlertCircle,\r\n    Download,\r\n    Receipt,\r\n    Building2,\r\n    ChevronRight,\r\n    FileText,\r\n    TrendingUp\r\n} from 'lucide-react';\r\nimport { format, addMonths, addDays } from 'date-fns';\r\nimport { cn } from '@/lib/utils';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { generateSubscriptionInvoice } from '@/utils/generateSubscriptionInvoice';\r\nimport LoadingSpinner from '@/components/LoadingSpinner';\r\n\r\ninterface SubscriptionPayment {\r\n    id: string;\r\n    created_at: string;\r\n    billing_cycle: string | null;\r\n    amount: number;\r\n    payment_status: string | null;\r\n}\r\n\r\nexport default function BillingHistory() {\r\n    const { user } = useAuth();\r\n    const { currentBusiness } = useBusiness();\r\n    const [isInitiatingPayment, setIsInitiatingPayment] = React.useState(false);\r\n    const [pesapalRedirectUrl, setPesapalRedirectUrl] = React.useState<string | null>(null);\r\n\r\n    const {\r\n        daysRemaining,\r\n        billingAmount,\r\n        billingDuration,\r\n        nextBillingDate,\r\n        isFrozen,\r\n        isLoading: isSubscriptionLoading,\r\n        refetch: refetchOnboarding\r\n    } = useOnboarding();\r\n\r\n    const { data: rawPayments, isLoading: isPaymentsLoading } = useQuery({\r\n        queryKey: ['subscription-payments', user?.id],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase\r\n                .from('subscription_payments')\r\n                .select('*')\r\n                .in('payment_status', ['completed', 'success'])\r\n                .order('created_at', { ascending: true });\r\n\r\n            if (error) throw error;\r\n            return data as SubscriptionPayment[];\r\n        },\r\n        enabled: !!user\r\n    });\r\n\r\n    const payments = React.useMemo(() => {\r\n        if (!rawPayments) return [];\r\n        return rawPayments.map((p, index) => ({\r\n            ...p,\r\n            invoice_number: index + 1,\r\n            business_name: currentBusiness?.name || 'Gonzo System User'\r\n        })).sort((a, b) => new Date(b.created_at).getTime() - new Date(a.created_at).getTime());\r\n    }, [rawPayments, currentBusiness]);\r\n\r\n    const getStatusColor = (days: number, frozen: boolean) => {\r\n        if (frozen || days <= 0) return 'text-red-600 bg-red-50 border-red-100';\r\n        if (days <= 7) return 'text-amber-600 bg-amber-50 border-amber-100';\r\n        return 'text-emerald-600 bg-emerald-50 border-emerald-100';\r\n    };\r\n\r\n    const getStatusText = (days: number, frozen: boolean) => {\r\n        if (frozen) return 'Account Paused';\r\n        if (days <= 0) return 'Expired';\r\n        if (days <= 7) return 'Expiring Soon';\r\n        return 'Active';\r\n    };\r\n\r\n    const handleDownloadInvoice = async (payment: any, type: 'receipt' | 'invoice' = 'invoice') => {\r\n        await generateSubscriptionInvoice(payment, type);\r\n    };\r\n\r\n    const handleRenew = async () => {\r\n        if (!user || !billingAmount) return;\r\n\r\n        setIsInitiatingPayment(true);\r\n        try {\r\n            const purchaseId = crypto.randomUUID();\r\n            const locationId = currentBusiness?.id || (user as any).location_id || '00000000-0000-0000-0000-000000000000';\r\n\r\n            // 1. Create tracking record in DB\r\n            const { error: dbError } = await supabase\r\n                .from('subscription_payments')\r\n                .insert({\r\n                    id: purchaseId,\r\n                    user_id: user.id,\r\n                    location_id: locationId,\r\n                    amount: billingAmount,\r\n                    billing_cycle: billingDuration,\r\n                    payment_status: 'pending'\r\n                });\r\n\r\n            if (dbError) {\r\n                console.error('[BillingHistory] DB Error:', dbError);\r\n                throw dbError;\r\n            }\r\n\r\n            // 2. Call edge function to initiate payment\r\n            const { data, error } = await supabase.functions.invoke('pesapal-payment', {\r\n                body: {\r\n                    purchaseId: purchaseId,\r\n                    amount: billingAmount,\r\n                    phoneNumber: user.user_metadata?.phone || user.phone || '0700000000',\r\n                    description: `Subscription Renewal - ${billingDuration} Plan`\r\n                }\r\n            });\r\n\r\n            if (error) {\r\n                console.error('[BillingHistory] Function Error:', error);\r\n                throw error;\r\n            }\r\n\r\n            if (data?.redirect_url) {\r\n                // 3. Update record with tracking ID from Pesapal\r\n                await supabase\r\n                    .from('subscription_payments')\r\n                    .update({\r\n                        pesapal_tracking_id: data.order_tracking_id,\r\n                        updated_at: new Date().toISOString()\r\n                    })\r\n                    .eq('id', purchaseId);\r\n\r\n                setPesapalRedirectUrl(data.redirect_url);\r\n            }\r\n        } catch (error: any) {\r\n            console.error('Subscription Renewal Error:', error);\r\n\r\n            const errorMsg = error.message || error.error || \"Failed to connect to Pesapal.\";\r\n            alert(`Payment Error: ${errorMsg}. Please try again later.`);\r\n        } finally {\r\n            setIsInitiatingPayment(false);\r\n        }\r\n    };\r\n\r\n    const handleDownloadUpcomingInvoice = async () => {\r\n        if (!nextBillingDate || !billingAmount) return;\r\n\r\n        // Create a mock payment object for the upcoming renewal\r\n        const upcomingPayment = {\r\n            id: `PRO-FORMA-${format(new Date(), 'yyyyMMdd')}`,\r\n            created_at: new Date().toISOString(), // Today's date for creation\r\n            due_date: nextBillingDate, // Renewal date as due date\r\n            amount: billingAmount,\r\n            billing_cycle: billingDuration || 'Monthly',\r\n            payment_status: 'pending',\r\n            user_id: user?.id,\r\n            isProForma: true,\r\n            business_name: currentBusiness?.name || 'Gonzo System User',\r\n            invoice_number: (payments?.length || 0) + 1 // Next in sequence\r\n        };\r\n\r\n        await generateSubscriptionInvoice(upcomingPayment, 'invoice');\r\n    };\r\n\r\n    if (isSubscriptionLoading || isPaymentsLoading) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center min-h-[60vh]\">\r\n                <LoadingSpinner message=\"Loading billing data...\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6 lg:p-10 max-w-7xl mx-auto space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700\">\r\n            {pesapalRedirectUrl && (\r\n                <div className=\"fixed inset-0 z-[100] bg-background/80 backdrop-blur-sm flex flex-col items-center justify-center p-4\">\r\n                    <div className=\"w-full max-w-4xl h-[85vh] bg-white rounded-2xl shadow-2xl border border-border/40 overflow-hidden relative flex flex-col scale-in-center\">\r\n                        <div className=\"p-4 border-b border-border/40 flex items-center justify-between bg-white\">\r\n                            <div className=\"flex items-center gap-3\">\r\n                                <div className=\"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center\">\r\n                                    <CreditCard className=\"w-4 h-4 text-blue-600\" />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-sm font-bold uppercase tracking-wider\">Secure Payment</h3>\r\n                                    <p className=\"text-[10px] text-muted-foreground font-mono italic\">Powered by Pesapal</p>\r\n                                </div>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => {\r\n                                    setPesapalRedirectUrl(null);\r\n                                    refetchOnboarding();\r\n                                }}\r\n                                className=\"px-4 py-2 text-[10px] font-bold uppercase tracking-widest text-muted-foreground hover:text-red-600 hover:bg-red-50 rounded-lg transition-all\"\r\n                            >\r\n                                Close & Sync\r\n                            </button>\r\n                        </div>\r\n                        <iframe\r\n                            src={pesapalRedirectUrl}\r\n                            className=\"w-full flex-1 border-none\"\r\n                            title=\"Pesapal Payment\"\r\n                        />\r\n                    </div>\r\n                    <p className=\"mt-4 text-[10px] text-muted-foreground uppercase tracking-[0.2em] font-medium opacity-60\">\r\n                        Do not close this window until the payment is complete\r\n                    </p>\r\n                </div>\r\n            )}\r\n\r\n            {/* Header */}\r\n            <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-6\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight text-foreground\">Billing & Subscription</h1>\r\n                    <p className=\"text-muted-foreground mt-1 text-sm\">Manage your plan, track payments, and download invoices.</p>\r\n                </div>\r\n                <div className=\"flex items-center flex-wrap gap-3\">\r\n                    <button\r\n                        onClick={handleRenew}\r\n                        disabled={isInitiatingPayment}\r\n                        className=\"px-6 py-2.5 bg-blue-600 text-white rounded-xl text-[11px] font-bold uppercase tracking-widest hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-200 disabled:opacity-50\"\r\n                    >\r\n                        {isInitiatingPayment ? (\r\n                            <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                        ) : (\r\n                            <CreditCard className=\"w-4 h-4\" />\r\n                        )}\r\n                        Renew / Pay Now\r\n                    </button>\r\n                    <button\r\n                        onClick={handleDownloadUpcomingInvoice}\r\n                        className=\"px-4 py-2.5 bg-slate-100 text-slate-700 border border-slate-200 rounded-xl text-[11px] font-bold uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2\"\r\n                    >\r\n                        <FileText className=\"w-4 h-4\" />\r\n                        Upcoming Invoice\r\n                    </button>\r\n                    <div className={cn(\r\n                        \"px-4 py-2.5 rounded-xl border text-[11px] font-bold uppercase tracking-widest flex items-center gap-2 w-fit\",\r\n                        getStatusColor(daysRemaining, isFrozen)\r\n                    )}>\r\n                        {isFrozen || daysRemaining <= 0 ? <AlertCircle className=\"w-3.5 h-3.5\" /> : <CheckCircle2 className=\"w-3.5 h-3.5\" />}\r\n                        {getStatusText(daysRemaining, isFrozen)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Metrics Grid */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <div className=\"bg-white border border-border/40 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow group\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-primary/5 flex items-center justify-center group-hover:scale-110 transition-transform\">\r\n                            <Receipt className=\"w-5 h-5 text-primary\" />\r\n                        </div>\r\n                        <span className=\"text-[10px] font-bold uppercase tracking-widest text-muted-foreground\">Current Plan</span>\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <h3 className=\"text-2xl font-bold\">UGX {billingAmount?.toLocaleString()}</h3>\r\n                        <p className=\"text-sm font-medium text-muted-foreground uppercase tracking-wider\">{billingDuration}</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white border border-border/40 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow group\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-orange-50 flex items-center justify-center group-hover:scale-110 transition-transform\">\r\n                            <Clock className=\"w-5 h-5 text-orange-600\" />\r\n                        </div>\r\n                        <span className=\"text-[10px] font-bold uppercase tracking-widest text-muted-foreground\">Days Remaining</span>\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <h3 className={cn(\"text-2xl font-bold\", daysRemaining <= 7 ? \"text-orange-600\" : \"text-foreground\")}>\r\n                            {daysRemaining <= 0 ? '0' : daysRemaining} Days\r\n                        </h3>\r\n                        <p className=\"text-sm font-medium text-muted-foreground uppercase tracking-wider\">Left on Subscription</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white border border-border/40 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow group\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center group-hover:scale-110 transition-transform\">\r\n                            <Calendar className=\"w-5 h-5 text-blue-600\" />\r\n                        </div>\r\n                        <span className=\"text-[10px] font-bold uppercase tracking-widest text-muted-foreground\">Next Billing</span>\r\n                    </div>\r\n                    <div className=\"space-y-1\">\r\n                        <h3 className=\"text-2xl font-bold\">\r\n                            {nextBillingDate ? format(new Date(nextBillingDate), 'MMM dd, yyyy') : 'No Date Set'}\r\n                        </h3>\r\n                        <p className=\"text-sm font-medium text-muted-foreground uppercase tracking-wider\">Scheduled Renewal</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* History Table */}\r\n            <div className=\"bg-white border border-border/40 rounded-2xl overflow-hidden shadow-sm\">\r\n                <div className=\"p-6 border-b border-border/40 bg-muted/5 flex items-center justify-between\">\r\n                    <h3 className=\"text-sm font-bold uppercase tracking-widest flex items-center gap-2\">\r\n                        <HistoryIcon className=\"w-4 h-4 text-muted-foreground\" />\r\n                        Payment History\r\n                    </h3>\r\n                    <div className=\"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-100 tracking-tighter uppercase\">\r\n                        Finalized Payments\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"overflow-x-auto\">\r\n                    <table className=\"w-full text-left border-collapse\">\r\n                        <thead>\r\n                            <tr className=\"bg-muted/10 h-12\">\r\n                                <th className=\"px-6 text-[10px] font-bold text-muted-foreground uppercase tracking-widest\">Date</th>\r\n                                <th className=\"px-6 text-[10px] font-bold text-muted-foreground uppercase tracking-widest\">Description</th>\r\n                                <th className=\"px-6 text-right text-[10px] font-bold text-muted-foreground uppercase tracking-widest\">Amount</th>\r\n                                <th className=\"px-6 text-center text-[10px] font-bold text-muted-foreground uppercase tracking-widest\">Status</th>\r\n                                <th className=\"px-6 text-right text-[10px] font-bold text-muted-foreground uppercase tracking-widest\">Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"divide-y divide-border/20\">\r\n                            {payments && payments.length > 0 ? (\r\n                                payments.map((payment) => (\r\n                                    <tr key={payment.id} className=\"h-16 hover:bg-muted/5 transition-colors group\">\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex flex-col\">\r\n                                                <span className=\"text-[13px] font-bold\">{format(new Date(payment.created_at), 'MMM dd, yyyy')}</span>\r\n                                                <span className=\"text-[10px] text-muted-foreground font-mono\">{payment.id.split('-')[0].toUpperCase()}</span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex items-center gap-2\">\r\n                                                <CreditCard className=\"w-3.5 h-3.5 text-muted-foreground\" />\r\n                                                <span className=\"text-[13px] font-medium text-foreground\">\r\n                                                    {payment.billing_cycle} Subscription Renewal\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-right\">\r\n                                            <span className=\"text-[13px] font-bold\">UGX {payment.amount.toLocaleString()}</span>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4\">\r\n                                            <div className=\"flex justify-center\">\r\n                                                <span className={cn(\r\n                                                    \"px-2.5 py-1 rounded-md text-[9px] font-bold uppercase tracking-tight border\",\r\n                                                    payment.payment_status === 'completed' || payment.payment_status === 'success'\r\n                                                        ? \"bg-emerald-50 text-emerald-600 border-emerald-100\"\r\n                                                        : payment.payment_status === 'pending'\r\n                                                            ? \"bg-amber-50 text-amber-600 border-amber-100\"\r\n                                                            : \"bg-red-50 text-red-600 border-red-100\"\r\n                                                )}>\r\n                                                    {payment.payment_status}\r\n                                                </span>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-6 py-4 text-right\">\r\n                                            <div className=\"flex justify-end gap-2\">\r\n                                                <button\r\n                                                    onClick={() => handleDownloadInvoice(payment, 'invoice')}\r\n                                                    className=\"p-2 hover:bg-primary/5 rounded-lg text-primary transition-colors inline-flex items-center gap-2 text-[11px] font-bold uppercase tracking-widest\"\r\n                                                    title=\"Download Invoice\"\r\n                                                >\r\n                                                    <FileText className=\"w-3.5 h-3.5\" />\r\n                                                    <span className=\"hidden sm:inline\">Invoice</span>\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={() => handleDownloadInvoice(payment, 'receipt')}\r\n                                                    className=\"p-2 hover:bg-emerald-50 rounded-lg text-emerald-600 transition-colors inline-flex items-center gap-2 text-[11px] font-bold uppercase tracking-widest\"\r\n                                                    title=\"Download Receipt\"\r\n                                                >\r\n                                                    <Download className=\"w-3.5 h-3.5\" />\r\n                                                    <span className=\"hidden sm:inline\">Receipt</span>\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            ) : (\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"py-20 text-center\">\r\n                                        <div className=\"flex flex-col items-center gap-3\">\r\n                                            <div className=\"w-12 h-12 rounded-full bg-muted/20 flex items-center justify-center\">\r\n                                                <Receipt className=\"w-6 h-6 text-muted-foreground/30\" />\r\n                                            </div>\r\n                                            <p className=\"text-xs font-bold text-muted-foreground uppercase tracking-widest\">No transaction history found</p>\r\n                                        </div>\r\n                                    </td>\r\n                                </tr>\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Footer Support */}\r\n            <div className=\"bg-blue-600 rounded-2xl p-8 lg:p-10 text-white relative overflow-hidden group\">\r\n                <div className=\"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -mr-32 -mt-32 blur-3xl group-hover:scale-110 transition-transform duration-700\" />\r\n                <div className=\"relative z-10 flex flex-col md:flex-row items-center justify-between gap-8\">\r\n                    <div className=\"max-w-md text-center md:text-left\">\r\n                        <h3 className=\"text-xl font-bold mb-2\">Need a custom plan or help?</h3>\r\n                        <p className=\"text-blue-100 text-sm\">Our team is here to help you scale your business with the right tools and support.</p>\r\n                    </div>\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4\">\r\n                        <a\r\n                            href=\"mailto:support@gonzasystems.com\"\r\n                            className=\"px-6 py-3 bg-white text-blue-600 rounded-xl text-[11px] font-bold uppercase tracking-widest hover:bg-blue-50 transition-colors shadow-lg\"\r\n                        >\r\n                            Contact Support\r\n                        </a>\r\n                        <a\r\n                            href=\"tel:+256758519696\"\r\n                            className=\"px-6 py-3 bg-blue-500 text-white border border-blue-400 rounded-xl text-[11px] font-bold uppercase tracking-widest hover:bg-blue-400 transition-colors\"\r\n                        >\r\n                            Call +256 758519696\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction HistoryIcon({ className }: { className?: string }) {\r\n    return (\r\n        <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            className={className}\r\n        >\r\n            <path d=\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\" />\r\n            <path d=\"M3 3v5h5\" />\r\n            <path d=\"M12 7v5l4 2\" />\r\n        </svg>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}