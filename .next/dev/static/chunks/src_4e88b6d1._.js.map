{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/badge.tsx"],"sourcesContent":["\r\nimport * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n        warning:\r\n          \"border-transparent bg-amber-500 text-white hover:bg-amber-600\",\r\n        success:\r\n          \"border-transparent bg-green-600 text-white hover:bg-green-700\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/alert-dialog.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { buttonVariants } from \"@/components/ui/button\"\r\n\r\nconst AlertDialog = AlertDialogPrimitive.Root\r\n\r\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\r\n\r\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\r\n\r\nconst AlertDialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\r\n\r\nconst AlertDialogContent = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPortal>\r\n    <AlertDialogOverlay />\r\n    <AlertDialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </AlertDialogPortal>\r\n))\r\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\r\n\r\nconst AlertDialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\r\n\r\nconst AlertDialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\r\n\r\nconst AlertDialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\r\n\r\nconst AlertDialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogDescription.displayName =\r\n  AlertDialogPrimitive.Description.displayName\r\n\r\nconst AlertDialogAction = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Action\r\n    ref={ref}\r\n    className={cn(buttonVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\r\n\r\nconst AlertDialogCancel = React.forwardRef<\r\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\r\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\r\n>(({ className, ...props }, ref) => (\r\n  <AlertDialogPrimitive.Cancel\r\n    ref={ref}\r\n    className={cn(\r\n      buttonVariants({ variant: \"outline\" }),\r\n      \"mt-2 sm:mt-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogPortal,\r\n  AlertDialogOverlay,\r\n  AlertDialogTrigger,\r\n  AlertDialogContent,\r\n  AlertDialogHeader,\r\n  AlertDialogFooter,\r\n  AlertDialogTitle,\r\n  AlertDialogDescription,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;;;;;;AAEA,MAAM,cAAc,sLAAyB;AAE7C,MAAM,qBAAqB,yLAA4B;AAEvD,MAAM,oBAAoB,wLAA2B;AAErD,MAAM,mCAAqB,2KAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAA4B;QAC3B,WAAW,IAAA,4HAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,2KAAgB,OAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,yLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,yLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,uLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,2KAAgB,OAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,uBAAuB,WAAW,GAChC,6LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,IAAA,uJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,2KAAgB,QAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,IAAA,uJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,wLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/business/NewBusinessDialog.tsx"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { useToast } from '@/hooks/use-toast';\r\n\r\ninterface NewBusinessDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const NewBusinessDialog: React.FC<NewBusinessDialogProps> = ({\r\n  open,\r\n  onOpenChange,\r\n}) => {\r\n  const [name, setName] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const { createBusiness } = useBusiness();\r\n  const { toast } = useToast();\r\n\r\n  // Reset form when dialog opens/closes\r\n  useEffect(() => {\r\n    if (!open) {\r\n      setName('');\r\n      setIsSubmitting(false);\r\n    }\r\n  }, [open]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!name.trim()) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Business name is required\",\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      console.log('Creating business with name:', name.trim());\r\n      const newBusiness = await createBusiness(name.trim());\r\n      \r\n      if (newBusiness) {\r\n        toast({\r\n          title: \"Success\",\r\n          description: \"Business created successfully\",\r\n        });\r\n        setName('');\r\n        onOpenChange(false);\r\n      } else {\r\n        toast({\r\n          title: \"Error\",\r\n          description: \"Failed to create business\",\r\n          variant: \"destructive\"\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating business:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to create business\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    console.log('Input value changing to:', e.target.value);\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setName('');\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-md\" onOpenAutoFocus={(e) => e.preventDefault()}>\r\n        <DialogHeader>\r\n          <DialogTitle>Create New Business</DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"businessName\">Business Name</Label>\r\n            <Input\r\n              id=\"businessName\"\r\n              type=\"text\"\r\n              value={name}\r\n              onChange={handleInputChange}\r\n              placeholder=\"Enter business name\"\r\n              disabled={isSubmitting}\r\n              autoComplete=\"off\"\r\n              className=\"w-full\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex justify-end gap-2 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={handleCancel}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSubmitting || !name.trim()}>\r\n              {isSubmitting ? 'Creating...' : 'Create Business'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;;;;;;;;;;AAOO,MAAM,oBAAsD,CAAC,EAClE,IAAI,EACJ,YAAY,EACb;;IACC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,qJAAW;IACtC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAE1B,sCAAsC;IACtC,IAAA,0KAAS;uCAAC;YACR,IAAI,CAAC,MAAM;gBACT,QAAQ;gBACR,gBAAgB;YAClB;QACF;sCAAG;QAAC;KAAK;IAET,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,KAAK,IAAI,IAAI;YAChB,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;YACA;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,QAAQ,GAAG,CAAC,gCAAgC,KAAK,IAAI;YACrD,MAAM,cAAc,MAAM,eAAe,KAAK,IAAI;YAElD,IAAI,aAAa;gBACf,MAAM;oBACJ,OAAO;oBACP,aAAa;gBACf;gBACA,QAAQ;gBACR,aAAa;YACf,OAAO;gBACL,MAAM;oBACJ,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;YACF;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM;gBACJ,OAAO;gBACP,aAAa;gBACb,SAAS;YACX;QACF,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,QAAQ,GAAG,CAAC,4BAA4B,EAAE,MAAM,CAAC,KAAK;QACtD,QAAQ,EAAE,MAAM,CAAC,KAAK;IACxB;IAEA,MAAM,eAAe;QACnB,QAAQ;QACR,aAAa;IACf;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;YAAc,iBAAiB,CAAC,IAAM,EAAE,cAAc;;8BAC7E,6LAAC,qJAAY;8BACX,cAAA,6LAAC,oJAAW;kCAAC;;;;;;;;;;;8BAGf,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,6IAAK;oCAAC,SAAQ;8CAAe;;;;;;8CAC9B,6LAAC,6IAAK;oCACJ,IAAG;oCACH,MAAK;oCACL,OAAO;oCACP,UAAU;oCACV,aAAY;oCACZ,UAAU;oCACV,cAAa;oCACb,WAAU;;;;;;;;;;;;sCAId,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,+IAAM;oCACL,MAAK;oCACL,SAAQ;oCACR,SAAS;oCACT,UAAU;8CACX;;;;;;8CAGD,6LAAC,+IAAM;oCAAC,MAAK;oCAAS,UAAU,gBAAgB,CAAC,KAAK,IAAI;8CACvD,eAAe,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9C;GA9Ga;;QAMgB,qJAAW;QACpB,2IAAQ;;;KAPf"}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/business/ResetBusinessDialog.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { RotateCcw } from 'lucide-react';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\n\r\ninterface ResetBusinessDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: () => void;\r\n  businessName: string;\r\n}\r\n\r\nexport const ResetBusinessDialog: React.FC<ResetBusinessDialogProps> = ({\r\n  open,\r\n  onOpenChange,\r\n  onConfirm,\r\n  businessName,\r\n}) => {\r\n  return (\r\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\r\n      <AlertDialogContent className=\"mx-4 max-w-md\">\r\n        <AlertDialogHeader>\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"p-2 bg-amber-100 rounded-lg\">\r\n              <RotateCcw className=\"h-5 w-5 text-amber-600\" />\r\n            </div>\r\n            <AlertDialogTitle>Reset Business Location</AlertDialogTitle>\r\n          </div>\r\n          <AlertDialogDescription className=\"text-sm space-y-2\">\r\n            <p className=\"font-medium text-gray-900\">\r\n              Are you sure you want to reset \"{businessName}\"?\r\n            </p>\r\n            <p>\r\n              This will permanently delete ALL data for this business location including:\r\n            </p>\r\n            <ul className=\"list-disc list-inside text-xs space-y-1 ml-2\">\r\n              <li>All products and inventory</li>\r\n              <li>All sales records and receipts</li>\r\n              <li>All customers and their data</li>\r\n              <li>All expenses and transactions</li>\r\n              <li>All cash accounts and balances</li>\r\n              <li>All tasks and categories</li>\r\n              <li>All business settings</li>\r\n            </ul>\r\n            <p className=\"font-medium text-red-600 mt-2\">\r\n              This action cannot be undone!\r\n            </p>\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        <AlertDialogFooter className=\"flex-col-reverse md:flex-row gap-2\">\r\n          <AlertDialogCancel className=\"w-full md:w-auto\">Cancel</AlertDialogCancel>\r\n          <AlertDialogAction \r\n            onClick={onConfirm} \r\n            className=\"w-full md:w-auto bg-amber-600 hover:bg-amber-700 text-white\"\r\n          >\r\n            Reset Business\r\n          </AlertDialogAction>\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;AAkBO,MAAM,sBAA0D,CAAC,EACtE,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,YAAY,EACb;IACC,qBACE,6LAAC,6JAAW;QAAC,MAAM;QAAM,cAAc;kBACrC,cAAA,6LAAC,oKAAkB;YAAC,WAAU;;8BAC5B,6LAAC,mKAAiB;;sCAChB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,gOAAS;wCAAC,WAAU;;;;;;;;;;;8CAEvB,6LAAC,kKAAgB;8CAAC;;;;;;;;;;;;sCAEpB,6LAAC,wKAAsB;4BAAC,WAAU;;8CAChC,6LAAC;oCAAE,WAAU;;wCAA4B;wCACN;wCAAa;;;;;;;8CAEhD,6LAAC;8CAAE;;;;;;8CAGH,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;sDACJ,6LAAC;sDAAG;;;;;;;;;;;;8CAEN,6LAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;;;;;;;8BAKjD,6LAAC,mKAAiB;oBAAC,WAAU;;sCAC3B,6LAAC,mKAAiB;4BAAC,WAAU;sCAAmB;;;;;;sCAChD,6LAAC,mKAAiB;4BAChB,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX;KAjDa"}},
    {"offset": {"line": 614, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/ui/progress.tsx"],"sourcesContent":["\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n  React.ElementRef<typeof ProgressPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n  <ProgressPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative h-4 w-full overflow-hidden rounded-full bg-gray-200\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <ProgressPrimitive.Indicator\r\n      className=\"h-full w-full flex-1 transition-all\"\r\n      style={{ \r\n        transform: `translateX(-${100 - (value || 0)}%)`,\r\n        backgroundColor: \"#16a34a\"\r\n      }}\r\n    />\r\n  </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjC,6LAAC,+KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,gEACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,oLAA2B;YAC1B,WAAU;YACV,OAAO;gBACL,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;gBAChD,iBAAiB;YACnB;;;;;;;;;;;;AAIN,SAAS,WAAW,GAAG,+KAAsB,CAAC,WAAW"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/hooks/useBusinessBackup.ts"],"sourcesContent":["import { useState } from 'react';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { toast } from 'sonner';\r\n\r\ninterface BackupMetadata {\r\n  version: string;\r\n  timestamp: string;\r\n  businessName: string;\r\n  businessId: string;\r\n  exportType: 'full_backup';\r\n}\r\n\r\ninterface BackupData {\r\n  metadata: BackupMetadata;\r\n  data: Record<string, any[]>;\r\n}\r\n\r\nexport const useBusinessBackup = () => {\r\n  const [isExporting, setIsExporting] = useState(false);\r\n  const [isImporting, setIsImporting] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const { user } = useAuth();\r\n  const { currentBusiness } = useBusiness();\r\n\r\n  const exportBusinessData = async () => {\r\n    if (!user || !currentBusiness) {\r\n      toast.error('No business selected for backup');\r\n      return;\r\n    }\r\n\r\n    setIsExporting(true);\r\n    setProgress(0);\r\n\r\n    try {\r\n      const data: Record<string, any[]> = {};\r\n      let completed = 0;\r\n      const totalTables = 17;\r\n      \r\n      // Export business settings\r\n      try {\r\n        const { data: businessSettings } = await supabase\r\n          .from('business_settings')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.business_settings = businessSettings || [];\r\n      } catch (error) {\r\n        data.business_settings = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export products\r\n      try {\r\n        const { data: products } = await supabase\r\n          .from('products')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.products = products || [];\r\n      } catch (error) {\r\n        data.products = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export product categories\r\n      try {\r\n        const { data: productCategories } = await supabase\r\n          .from('product_categories')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.product_categories = productCategories || [];\r\n      } catch (error) {\r\n        data.product_categories = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export stock history\r\n      try {\r\n        const { data: stockHistory } = await supabase\r\n          .from('stock_history')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.stock_history = stockHistory || [];\r\n      } catch (error) {\r\n        data.stock_history = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export sales\r\n      try {\r\n        const { data: sales } = await supabase\r\n          .from('sales')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.sales = sales || [];\r\n      } catch (error) {\r\n        data.sales = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export installment payments\r\n      try {\r\n        const { data: installmentPayments } = await supabase\r\n          .from('installment_payments')\r\n          .select('*')\r\n          .eq('user_id', user.id);\r\n        data.installment_payments = installmentPayments || [];\r\n      } catch (error) {\r\n        data.installment_payments = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export customers\r\n      try {\r\n        const { data: customers } = await supabase\r\n          .from('customers')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.customers = customers || [];\r\n      } catch (error) {\r\n        data.customers = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export customer categories\r\n      try {\r\n        const { data: customerCategories } = await supabase\r\n          .from('customer_categories')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.customer_categories = customerCategories || [];\r\n      } catch (error) {\r\n        data.customer_categories = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export expenses\r\n      try {\r\n        const { data: expenses } = await supabase\r\n          .from('expenses')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.expenses = expenses || [];\r\n      } catch (error) {\r\n        data.expenses = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export expense categories\r\n      try {\r\n        const { data: expenseCategories } = await supabase\r\n          .from('expense_categories')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.expense_categories = expenseCategories || [];\r\n      } catch (error) {\r\n        data.expense_categories = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export cash accounts\r\n      try {\r\n        const { data: cashAccounts } = await supabase\r\n          .from('cash_accounts')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.cash_accounts = cashAccounts || [];\r\n      } catch (error) {\r\n        data.cash_accounts = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export cash transactions\r\n      try {\r\n        const { data: cashTransactions } = await supabase\r\n          .from('cash_transactions')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.cash_transactions = cashTransactions || [];\r\n      } catch (error) {\r\n        data.cash_transactions = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export carriage inwards\r\n      try {\r\n        const { data: carriageInwards } = await supabase\r\n          .from('carriage_inwards')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.carriage_inwards = carriageInwards || [];\r\n      } catch (error) {\r\n        data.carriage_inwards = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export tasks\r\n      try {\r\n        const { data: tasks } = await supabase\r\n          .from('tasks')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.tasks = tasks || [];\r\n      } catch (error) {\r\n        data.tasks = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export task categories\r\n      try {\r\n        const { data: taskCategories } = await supabase\r\n          .from('task_categories')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.task_categories = taskCategories || [];\r\n      } catch (error) {\r\n        data.task_categories = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export sales goals\r\n      try {\r\n        const { data: salesGoals } = await supabase\r\n          .from('sales_goals')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.sales_goals = salesGoals || [];\r\n      } catch (error) {\r\n        data.sales_goals = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Export notification preferences\r\n      try {\r\n        const { data: notificationPreferences } = await supabase\r\n          .from('notification_preferences')\r\n          .select('*')\r\n          .eq('user_id', user.id)\r\n          .eq('location_id', currentBusiness.id);\r\n        data.notification_preferences = notificationPreferences || [];\r\n      } catch (error) {\r\n        data.notification_preferences = [];\r\n      }\r\n      completed++;\r\n      setProgress((completed / totalTables) * 90);\r\n\r\n      // Add user profile data\r\n      const { data: profileData } = await supabase\r\n        .from('profiles')\r\n        .select('*')\r\n        .eq('id', user.id)\r\n        .single();\r\n      \r\n      data.profiles = profileData ? [profileData] : [];\r\n\r\n      const backupData: BackupData = {\r\n        metadata: {\r\n          version: '1.0',\r\n          timestamp: new Date().toISOString(),\r\n          businessName: currentBusiness.name,\r\n          businessId: currentBusiness.id,\r\n          exportType: 'full_backup'\r\n        },\r\n        data\r\n      };\r\n\r\n      // Create and download file\r\n      const blob = new Blob([JSON.stringify(backupData, null, 2)], {\r\n        type: 'application/json'\r\n      });\r\n      \r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `${currentBusiness.name.replace(/[^a-zA-Z0-9]/g, '_')}_backup_${new Date().toISOString().split('T')[0]}.json`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n\r\n      setProgress(100);\r\n      toast.success('Backup completed successfully');\r\n      \r\n    } catch (error) {\r\n      console.error('Backup failed:', error);\r\n      toast.error('Backup failed. Please try again.');\r\n    } finally {\r\n      setIsExporting(false);\r\n      setProgress(0);\r\n    }\r\n  };\r\n\r\n  const importBusinessData = async (file: File) => {\r\n    if (!user || !currentBusiness) {\r\n      toast.error('No business selected for restore');\r\n      return false;\r\n    }\r\n\r\n    setIsImporting(true);\r\n    setProgress(0);\r\n\r\n    try {\r\n      const fileContent = await file.text();\r\n      const backupData: BackupData = JSON.parse(fileContent);\r\n\r\n      // Validate backup file\r\n      if (!backupData.metadata || !backupData.data) {\r\n        throw new Error('Invalid backup file format');\r\n      }\r\n\r\n      if (backupData.metadata.version !== '1.0') {\r\n        throw new Error('Unsupported backup version');\r\n      }\r\n\r\n      const tables = Object.keys(backupData.data);\r\n      let completed = 0;\r\n\r\n      // Clear existing data (be careful with order due to foreign keys)\r\n      await supabase.from('installment_payments').delete().eq('user_id', user.id);\r\n      await supabase.from('stock_history').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('sales').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('cash_transactions').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('carriage_inwards').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('expenses').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('tasks').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('products').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('customers').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('cash_accounts').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('product_categories').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('customer_categories').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('expense_categories').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('task_categories').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('sales_goals').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('business_settings').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n      await supabase.from('notification_preferences').delete().eq('user_id', user.id).eq('location_id', currentBusiness.id);\r\n\r\n      setProgress(30);\r\n\r\n      // Import data in correct order\r\n      const importTables = [\r\n        'business_settings',\r\n        'notification_preferences', \r\n        'sales_goals',\r\n        'task_categories',\r\n        'expense_categories',\r\n        'customer_categories',\r\n        'product_categories',\r\n        'cash_accounts',\r\n        'customers',\r\n        'products',\r\n        'tasks',\r\n        'expenses',\r\n        'carriage_inwards',\r\n        'cash_transactions',\r\n        'sales',\r\n        'stock_history',\r\n        'installment_payments'\r\n      ];\r\n      \r\n      let importCompleted = 0;\r\n      \r\n      for (const table of importTables) {\r\n        if (backupData.data[table] && backupData.data[table].length > 0) {\r\n          try {\r\n            const tableData = backupData.data[table].map(record => {\r\n              const newRecord = { ...record };\r\n              \r\n              // Update location_id to current business for location-specific tables\r\n              if (newRecord.location_id) {\r\n                newRecord.location_id = currentBusiness.id;\r\n              }\r\n              \r\n              // Preserve created_at to maintain original order, only remove updated_at\r\n              delete newRecord.updated_at;\r\n              \r\n              return newRecord;\r\n            });\r\n\r\n            // Use explicit table names for TypeScript\r\n            if (table === 'business_settings') {\r\n              // Business settings need special handling for user_id and location_id\r\n              const businessSettingsData = tableData.map(record => ({\r\n                ...record,\r\n                user_id: user.id,\r\n                location_id: currentBusiness.id\r\n              }));\r\n              await supabase.from('business_settings').upsert(businessSettingsData, {\r\n                onConflict: 'location_id'\r\n              });\r\n            } else if (table === 'products') {\r\n              await supabase.from('products').insert(tableData);\r\n            } else if (table === 'sales') {\r\n              await supabase.from('sales').insert(tableData);\r\n            } else if (table === 'customers') {\r\n              await supabase.from('customers').insert(tableData);\r\n            } else if (table === 'expenses') {\r\n              // Expenses need location_id updated to current business\r\n              const expensesData = tableData.map(record => ({\r\n                ...record,\r\n                user_id: user.id,\r\n                location_id: currentBusiness.id\r\n              }));\r\n              await supabase.from('expenses').insert(expensesData);\r\n            } else if (table === 'cash_accounts') {\r\n              await supabase.from('cash_accounts').insert(tableData);\r\n            } else if (table === 'cash_transactions') {\r\n              await supabase.from('cash_transactions').insert(tableData);\r\n            } else if (table === 'tasks') {\r\n              await supabase.from('tasks').insert(tableData);\r\n            } else if (table === 'carriage_inwards') {\r\n              await supabase.from('carriage_inwards').insert(tableData);\r\n            } else if (table === 'stock_history') {\r\n              await supabase.from('stock_history').insert(tableData);\r\n            } else if (table === 'installment_payments') {\r\n              await supabase.from('installment_payments').insert(tableData);\r\n            } else if (table === 'product_categories') {\r\n              await supabase.from('product_categories').insert(tableData);\r\n            } else if (table === 'customer_categories') {\r\n              await supabase.from('customer_categories').insert(tableData);\r\n            } else if (table === 'expense_categories') {\r\n              await supabase.from('expense_categories').insert(tableData);\r\n            } else if (table === 'task_categories') {\r\n              await supabase.from('task_categories').insert(tableData);\r\n            } else if (table === 'sales_goals') {\r\n              await supabase.from('sales_goals').insert(tableData);\r\n            } else if (table === 'notification_preferences') {\r\n              await supabase.from('notification_preferences').insert(tableData);\r\n            }\r\n          } catch (error) {\r\n            console.warn(`Error importing ${table}:`, error);\r\n          }\r\n        }\r\n        \r\n        importCompleted++;\r\n        setProgress(30 + (importCompleted / importTables.length) * 70);\r\n      }\r\n\r\n      toast.success('Data restored successfully');\r\n      setTimeout(() => window.location.reload(), 1000);\r\n      return true;\r\n      \r\n    } catch (error) {\r\n      console.error('Import failed:', error);\r\n      toast.error('Import failed. Please check the backup file.');\r\n      return false;\r\n    } finally {\r\n      setIsImporting(false);\r\n      setProgress(0);\r\n    }\r\n  };\r\n\r\n  return {\r\n    exportBusinessData,\r\n    importBusinessData,\r\n    isExporting,\r\n    isImporting,\r\n    progress\r\n  };\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1048, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/business/BackupDialog.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Download } from 'lucide-react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { useBusinessBackup } from '@/hooks/useBusinessBackup';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\n\r\ninterface BackupDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const BackupDialog: React.FC<BackupDialogProps> = ({ open, onOpenChange }) => {\r\n  const { exportBusinessData, isExporting, progress } = useBusinessBackup();\r\n  const { currentBusiness } = useBusiness();\r\n\r\n  const handleBackup = async () => {\r\n    await exportBusinessData();\r\n    if (!isExporting) {\r\n      onOpenChange(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Download className=\"h-5 w-5\" />\r\n            Backup Business Data\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Export all your business data including products, sales, customers, expenses, and settings.\r\n            {currentBusiness && (\r\n              <span className=\"block mt-2 font-medium text-foreground\">\r\n                Business: {currentBusiness.name}\r\n              </span>\r\n            )}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        {isExporting && (\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"text-sm text-muted-foreground\">\r\n              Preparing backup... {progress.toFixed(0)}%\r\n            </div>\r\n            <Progress value={progress} className=\"w-full\" />\r\n          </div>\r\n        )}\r\n\r\n        <DialogFooter className=\"flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={() => onOpenChange(false)}\r\n            disabled={isExporting}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            onClick={handleBackup}\r\n            disabled={isExporting || !currentBusiness}\r\n          >\r\n            {isExporting ? 'Exporting...' : 'Start Backup'}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AACA;AACA;AAQA;AACA;AACA;AACA;;;;;;;;;AAOO,MAAM,eAA4C,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE;;IAC9E,MAAM,EAAE,kBAAkB,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,IAAA,yJAAiB;IACvE,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,qJAAW;IAEvC,MAAM,eAAe;QACnB,MAAM;QACN,IAAI,CAAC,aAAa;YAChB,aAAa;QACf;IACF;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;;8BACvB,6LAAC,qJAAY;;sCACX,6LAAC,oJAAW;4BAAC,WAAU;;8CACrB,6LAAC,yNAAQ;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAGlC,6LAAC,0JAAiB;;gCAAC;gCAEhB,iCACC,6LAAC;oCAAK,WAAU;;wCAAyC;wCAC5C,gBAAgB,IAAI;;;;;;;;;;;;;;;;;;;gBAMtC,6BACC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;gCAAgC;gCACxB,SAAS,OAAO,CAAC;gCAAG;;;;;;;sCAE3C,6LAAC,mJAAQ;4BAAC,OAAO;4BAAU,WAAU;;;;;;;;;;;;8BAIzC,6LAAC,qJAAY;oBAAC,WAAU;;sCACtB,6LAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS,IAAM,aAAa;4BAC5B,UAAU;sCACX;;;;;;sCAGD,6LAAC,+IAAM;4BACL,SAAS;4BACT,UAAU,eAAe,CAAC;sCAEzB,cAAc,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAM5C;GAxDa;;QAC2C,yJAAiB;QAC3C,qJAAW;;;KAF5B"}},
    {"offset": {"line": 1213, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/business/RestoreDialog.tsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { Upload, AlertTriangle } from 'lucide-react';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { useBusinessBackup } from '@/hooks/useBusinessBackup';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\n\r\ninterface RestoreDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const RestoreDialog: React.FC<RestoreDialogProps> = ({ open, onOpenChange }) => {\r\n  const { importBusinessData, isImporting, progress } = useBusinessBackup();\r\n  const { currentBusiness } = useBusiness();\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [showWarning, setShowWarning] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      if (file.type === 'application/json' || file.name.endsWith('.json')) {\r\n        setSelectedFile(file);\r\n        setShowWarning(true);\r\n      } else {\r\n        alert('Please select a valid JSON backup file');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleRestore = async () => {\r\n    if (!selectedFile) return;\r\n    \r\n    const success = await importBusinessData(selectedFile);\r\n    if (success) {\r\n      onOpenChange(false);\r\n      setSelectedFile(null);\r\n      setShowWarning(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    onOpenChange(false);\r\n    setSelectedFile(null);\r\n    setShowWarning(false);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={handleCancel}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r\n            <Upload className=\"h-5 w-5\" />\r\n            Restore Business Data\r\n          </DialogTitle>\r\n          <DialogDescription>\r\n            Import business data from a backup file. This will replace all current data.\r\n            {currentBusiness && (\r\n              <span className=\"block mt-2 font-medium text-foreground\">\r\n                Target Business: {currentBusiness.name}\r\n              </span>\r\n            )}\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-4\">\r\n          {!selectedFile && (\r\n            <div className=\"flex flex-col items-center justify-center border-2 border-dashed border-border rounded-lg p-6\">\r\n              <Upload className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n              <p className=\"text-sm text-muted-foreground mb-4\">\r\n                Select a backup file to restore\r\n              </p>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={() => fileInputRef.current?.click()}\r\n                disabled={isImporting}\r\n              >\r\n                Choose File\r\n              </Button>\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                accept=\".json\"\r\n                onChange={handleFileSelect}\r\n                className=\"hidden\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {selectedFile && !isImporting && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"p-3 bg-muted rounded-lg\">\r\n                <p className=\"text-sm font-medium\">Selected File:</p>\r\n                <p className=\"text-sm text-muted-foreground\">{selectedFile.name}</p>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  {(selectedFile.size / 1024).toFixed(1)} KB\r\n                </p>\r\n              </div>\r\n\r\n              {showWarning && (\r\n                <Alert>\r\n                  <AlertTriangle className=\"h-4 w-4\" />\r\n                  <AlertDescription>\r\n                    <strong>Warning:</strong> This will permanently replace all current business data \r\n                    including products, sales, customers, and settings. This action cannot be undone.\r\n                  </AlertDescription>\r\n                </Alert>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {isImporting && (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                Restoring data... {progress.toFixed(0)}%\r\n              </div>\r\n              <Progress value={progress} className=\"w-full\" />\r\n              <p className=\"text-xs text-muted-foreground text-center\">\r\n                Please don't close this window. The app will reload automatically when complete.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter className=\"flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleCancel}\r\n            disabled={isImporting}\r\n          >\r\n            Cancel\r\n          </Button>\r\n          {selectedFile && (\r\n            <Button\r\n              onClick={handleRestore}\r\n              disabled={isImporting || !currentBusiness}\r\n              variant=\"destructive\"\r\n            >\r\n              {isImporting ? 'Restoring...' : 'Restore Data'}\r\n            </Button>\r\n          )}\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAOO,MAAM,gBAA8C,CAAC,EAAE,IAAI,EAAE,YAAY,EAAE;;IAChF,MAAM,EAAE,kBAAkB,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,IAAA,yJAAiB;IACvE,MAAM,EAAE,eAAe,EAAE,GAAG,IAAA,qJAAW;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAc;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,eAAe,IAAA,uKAAM,EAAmB;IAE9C,MAAM,mBAAmB,CAAC;QACxB,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,MAAM;YACR,IAAI,KAAK,IAAI,KAAK,sBAAsB,KAAK,IAAI,CAAC,QAAQ,CAAC,UAAU;gBACnE,gBAAgB;gBAChB,eAAe;YACjB,OAAO;gBACL,MAAM;YACR;QACF;IACF;IAEA,MAAM,gBAAgB;QACpB,IAAI,CAAC,cAAc;QAEnB,MAAM,UAAU,MAAM,mBAAmB;QACzC,IAAI,SAAS;YACX,aAAa;YACb,gBAAgB;YAChB,eAAe;QACjB;IACF;IAEA,MAAM,eAAe;QACnB,aAAa;QACb,gBAAgB;QAChB,eAAe;QACf,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,KAAK,GAAG;QAC/B;IACF;IAEA,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAM,cAAc;kBAChC,cAAA,6LAAC,sJAAa;YAAC,WAAU;;8BACvB,6LAAC,qJAAY;;sCACX,6LAAC,oJAAW;4BAAC,WAAU;;8CACrB,6LAAC,mNAAM;oCAAC,WAAU;;;;;;gCAAY;;;;;;;sCAGhC,6LAAC,0JAAiB;;gCAAC;gCAEhB,iCACC,6LAAC;oCAAK,WAAU;;wCAAyC;wCACrC,gBAAgB,IAAI;;;;;;;;;;;;;;;;;;;8BAM9C,6LAAC;oBAAI,WAAU;;wBACZ,CAAC,8BACA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,mNAAM;oCAAC,WAAU;;;;;;8CAClB,6LAAC;oCAAE,WAAU;8CAAqC;;;;;;8CAGlD,6LAAC,+IAAM;oCACL,SAAQ;oCACR,SAAS,IAAM,aAAa,OAAO,EAAE;oCACrC,UAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,KAAK;oCACL,MAAK;oCACL,QAAO;oCACP,UAAU;oCACV,WAAU;;;;;;;;;;;;wBAKf,gBAAgB,CAAC,6BAChB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAE,WAAU;sDAAsB;;;;;;sDACnC,6LAAC;4CAAE,WAAU;sDAAiC,aAAa,IAAI;;;;;;sDAC/D,6LAAC;4CAAE,WAAU;;gDACV,CAAC,aAAa,IAAI,GAAG,IAAI,EAAE,OAAO,CAAC;gDAAG;;;;;;;;;;;;;gCAI1C,6BACC,6LAAC,6IAAK;;sDACJ,6LAAC,4OAAa;4CAAC,WAAU;;;;;;sDACzB,6LAAC,wJAAgB;;8DACf,6LAAC;8DAAO;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;wBAQlC,6BACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;wCAAgC;wCAC1B,SAAS,OAAO,CAAC;wCAAG;;;;;;;8CAEzC,6LAAC,mJAAQ;oCAAC,OAAO;oCAAU,WAAU;;;;;;8CACrC,6LAAC;oCAAE,WAAU;8CAA4C;;;;;;;;;;;;;;;;;;8BAO/D,6LAAC,qJAAY;oBAAC,WAAU;;sCACtB,6LAAC,+IAAM;4BACL,SAAQ;4BACR,SAAS;4BACT,UAAU;sCACX;;;;;;wBAGA,8BACC,6LAAC,+IAAM;4BACL,SAAS;4BACT,UAAU,eAAe,CAAC;4BAC1B,SAAQ;sCAEP,cAAc,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAO9C;GAzIa;;QAC2C,yJAAiB;QAC3C,qJAAW;;;KAF5B"}},
    {"offset": {"line": 1547, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/business/BusinessPasswordManager.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\r\nimport { Lock, Eye, EyeOff, Shield, ShieldOff } from 'lucide-react';\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\ninterface BusinessPasswordManagerProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  businessId: string;\r\n  businessName: string;\r\n  hasPassword: boolean;\r\n  onPasswordSet: (businessId: string, hasPassword: boolean) => void;\r\n  onSetPassword: (businessId: string, password: string) => Promise<boolean>;\r\n  onRemovePassword: (businessId: string, currentPassword: string) => Promise<boolean>;\r\n}\r\n\r\nexport const BusinessPasswordManager: React.FC<BusinessPasswordManagerProps> = ({\r\n  open,\r\n  onOpenChange,\r\n  businessId,\r\n  businessName,\r\n  hasPassword,\r\n  onPasswordSet,\r\n  onSetPassword,\r\n  onRemovePassword,\r\n}) => {\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [showRemoveDialog, setShowRemoveDialog] = useState(false);\r\n  const [showPasswordConfirmation, setShowPasswordConfirmation] = useState(false);\r\n  const [confirmationPassword, setConfirmationPassword] = useState('');\r\n  const [showConfirmationPassword, setShowConfirmationPassword] = useState(false);\r\n  const { toast } = useToast();\r\n\r\n  const validatePassword = () => {\r\n    if (password.length < 6) {\r\n      toast({\r\n        title: \"Password Too Short\",\r\n        description: \"Password must be at least 6 characters long.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return false;\r\n    }\r\n\r\n    if (password !== confirmPassword) {\r\n      toast({\r\n        title: \"Passwords Don't Match\",\r\n        description: \"Please make sure both passwords are identical.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  const handleSetPassword = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validatePassword()) return;\r\n\r\n    setIsProcessing(true);\r\n    \r\n    try {\r\n      const success = await onSetPassword(businessId, password);\r\n      \r\n      if (success) {\r\n        onPasswordSet(businessId, true);\r\n        setPassword('');\r\n        setConfirmPassword('');\r\n        onOpenChange(false);\r\n        \r\n        toast({\r\n          title: \"Password Set Successfully\",\r\n          description: `Business \"${businessName}\" is now password protected.`,\r\n        });\r\n        \r\n        // Refresh the app to reflect password protection instantly\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error setting password:', error);\r\n      toast({\r\n        title: \"Failed to Set Password\",\r\n        description: \"Please try again later.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleConfirmPasswordRemoval = async () => {\r\n    if (!confirmationPassword.trim()) {\r\n      toast({\r\n        title: \"Password Required\",\r\n        description: \"Please enter the current password to remove protection.\",\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    \r\n    try {\r\n      const success = await onRemovePassword(businessId, confirmationPassword);\r\n      \r\n      if (success) {\r\n        onPasswordSet(businessId, false);\r\n        setShowRemoveDialog(false);\r\n        setShowPasswordConfirmation(false);\r\n        setConfirmationPassword('');\r\n        onOpenChange(false);\r\n        \r\n        toast({\r\n          title: \"Password Removed\",\r\n          description: `Business \"${businessName}\" is no longer password protected.`,\r\n        });\r\n        \r\n        // Refresh the app to reflect password removal instantly\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error removing password:', error);\r\n      toast({\r\n        title: \"Failed to Remove Password\",\r\n        description: \"Please try again later.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleRemovePassword = () => {\r\n    setShowPasswordConfirmation(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setPassword('');\r\n    setConfirmPassword('');\r\n    setShowPassword(false);\r\n    setShowConfirmPassword(false);\r\n    setShowPasswordConfirmation(false);\r\n    setConfirmationPassword('');\r\n    setShowConfirmationPassword(false);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onOpenChange={onOpenChange}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader className=\"text-center\">\r\n            <div className=\"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10\">\r\n              {hasPassword ? (\r\n                <Shield className=\"h-6 w-6 text-primary\" />\r\n              ) : (\r\n                <ShieldOff className=\"h-6 w-6 text-muted-foreground\" />\r\n              )}\r\n            </div>\r\n            <DialogTitle className=\"text-xl\">\r\n              {hasPassword ? 'Change Business Password' : 'Set Business Password'}\r\n            </DialogTitle>\r\n            <p className=\"text-sm text-muted-foreground mt-2\">\r\n              {hasPassword \r\n                ? `Update the password for \"${businessName}\"`\r\n                : `Set a password to protect access to \"${businessName}\"`\r\n              }\r\n            </p>\r\n          </DialogHeader>\r\n\r\n          {hasPassword ? (\r\n            <div className=\"space-y-4\">\r\n              <div className=\"text-center p-4 rounded-lg bg-muted/50\">\r\n                <Lock className=\"h-8 w-8 mx-auto mb-2 text-primary\" />\r\n                <p className=\"text-sm text-muted-foreground\">\r\n                  This business is currently password protected\r\n                </p>\r\n              </div>\r\n              \r\n              {showPasswordConfirmation ? (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"p-4 rounded-lg bg-amber-50 border border-amber-200\">\r\n                    <p className=\"text-sm text-amber-800 font-medium mb-2\">\r\n                      Enter current password to remove protection\r\n                    </p>\r\n                    <div className=\"relative\">\r\n                      <Input\r\n                        type={showConfirmationPassword ? \"text\" : \"password\"}\r\n                        value={confirmationPassword}\r\n                        onChange={(e) => setConfirmationPassword(e.target.value)}\r\n                        placeholder=\"Enter current password\"\r\n                        disabled={isProcessing}\r\n                        className=\"pr-10\"\r\n                      />\r\n                      <Button\r\n                        type=\"button\"\r\n                        variant=\"ghost\"\r\n                        size=\"sm\"\r\n                        className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\r\n                        onClick={() => setShowConfirmationPassword(!showConfirmationPassword)}\r\n                        disabled={isProcessing}\r\n                      >\r\n                        {showConfirmationPassword ? (\r\n                          <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\r\n                        ) : (\r\n                          <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex gap-3\">\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setShowPasswordConfirmation(false);\r\n                        setConfirmationPassword('');\r\n                      }}\r\n                      disabled={isProcessing}\r\n                      className=\"flex-1\"\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"destructive\"\r\n                      onClick={handleConfirmPasswordRemoval}\r\n                      disabled={isProcessing || !confirmationPassword.trim()}\r\n                      className=\"flex-1\"\r\n                    >\r\n                      {isProcessing ? \"Removing...\" : \"Remove Password\"}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"flex justify-center\">\r\n                  <Button\r\n                    variant=\"destructive\"\r\n                    onClick={handleRemovePassword}\r\n                    disabled={isProcessing}\r\n                    className=\"w-full max-w-xs\"\r\n                  >\r\n                    Remove Password\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : null}\r\n\r\n          {(!hasPassword || password || confirmPassword) && (\r\n            <form onSubmit={handleSetPassword} className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"new-password\">New Password</Label>\r\n                <div className=\"relative\">\r\n                  <Input\r\n                    id=\"new-password\"\r\n                    type={showPassword ? \"text\" : \"password\"}\r\n                    value={password}\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    placeholder=\"Enter new password (min 6 characters)\"\r\n                    disabled={isProcessing}\r\n                    className=\"pr-10\"\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    disabled={isProcessing}\r\n                  >\r\n                    {showPassword ? (\r\n                      <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\r\n                    ) : (\r\n                      <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"confirm-password\">Confirm Password</Label>\r\n                <div className=\"relative\">\r\n                  <Input\r\n                    id=\"confirm-password\"\r\n                    type={showConfirmPassword ? \"text\" : \"password\"}\r\n                    value={confirmPassword}\r\n                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    placeholder=\"Confirm new password\"\r\n                    disabled={isProcessing}\r\n                    className=\"pr-10\"\r\n                  />\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\r\n                    onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                    disabled={isProcessing}\r\n                  >\r\n                    {showConfirmPassword ? (\r\n                      <EyeOff className=\"h-4 w-4 text-muted-foreground\" />\r\n                    ) : (\r\n                      <Eye className=\"h-4 w-4 text-muted-foreground\" />\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  onClick={handleClose}\r\n                  disabled={isProcessing}\r\n                  className=\"flex-1\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={isProcessing || !password.trim() || !confirmPassword.trim()}\r\n                  className=\"flex-1\"\r\n                >\r\n                  {isProcessing ? \"Setting...\" : hasPassword ? \"Update Password\" : \"Set Password\"}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <AlertDialog open={showRemoveDialog} onOpenChange={setShowRemoveDialog}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Remove Password Protection?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              This will remove password protection from \"{businessName}\". Anyone with access to your account will be able to switch to this business without entering a password.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel disabled={isProcessing}>Cancel</AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={handleRemovePassword}\r\n              disabled={isProcessing}\r\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n            >\r\n              {isProcessing ? \"Removing...\" : \"Remove Password\"}\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </>\r\n  );\r\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2162, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/pages/BusinessManagement.tsx"],"sourcesContent":["\r\n\r\nimport React, { useState } from 'react';\r\nimport { Plus, Building2, Settings, Trash2, Pencil, Check, RotateCcw, Download, Upload, Lock, Shield } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\n\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { NewBusinessDialog } from '@/components/business/NewBusinessDialog';\r\nimport { ResetBusinessDialog } from '@/components/business/ResetBusinessDialog';\r\nimport { BackupDialog } from '@/components/business/BackupDialog';\r\nimport { RestoreDialog } from '@/components/business/RestoreDialog';\r\nimport { BusinessPasswordDialog } from '@/components/business/BusinessPasswordDialog';\r\nimport { BusinessPasswordManager } from '@/components/business/BusinessPasswordManager';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport { useBusinessPassword } from '@/hooks/useBusinessPassword';\r\nimport { useProfiles } from '@/contexts/ProfileContext';\r\n\r\nconst BusinessManagement = () => {\r\n  const { businessLocations, currentBusiness, switchBusiness, updateBusiness, deleteBusiness, resetBusiness, locationLimit } = useBusiness();\r\n  const { toast } = useToast();\r\n  const isMobile = useIsMobile();\r\n  const {\r\n    setBusinessPassword,\r\n    verifyBusinessPassword,\r\n    removeBusinessPassword,\r\n    isLoading: passwordLoading\r\n  } = useBusinessPassword();\r\n  const { hasPermission } = useProfiles();\r\n  const canManage = hasPermission('settings', 'manage');\r\n  const [showNewDialog, setShowNewDialog] = useState(false);\r\n  const [showLimitDialog, setShowLimitDialog] = useState(false);\r\n  const [showBackupDialog, setShowBackupDialog] = useState(false);\r\n  const [showRestoreDialog, setShowRestoreDialog] = useState(false);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  const [editingName, setEditingName] = useState('');\r\n  const [deletingId, setDeletingId] = useState<string | null>(null);\r\n  const [resettingId, setResettingId] = useState<string | null>(null);\r\n  const [isResetting, setIsResetting] = useState(false);\r\n\r\n  // Password protection states\r\n  const [showPasswordDialog, setShowPasswordDialog] = useState(false);\r\n  const [showPasswordManager, setShowPasswordManager] = useState(false);\r\n  const [passwordPromptData, setPasswordPromptData] = useState<{\r\n    businessId: string;\r\n    businessName: string;\r\n    onVerified: () => void;\r\n  } | null>(null);\r\n  const [managingPasswordBusinessId, setManagingPasswordBusinessId] = useState<string | null>(null);\r\n\r\n  const handleStartEdit = (id: string, currentName: string) => {\r\n    setEditingId(id);\r\n    setEditingName(currentName);\r\n  };\r\n\r\n  const handleSaveEdit = async () => {\r\n    if (!editingId || !editingName.trim()) return;\r\n\r\n    const success = await updateBusiness(editingId, editingName.trim());\r\n\r\n    if (success) {\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Business name updated successfully\",\r\n      });\r\n      setEditingId(null);\r\n      setEditingName('');\r\n    } else {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to update business name\",\r\n        variant: \"destructive\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCancelEdit = () => {\r\n    setEditingId(null);\r\n    setEditingName('');\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!deletingId) return;\r\n\r\n    const success = await deleteBusiness(deletingId);\r\n\r\n    if (success) {\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Business deleted successfully\",\r\n      });\r\n    } else {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to delete business\",\r\n        variant: \"destructive\"\r\n      });\r\n    }\r\n\r\n    setDeletingId(null);\r\n  };\r\n\r\n  const handleSwitchBusiness = (businessId: string) => {\r\n    switchBusiness(businessId, (businessId, businessName, onVerified) => {\r\n      setPasswordPromptData({ businessId, businessName, onVerified });\r\n      setShowPasswordDialog(true);\r\n    });\r\n  };\r\n\r\n  const handlePasswordVerified = () => {\r\n    if (passwordPromptData) {\r\n      passwordPromptData.onVerified();\r\n      toast({\r\n        title: \"Business Switched\",\r\n        description: \"You are now working with the selected business\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handlePasswordManagerOpen = (businessId: string) => {\r\n    setManagingPasswordBusinessId(businessId);\r\n    setShowPasswordManager(true);\r\n  };\r\n\r\n  const handlePasswordSet = (businessId: string, hasPassword: boolean) => {\r\n    // Update the business location in the state to reflect password change\r\n    const updatedLocations = businessLocations.map(location =>\r\n      location.id === businessId\r\n        ? { ...location, switch_password_hash: hasPassword ? 'has_password' : undefined }\r\n        : location\r\n    );\r\n    // This is a local state update - the actual data will be refreshed on next load\r\n  };\r\n\r\n  const handleReset = async () => {\r\n    if (!resettingId) return;\r\n\r\n    setIsResetting(true);\r\n    console.log('Starting reset for business:', resettingId);\r\n\r\n    try {\r\n      const success = await resetBusiness(resettingId);\r\n\r\n      if (success) {\r\n        toast({\r\n          title: \"Success\",\r\n          description: \"Business location has been reset successfully\",\r\n        });\r\n        console.log('Reset completed successfully');\r\n        // Reload the page after successful reset\r\n        setTimeout(() => window.location.reload(), 1500);\r\n      } else {\r\n        toast({\r\n          title: \"Error\",\r\n          description: \"Failed to reset business location\",\r\n          variant: \"destructive\"\r\n        });\r\n        console.error('Reset failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during reset:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to reset business location\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setResettingId(null);\r\n      setIsResetting(false);\r\n    }\r\n  };\r\n\r\n  const getResettingBusinessName = () => {\r\n    const business = businessLocations.find(b => b.id === resettingId);\r\n    return business?.name || '';\r\n  };\r\n\r\n\r\n  const handleCreateNewClick = () => {\r\n    if (businessLocations.length >= locationLimit) {\r\n      setShowLimitDialog(true);\r\n    } else {\r\n      setShowNewDialog(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 md:space-y-6 relative\">\r\n      {/* Reset Progress Overlay */}\r\n      {isResetting && (\r\n        <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center\">\r\n          <div className=\"bg-white rounded-lg p-6 shadow-xl max-w-sm mx-4 w-full\">\r\n            <div className=\"text-center space-y-4\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Resetting Business</h3>\r\n              <p className=\"text-sm text-gray-600\">\r\n                Clearing all data for \"{getResettingBusinessName()}\"...\r\n                <br />\r\n                <span className=\"text-xs text-gray-500 mt-1 block\">\r\n                  Please don't close this window. This may take a few moments.\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className={isResetting ? \"pointer-events-none opacity-50\" : \"\"}>\r\n        {/* Header */}\r\n        <div className=\"space-y-3 md:space-y-2\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n            <div>\r\n              <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900\">Business Management</h1>\r\n              <p className=\"text-sm md:text-base text-gray-600 mt-1\">Manage your business locations and settings</p>\r\n            </div>\r\n            <div className=\"flex flex-col md:flex-row gap-2\">\r\n              <div className=\"flex gap-2\">\r\n                {canManage && (\r\n                  <Button\r\n                    onClick={() => setShowBackupDialog(true)}\r\n                    variant=\"outline\"\r\n                    className=\"flex-1 md:flex-none flex items-center justify-center gap-2\"\r\n                    size={isMobile ? \"default\" : \"default\"}\r\n                    disabled={!currentBusiness || isResetting}\r\n                  >\r\n                    <Download className=\"h-4 w-4\" />\r\n                    {isMobile ? 'Backup' : 'Backup Data'}\r\n                  </Button>\r\n                )}\r\n                {canManage && (\r\n                  <Button\r\n                    onClick={() => setShowRestoreDialog(true)}\r\n                    variant=\"outline\"\r\n                    className=\"flex-1 md:flex-none flex items-center justify-center gap-2\"\r\n                    size={isMobile ? \"default\" : \"default\"}\r\n                    disabled={!currentBusiness || isResetting}\r\n                  >\r\n                    <Upload className=\"h-4 w-4\" />\r\n                    {isMobile ? 'Restore' : 'Restore Data'}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n              {canManage && (\r\n                <Button\r\n                  onClick={handleCreateNewClick}\r\n                  className=\"w-full md:w-auto flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700\"\r\n                  size={isMobile ? \"default\" : \"default\"}\r\n                  disabled={isResetting}\r\n                >\r\n                  <Plus className=\"h-4 w-4\" />\r\n                  Create New Business\r\n                </Button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Current Business */}\r\n        {currentBusiness && (\r\n          <Card className=\"border-blue-200 bg-gradient-to-r from-blue-50 to-blue-100/50\">\r\n            <CardHeader className=\"pb-3\">\r\n              <CardTitle className=\"flex items-center gap-2 text-blue-800 text-lg md:text-xl\">\r\n                <div className=\"p-2 bg-blue-200 rounded-lg\">\r\n                  <Building2 className=\"h-5 w-5\" />\r\n                </div>\r\n                Current Business\r\n              </CardTitle>\r\n              <CardDescription className=\"text-blue-600 text-sm\">\r\n                You are currently working with this business\r\n              </CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"pt-0\">\r\n              <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n                <div className=\"space-y-1\">\r\n                  <h3 className=\"font-semibold text-lg md:text-xl text-blue-900\">{currentBusiness.name}</h3>\r\n                  <p className=\"text-sm text-blue-600\">\r\n                    Created: {new Date(currentBusiness.created_at).toLocaleDateString()}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 flex-wrap\">\r\n                  {currentBusiness.is_default && (\r\n                    <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-700 text-xs\">\r\n                      Default\r\n                    </Badge>\r\n                  )}\r\n                  <Badge className=\"bg-green-500 text-white text-xs\">\r\n                    Active\r\n                  </Badge>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n\r\n        {/* All Businesses */}\r\n        <Card className=\"shadow-sm\">\r\n          <CardHeader className=\"pb-4\">\r\n            <CardTitle className=\"text-lg md:text-xl\">All Businesses</CardTitle>\r\n            <CardDescription className=\"text-sm\">\r\n              Manage your business locations. You can switch between them, edit their names, reset them, or delete them.\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"space-y-3\">\r\n              {businessLocations.length === 0 ? (\r\n                <div className=\"text-center py-12\">\r\n                  <div className=\"p-4 bg-gray-100 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center\">\r\n                    <Building2 className=\"h-10 w-10 text-gray-400\" />\r\n                  </div>\r\n                  <p className=\"text-gray-600 font-medium\">No businesses found</p>\r\n                  <p className=\"text-sm text-gray-400 mt-1\">Create your first business to get started</p>\r\n                </div>\r\n              ) : (\r\n                businessLocations.map((business) => (\r\n                  <div\r\n                    key={business.id}\r\n                    className={`p-4 border rounded-xl transition-all ${currentBusiness?.id === business.id\r\n                      ? 'border-blue-300 bg-blue-50/50 shadow-sm'\r\n                      : 'border-gray-200 bg-white hover:bg-gray-50'\r\n                      }`}\r\n                  >\r\n                    <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-3\">\r\n                      <div className=\"flex items-start gap-3 flex-1\">\r\n                        <div className={`p-2 rounded-lg ${currentBusiness?.id === business.id ? 'bg-blue-200' : 'bg-gray-100'\r\n                          }`}>\r\n                          <Building2 className=\"h-5 w-5 text-gray-600\" />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                          {editingId === business.id ? (\r\n                            <div className=\"space-y-2\">\r\n                              <Label htmlFor={`edit-${business.id}`} className=\"text-sm font-medium\">Business Name</Label>\r\n                              <Input\r\n                                id={`edit-${business.id}`}\r\n                                value={editingName}\r\n                                onChange={(e) => setEditingName(e.target.value)}\r\n                                className=\"h-9\"\r\n                                onKeyDown={(e) => {\r\n                                  if (e.key === 'Enter') handleSaveEdit();\r\n                                  if (e.key === 'Escape') handleCancelEdit();\r\n                                }}\r\n                                autoFocus\r\n                              />\r\n                            </div>\r\n                          ) : (\r\n                            <>\r\n                              <div className=\"flex items-center gap-2 flex-wrap mb-1\">\r\n                                <h4 className=\"font-semibold text-gray-900 text-base\">{business.name}</h4>\r\n                                {business.switch_password_hash && (\r\n                                  <Lock className=\"h-4 w-4 text-amber-500\" />\r\n                                )}\r\n                                {business.is_default && (\r\n                                  <Badge variant=\"outline\" className=\"text-xs\">\r\n                                    Default\r\n                                  </Badge>\r\n                                )}\r\n                                {currentBusiness?.id === business.id && (\r\n                                  <Badge className=\"text-xs bg-green-500 text-white\">\r\n                                    Current\r\n                                  </Badge>\r\n                                )}\r\n                              </div>\r\n                              <p className=\"text-sm text-gray-500\">\r\n                                Created: {new Date(business.created_at).toLocaleDateString()}\r\n                                {business.switch_password_hash && (\r\n                                  <span className=\"text-amber-600 ml-2\"> Password Protected</span>\r\n                                )}\r\n                              </p>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-center gap-2 md:flex-shrink-0\">\r\n                        {editingId === business.id ? (\r\n                          <div className=\"flex gap-2 w-full md:w-auto\">\r\n                            <Button size=\"sm\" onClick={handleSaveEdit} className=\"flex-1 md:flex-none\">\r\n                              <Check className=\"h-4 w-4 md:mr-1\" />\r\n                              <span className=\"md:inline\">Save</span>\r\n                            </Button>\r\n                            <Button size=\"sm\" variant=\"outline\" onClick={handleCancelEdit} className=\"flex-1 md:flex-none\">\r\n                              Cancel\r\n                            </Button>\r\n                          </div>\r\n                        ) : (\r\n                          <div className=\"flex gap-2 w-full md:w-auto\">\r\n                            {currentBusiness?.id !== business.id && (\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"outline\"\r\n                                onClick={() => handleSwitchBusiness(business.id)}\r\n                                className=\"flex-1 md:flex-none text-sm\"\r\n                                disabled={isResetting}\r\n                              >\r\n                                Switch To\r\n                              </Button>\r\n                            )}\r\n                            {canManage && (\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"ghost\"\r\n                                onClick={() => handleStartEdit(business.id, business.name)}\r\n                                className=\"p-2\"\r\n                                disabled={isResetting}\r\n                              >\r\n                                <Pencil className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            )}\r\n                            {canManage && (\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"ghost\"\r\n                                onClick={() => handlePasswordManagerOpen(business.id)}\r\n                                className=\"p-2 text-purple-600 hover:text-purple-700 hover:bg-purple-50\"\r\n                                title={business.switch_password_hash ? \"Manage Password\" : \"Set Password\"}\r\n                                disabled={isResetting}\r\n                              >\r\n                                <Shield className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            )}\r\n                            {canManage && (\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"ghost\"\r\n                                onClick={() => setResettingId(business.id)}\r\n                                className=\"p-2 text-amber-600 hover:text-amber-700 hover:bg-amber-50\"\r\n                                disabled={isResetting}\r\n                              >\r\n                                <RotateCcw className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            )}\r\n                            {!business.is_default && canManage && (\r\n                              <Button\r\n                                size=\"sm\"\r\n                                variant=\"ghost\"\r\n                                onClick={() => setDeletingId(business.id)}\r\n                                className=\"p-2 text-red-600 hover:text-red-700 hover:bg-red-50\"\r\n                                disabled={isResetting}\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* New Business Dialog */}\r\n      <NewBusinessDialog\r\n        open={showNewDialog}\r\n        onOpenChange={setShowNewDialog}\r\n      />\r\n\r\n      {/* Backup Dialog */}\r\n      <BackupDialog\r\n        open={showBackupDialog}\r\n        onOpenChange={setShowBackupDialog}\r\n      />\r\n\r\n      {/* Restore Dialog */}\r\n      <RestoreDialog\r\n        open={showRestoreDialog}\r\n        onOpenChange={setShowRestoreDialog}\r\n      />\r\n\r\n      {/* Reset Business Dialog */}\r\n      <ResetBusinessDialog\r\n        open={!!resettingId}\r\n        onOpenChange={() => setResettingId(null)}\r\n        onConfirm={handleReset}\r\n        businessName={getResettingBusinessName()}\r\n      />\r\n\r\n      {/* Password Dialog */}\r\n      <BusinessPasswordDialog\r\n        open={showPasswordDialog}\r\n        onOpenChange={setShowPasswordDialog}\r\n        businessName={passwordPromptData?.businessName || ''}\r\n        onPasswordVerified={handlePasswordVerified}\r\n        onVerifyPassword={async (password) => {\r\n          if (passwordPromptData) {\r\n            return await verifyBusinessPassword(passwordPromptData.businessId, password);\r\n          }\r\n          return false;\r\n        }}\r\n      />\r\n\r\n      {/* Password Manager Dialog */}\r\n      {managingPasswordBusinessId && (\r\n        <BusinessPasswordManager\r\n          open={showPasswordManager}\r\n          onOpenChange={setShowPasswordManager}\r\n          businessId={managingPasswordBusinessId}\r\n          businessName={businessLocations.find(b => b.id === managingPasswordBusinessId)?.name || ''}\r\n          hasPassword={!!businessLocations.find(b => b.id === managingPasswordBusinessId)?.switch_password_hash}\r\n          onPasswordSet={handlePasswordSet}\r\n          onSetPassword={setBusinessPassword}\r\n          onRemovePassword={async (businessId: string, currentPassword: string) => {\r\n            // First verify the password\r\n            const isVerified = await verifyBusinessPassword(businessId, currentPassword);\r\n            if (isVerified) {\r\n              return await removeBusinessPassword(businessId);\r\n            }\r\n            return false;\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <AlertDialog open={!!deletingId} onOpenChange={() => setDeletingId(null)}>\r\n        <AlertDialogContent className=\"mx-4 max-w-md\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>Delete Business</AlertDialogTitle>\r\n            <AlertDialogDescription className=\"text-sm\">\r\n              Are you sure you want to delete this business? This action cannot be undone\r\n              and will permanently delete all associated data including products, sales,\r\n              customers, and expenses.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter className=\"flex-col-reverse md:flex-row gap-2\">\r\n            <AlertDialogCancel className=\"w-full md:w-auto\">Cancel</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"w-full md:w-auto bg-red-600 hover:bg-red-700\">\r\n              Delete\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Location Limit Dialog - Using AlertDialog for better visibility */}\r\n      <AlertDialog open={showLimitDialog} onOpenChange={setShowLimitDialog}>\r\n        <AlertDialogContent className=\"mx-4 max-w-md\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"flex items-center gap-2 text-amber-600\">\r\n              <Shield className=\"h-5 w-5\" />\r\n              Location Limit Reached\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription className=\"text-sm pt-2\">\r\n              <div className=\"space-y-4\">\r\n                <p className=\"font-medium text-foreground\">\r\n                  You have reached the maximum allowed limit of <span className=\"font-bold text-amber-600\">{locationLimit} locations</span>.\r\n                </p>\r\n                <div className=\"bg-muted/50 p-4 rounded-lg border border-border/50 text-sm space-y-2\">\r\n                  <p>To add more locations, please contact Admin support:</p>\r\n                  <a href=\"tel:+256758519696\" className=\"block text-primary font-bold text-lg hover:underline\">+256 758519696</a>\r\n                  <p className=\"text-xs text-muted-foreground italic\">Note: Additional charges may apply for increasing your location limit.</p>\r\n                </div>\r\n              </div>\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel className=\"w-full\">Close</AlertDialogCancel>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BusinessManagement;\r\n"],"names":[],"mappings":"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"}}]
}