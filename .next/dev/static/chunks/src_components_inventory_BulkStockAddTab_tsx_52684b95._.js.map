{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Downloads/FINAL/src/components/inventory/BulkStockAddTab.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\r\nimport { Calendar } from '@/components/ui/calendar';\r\nimport { Plus, Trash2, Save, CalendarIcon, ChevronUp, ChevronDown } from 'lucide-react';\r\nimport { useAuth } from '@/components/auth/AuthProvider';\r\nimport { useProducts } from '@/hooks/useProducts';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { useBusinessSettings } from '@/hooks/useBusinessSettings';\r\nimport { useIsMobile } from '@/hooks/use-mobile';\r\nimport { useStockHistory } from '@/hooks/useStockHistory';\r\nimport { Product } from '@/types';\r\nimport ProductSuggestionsPanel from './ProductSuggestionsPanel';\r\nimport { useProductSuggestions } from '@/hooks/useProductSuggestions';\r\nimport StockInputHistory from './StockInputHistory';\r\nimport { format } from 'date-fns';\r\nimport { cn } from '@/lib/utils';\r\ninterface StockAddRow {\r\n  id: string;\r\n  productId: string;\r\n  productName: string;\r\n  quantity: number;\r\n  price: number;\r\n  amount: number;\r\n  searchTerm: string;\r\n}\r\nconst STORAGE_KEY = 'bulkStockAddRows';\r\n\r\n// Mobile Stock Row Component\r\nconst MobileStockRow = ({\r\n  row,\r\n  index,\r\n  onUpdateRow,\r\n  onRemoveRow,\r\n  onProductSelect,\r\n  onInputFocus,\r\n  onAddRowAfter,\r\n  onKeyDown,\r\n  onMoveRow,\r\n  settings,\r\n  canRemove,\r\n  products,\r\n  stockEntryDate,\r\n  isLastRow,\r\n  totalRows\r\n}: {\r\n  row: StockAddRow;\r\n  index: number;\r\n  onUpdateRow: (id: string, field: keyof StockAddRow, value: string | number) => void;\r\n  onRemoveRow: (id: string) => void;\r\n  onProductSelect: (product: Product, rowId: string) => void;\r\n  onInputFocus: (rowId: string) => void;\r\n  onAddRowAfter: (rowId: string) => void;\r\n  onKeyDown: (e: React.KeyboardEvent, rowId: string) => void;\r\n  onMoveRow: (rowId: string, direction: 'up' | 'down') => void;\r\n  settings: any;\r\n  canRemove: boolean;\r\n  products: Product[];\r\n  stockEntryDate: Date;\r\n  isLastRow: boolean;\r\n  totalRows: number;\r\n}) => {\r\n  const formatNumber = (num: number) => {\r\n    return Math.round(num).toLocaleString();\r\n  };\r\n\r\n  // Check if product has date conflict\r\n  const hasDateConflict = row.productId ? (() => {\r\n    const product = products.find(p => p.id === row.productId);\r\n    if (product) {\r\n      const productCreationDate = new Date(product.createdAt);\r\n      const selectedDate = new Date(stockEntryDate);\r\n      const productDate = new Date(productCreationDate.getFullYear(), productCreationDate.getMonth(), productCreationDate.getDate());\r\n      const entryDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate());\r\n      return productDate.getTime() > entryDate.getTime();\r\n    }\r\n    return false;\r\n  })() : false;\r\n  const conflictProduct = hasDateConflict ? products.find(p => p.id === row.productId) : null;\r\n  return <Card className={cn(\"mb-4 shadow-sm\", hasDateConflict && \"border-destructive border-2\")}>\r\n    <CardHeader className=\"pb-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <CardTitle className=\"text-sm font-medium\">Item #{index + 1}</CardTitle>\r\n        <div className=\"flex gap-2\">\r\n          {/* Move Up/Down buttons */}\r\n          <Button variant=\"outline\" size=\"icon\" onClick={() => onMoveRow(row.id, 'up')} disabled={index === 0} className=\"h-8 w-8\">\r\n            <ChevronUp size={14} />\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"icon\" onClick={() => onMoveRow(row.id, 'down')} disabled={index === totalRows - 1} className=\"h-8 w-8\">\r\n            <ChevronDown size={14} />\r\n          </Button>\r\n          <Button variant=\"outline\" size=\"icon\" onClick={() => onRemoveRow(row.id)} disabled={!canRemove} className=\"h-8 w-8\">\r\n            <Trash2 size={14} />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </CardHeader>\r\n    <CardContent className=\"space-y-4\">\r\n      {/* Product Search */}\r\n      <div className=\"relative\">\r\n        <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">\r\n          Product\r\n        </label>\r\n        <Input placeholder=\"Type to search products...\" value={row.searchTerm} onChange={e => onUpdateRow(row.id, 'searchTerm', e.target.value)} onFocus={() => onInputFocus(row.id)} onKeyDown={e => onKeyDown(e, row.id)} className={cn(\"w-full\", hasDateConflict && \"border-destructive\")} />\r\n        {hasDateConflict && conflictProduct && <p className=\"text-xs text-destructive mt-1\">\r\n          Product was created on {format(new Date(conflictProduct.createdAt), 'PPP')} - after selected date\r\n        </p>}\r\n      </div>\r\n\r\n      {/* Quantity and Price Row */}\r\n      <div className=\"grid grid-cols-2 gap-3\">\r\n        <div>\r\n          <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">\r\n            Quantity\r\n          </label>\r\n          <Input type=\"number\" min=\"0\" step=\"0.01\" value={row.quantity || ''} onChange={e => onUpdateRow(row.id, 'quantity', parseFloat(e.target.value) || 0)} onKeyDown={e => onKeyDown(e, row.id)} placeholder=\"0\" />\r\n        </div>\r\n        <div>\r\n          <label className=\"text-xs font-medium text-muted-foreground mb-1 block\">\r\n            Price\r\n          </label>\r\n          <Input type=\"number\" min=\"0\" step=\"0.01\" value={row.price || ''} onChange={e => onUpdateRow(row.id, 'price', parseFloat(e.target.value) || 0)} onKeyDown={e => onKeyDown(e, row.id)} placeholder=\"0.00\" />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Amount Display */}\r\n      <div className=\"bg-muted/50 p-3 rounded-md\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <span className=\"text-xs font-medium text-muted-foreground\">Amount:</span>\r\n          <span className=\"font-semibold\">\r\n            {settings.currency} {formatNumber(row.amount)}\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Row Button - only show on last row */}\r\n      {isLastRow && <div className=\"flex justify-center pt-2\">\r\n        <Button variant=\"ghost\" size=\"sm\" onClick={() => onAddRowAfter(row.id)} className=\"gap-2 text-muted-foreground hover:text-foreground\">\r\n          <Plus size={14} />\r\n          Add row below\r\n        </Button>\r\n      </div>}\r\n    </CardContent>\r\n  </Card>;\r\n};\r\nconst BulkStockAddTab = () => {\r\n  const {\r\n    user\r\n  } = useAuth();\r\n  const {\r\n    products,\r\n    updateProduct,\r\n    loadProducts\r\n  } = useProducts(user?.id, 10000); // Load all products for proper lookup\r\n  const {\r\n    settings\r\n  } = useBusinessSettings();\r\n  const {\r\n    toast\r\n  } = useToast();\r\n  const isMobile = useIsMobile();\r\n  const {\r\n    stockHistory,\r\n    loadStockHistory\r\n  } = useStockHistory(user?.id);\r\n\r\n  // Get the initial stock date (chronologically first entry)\r\n  const getInitialStockDate = (): Date | null => {\r\n    if (stockHistory.length === 0) return null;\r\n    const sortedHistory = [...stockHistory].sort((a, b) => a.createdAt.getTime() - b.createdAt.getTime());\r\n    return sortedHistory[0]?.createdAt || null;\r\n  };\r\n  const validateStockDate = (date: Date): string => {\r\n    const initialStockDate = getInitialStockDate();\r\n    if (!initialStockDate) return '';\r\n\r\n    // Compare dates at start of day level\r\n    const proposedDate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\r\n    const initialDate = new Date(initialStockDate.getFullYear(), initialStockDate.getMonth(), initialStockDate.getDate(), 0, 0, 0);\r\n\r\n    // Check if the proposed date is exactly the same as the initial stock date\r\n    if (proposedDate.getTime() === initialDate.getTime()) {\r\n      return `Date cannot be the same as the initial stock entry date (${format(initialStockDate, 'PPP')})`;\r\n    }\r\n\r\n    // Check if the proposed date is before the initial stock date\r\n    if (proposedDate.getTime() < initialDate.getTime()) {\r\n      return `Date cannot be earlier than initial stock date (${format(initialStockDate, 'PPP')})`;\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // Format number with commas and no decimals\r\n  const formatNumber = (num: number) => {\r\n    return Math.round(num).toLocaleString();\r\n  };\r\n\r\n  // State for stock entry date and purchase details\r\n  const [stockEntryDate, setStockEntryDate] = useState<Date>(new Date());\r\n  const [supplierName, setSupplierName] = useState<string>('');\r\n  const [invoiceNumber, setInvoiceNumber] = useState<string>('');\r\n\r\n  // Initialize state with data from localStorage or default row\r\n  const [stockRows, setStockRows] = useState<StockAddRow[]>(() => {\r\n    try {\r\n      const saved = localStorage.getItem(STORAGE_KEY);\r\n      if (saved) {\r\n        const parsedRows = JSON.parse(saved);\r\n        // Ensure we have at least one row and sync searchTerm with productName\r\n        const syncedRows = parsedRows.map((row: StockAddRow) => ({\r\n          ...row,\r\n          searchTerm: row.searchTerm || row.productName || '' // Use productName if searchTerm is empty\r\n        }));\r\n        return syncedRows.length > 0 ? syncedRows : [{\r\n          id: '1',\r\n          productId: '',\r\n          productName: '',\r\n          quantity: 0,\r\n          price: 0,\r\n          amount: 0,\r\n          searchTerm: ''\r\n        }];\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading saved stock rows:', error);\r\n    }\r\n    return [{\r\n      id: '1',\r\n      productId: '',\r\n      productName: '',\r\n      quantity: 0,\r\n      price: 0,\r\n      amount: 0,\r\n      searchTerm: ''\r\n    }];\r\n  });\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [focusedRowId, setFocusedRowId] = useState<string | null>(null);\r\n\r\n  // Save to localStorage whenever stockRows changes\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify(stockRows));\r\n    } catch (error) {\r\n      console.error('Error saving stock rows:', error);\r\n    }\r\n  }, [stockRows]);\r\n\r\n  // Clear localStorage when component unmounts or user saves successfully\r\n  const clearStoredData = useCallback(() => {\r\n    try {\r\n      localStorage.removeItem(STORAGE_KEY);\r\n    } catch (error) {\r\n      console.error('Error clearing stored data:', error);\r\n    }\r\n  }, []);\r\n\r\n  // Create individual product suggestions hook for the focused row\r\n  const focusedRow = stockRows.find(row => row.id === focusedRowId);\r\n  const {\r\n    suggestions,\r\n    isOpen: panelOpen,\r\n    closePanel\r\n  } = useProductSuggestions(products, focusedRow?.searchTerm || '');\r\n  const addNewRow = useCallback(() => {\r\n    const newRow: StockAddRow = {\r\n      id: Date.now().toString(),\r\n      productId: '',\r\n      productName: '',\r\n      quantity: 0,\r\n      price: 0,\r\n      amount: 0,\r\n      searchTerm: ''\r\n    };\r\n    setStockRows(prev => [...prev, newRow]);\r\n  }, []);\r\n  const addRowAfter = useCallback((afterRowId: string) => {\r\n    const newRow: StockAddRow = {\r\n      id: Date.now().toString(),\r\n      productId: '',\r\n      productName: '',\r\n      quantity: 0,\r\n      price: 0,\r\n      amount: 0,\r\n      searchTerm: ''\r\n    };\r\n    setStockRows(prev => {\r\n      const index = prev.findIndex(row => row.id === afterRowId);\r\n      const newRows = [...prev];\r\n      newRows.splice(index + 1, 0, newRow);\r\n      return newRows;\r\n    });\r\n  }, []);\r\n  const moveRow = useCallback((rowId: string, direction: 'up' | 'down') => {\r\n    setStockRows(prev => {\r\n      const index = prev.findIndex(row => row.id === rowId);\r\n      if (index === -1) return prev;\r\n      const newIndex = direction === 'up' ? index - 1 : index + 1;\r\n      if (newIndex < 0 || newIndex >= prev.length) return prev;\r\n      const newRows = [...prev];\r\n      [newRows[index], newRows[newIndex]] = [newRows[newIndex], newRows[index]];\r\n      return newRows;\r\n    });\r\n  }, []);\r\n  const handleKeyDown = useCallback((e: React.KeyboardEvent, rowId: string) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      addRowAfter(rowId);\r\n    }\r\n  }, [addRowAfter]);\r\n  const removeRow = useCallback((id: string) => {\r\n    if (stockRows.length > 1) {\r\n      setStockRows(prev => prev.filter(row => row.id !== id));\r\n      if (focusedRowId === id) {\r\n        setFocusedRowId(null);\r\n      }\r\n    }\r\n  }, [stockRows.length, focusedRowId]);\r\n  const updateRow = useCallback((id: string, field: keyof StockAddRow, value: string | number) => {\r\n    setStockRows(prev => prev.map(row => {\r\n      if (row.id === id) {\r\n        const updatedRow = {\r\n          ...row,\r\n          [field]: value\r\n        };\r\n\r\n        // If searchTerm is updated, clear product selection if it doesn't match\r\n        if (field === 'searchTerm' && typeof value === 'string') {\r\n          const matchingProduct = products.find(p => p.name.toLowerCase() === value.toLowerCase());\r\n          if (!matchingProduct) {\r\n            updatedRow.productId = '';\r\n            updatedRow.productName = '';\r\n            updatedRow.price = 0;\r\n          }\r\n        }\r\n\r\n        // Recalculate amount when quantity or price changes\r\n        if (field === 'quantity' || field === 'price') {\r\n          updatedRow.amount = updatedRow.quantity * updatedRow.price;\r\n        }\r\n        return updatedRow;\r\n      }\r\n      return row;\r\n    }));\r\n  }, [products]);\r\n  const handleProductSelect = useCallback((product: Product) => {\r\n    if (!focusedRowId) return;\r\n\r\n    setStockRows(prev => {\r\n      // Find if this product is already in another row (not the one being edited)\r\n      const existingRowIndex = prev.findIndex(row => row.productId === product.id && row.id !== focusedRowId);\r\n\r\n      if (existingRowIndex !== -1) {\r\n        // Get the current row's potentially entered quantity\r\n        const currentRow = prev.find(row => row.id === focusedRowId);\r\n        const quantityToAdd = currentRow?.quantity || 0;\r\n\r\n        // Merge into the existing row\r\n        const newRows = prev.map((row, idx) => {\r\n          if (idx === existingRowIndex) {\r\n            const newQuantity = row.quantity + quantityToAdd;\r\n            return {\r\n              ...row,\r\n              quantity: newQuantity,\r\n              amount: newQuantity * row.price\r\n            };\r\n          }\r\n          return row;\r\n        });\r\n\r\n        // Remove the focused row\r\n        const finalRows = newRows.filter(row => row.id !== focusedRowId);\r\n\r\n        toast({\r\n          title: \"Product already in list\",\r\n          description: `Merged \"${product.name}\" quantity.`,\r\n        });\r\n\r\n        return finalRows.length > 0 ? finalRows : [{\r\n          id: Date.now().toString(),\r\n          productId: '',\r\n          productName: '',\r\n          quantity: 0,\r\n          price: 0,\r\n          amount: 0,\r\n          searchTerm: ''\r\n        }];\r\n      }\r\n\r\n      // Standard update if no duplicate found\r\n      return prev.map(row => {\r\n        if (row.id === focusedRowId) {\r\n          return {\r\n            ...row,\r\n            productId: product.id,\r\n            productName: product.name,\r\n            searchTerm: product.name,\r\n            price: product.costPrice,\r\n            amount: row.quantity * product.costPrice\r\n          };\r\n        }\r\n        return row;\r\n      });\r\n    });\r\n\r\n    setFocusedRowId(null);\r\n  }, [focusedRowId, toast]);\r\n  const handleInputFocus = useCallback((rowId: string) => {\r\n    setFocusedRowId(rowId);\r\n  }, []);\r\n  const validateRows = useCallback(() => {\r\n    const errors: string[] = [];\r\n    stockRows.forEach((row, index) => {\r\n      if (!row.productId) {\r\n        errors.push(`Row ${index + 1}: Please select a product`);\r\n      }\r\n      if (row.quantity <= 0) {\r\n        errors.push(`Row ${index + 1}: Quantity must be greater than 0`);\r\n      }\r\n      if (row.price < 0) {\r\n        errors.push(`Row ${index + 1}: Price cannot be negative`);\r\n      }\r\n\r\n      // Check if product existed before the selected date\r\n      if (row.productId) {\r\n        const product = products.find(p => p.id === row.productId);\r\n        if (product) {\r\n          const productCreationDate = new Date(product.createdAt);\r\n          const selectedDate = new Date(stockEntryDate);\r\n\r\n          // Compare at date level (ignore time)\r\n          const productDate = new Date(productCreationDate.getFullYear(), productCreationDate.getMonth(), productCreationDate.getDate());\r\n          const entryDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate());\r\n          if (productDate.getTime() > entryDate.getTime()) {\r\n            errors.push(`Row ${index + 1}: Product \"${product.name}\" was created on ${format(productCreationDate, 'PPP')} which is after the selected stock date`);\r\n          }\r\n        }\r\n      }\r\n    });\r\n    return errors;\r\n  }, [stockRows, products, stockEntryDate]);\r\n  const handleBulkSave = useCallback(async () => {\r\n    const errors = validateRows();\r\n\r\n    // Add date validation\r\n    const dateError = validateStockDate(stockEntryDate);\r\n    if (dateError) {\r\n      errors.push(dateError);\r\n    }\r\n    if (errors.length > 0) {\r\n      toast({\r\n        title: \"Validation Error\",\r\n        description: errors.join(', '),\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    try {\r\n      let successCount = 0;\r\n      let failureCount = 0;\r\n\r\n      // Consolidate duplicates that might have been entered manually/pasted\r\n      const consolidatedRowsMap = new Map<string, StockAddRow>();\r\n      stockRows.forEach(row => {\r\n        if (!row.productId) return;\r\n        if (consolidatedRowsMap.has(row.productId)) {\r\n          const existing = consolidatedRowsMap.get(row.productId)!;\r\n          existing.quantity += row.quantity;\r\n          // Use the latest price from the list\r\n          existing.price = row.price;\r\n          existing.amount = existing.quantity * existing.price;\r\n        } else {\r\n          consolidatedRowsMap.set(row.productId, { ...row });\r\n        }\r\n      });\r\n\r\n      const consolidatedRows = Array.from(consolidatedRowsMap.values());\r\n\r\n      // Create a unique purchase session ID\r\n      const purchaseSessionId = Date.now().toString();\r\n      const changeReason = `Purchase: ${supplierName || 'Unknown Supplier'} | Invoice: ${invoiceNumber || 'N/A'} | Session: ${purchaseSessionId}`;\r\n\r\n      for (let i = 0; i < consolidatedRows.length; i++) {\r\n        const row = consolidatedRows[i];\r\n        const currentProduct = products.find(p => p.id === row.productId);\r\n        if (currentProduct) {\r\n          const newQuantity = currentProduct.quantity + row.quantity;\r\n          // Include sequence number to maintain order\r\n          const sequencedChangeReason = `${changeReason} | Seq: ${i + 1}`;\r\n          const success = await updateProduct(row.productId, {\r\n            quantity: newQuantity,\r\n            costPrice: row.price\r\n          }, undefined, false, sequencedChangeReason, stockEntryDate);\r\n          if (success) {\r\n            successCount++;\r\n          } else {\r\n            failureCount++;\r\n          }\r\n        }\r\n      }\r\n      if (successCount > 0) {\r\n        toast({\r\n          title: \"Stock Added Successfully\",\r\n          description: `Added stock for ${successCount} product${successCount > 1 ? 's' : ''}`\r\n        });\r\n\r\n        // Clear the form and localStorage\r\n        const newEmptyRow = {\r\n          id: Date.now().toString(),\r\n          productId: '',\r\n          productName: '',\r\n          quantity: 0,\r\n          price: 0,\r\n          amount: 0,\r\n          searchTerm: ''\r\n        };\r\n        setStockRows([newEmptyRow]);\r\n        setSupplierName('');\r\n        setInvoiceNumber('');\r\n        clearStoredData();\r\n\r\n        // Refresh products and stock history immediately\r\n        await Promise.all([loadProducts(), loadStockHistory()]);\r\n\r\n        // Small delay to ensure UI updates\r\n        setTimeout(() => {\r\n          // Force re-render of any cached components\r\n          window.dispatchEvent(new CustomEvent('inventory-updated'));\r\n          window.dispatchEvent(new CustomEvent('stock-history-updated'));\r\n        }, 100);\r\n      }\r\n      if (failureCount > 0) {\r\n        toast({\r\n          title: \"Some Updates Failed\",\r\n          description: `${failureCount} product${failureCount > 1 ? 's' : ''} could not be updated`,\r\n          variant: \"destructive\"\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in bulk stock addition:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to add stock. Please try again.\",\r\n        variant: \"destructive\"\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [stockRows, products, updateProduct, loadProducts, loadStockHistory, toast, validateRows, clearStoredData, stockEntryDate, supplierName, invoiceNumber]);\r\n  const totalAmount = stockRows.reduce((sum, row) => sum + row.amount, 0);\r\n  const totalQuantity = stockRows.reduce((sum, row) => sum + row.quantity, 0);\r\n  return <div className=\"space-y-4 md:space-y-6\">\r\n    <Card className=\"shadow-sm\">\r\n      <CardHeader className=\"pb-3 md:pb-6\">\r\n        <div className=\"space-y-3 md:space-y-0 md:flex md:items-center md:justify-between\">\r\n          <div>\r\n            <CardTitle className=\"text-base md:text-lg\">Restock in Bulk</CardTitle>\r\n            <p className=\"text-sm text-muted-foreground mt-1\">\r\n              Add stock for multiple products at once\r\n            </p>\r\n          </div>\r\n\r\n          {/* Purchase Details Section */}\r\n          <div className=\"space-y-3\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n              {/* Date Picker */}\r\n              <Popover>\r\n                <PopoverTrigger asChild>\r\n                  <Button variant=\"outline\" className=\"gap-2 justify-start text-left font-normal w-full\">\r\n                    <CalendarIcon size={16} />\r\n                    {format(stockEntryDate, \"MMM d, yyyy\")}\r\n                  </Button>\r\n                </PopoverTrigger>\r\n                <PopoverContent className=\"w-auto p-0 z-[100] bg-white shadow-lg\" align=\"start\">\r\n                  <Calendar mode=\"single\" selected={stockEntryDate} onSelect={date => date && setStockEntryDate(date)} disabled={date => {\r\n                    // Find the earliest product creation date from selected products\r\n                    const selectedProducts = stockRows.filter(row => row.productId).map(row => products.find(p => p.id === row.productId)).filter(Boolean);\r\n                    if (selectedProducts.length === 0) return date < new Date('2000-01-01') || date > new Date();\r\n                    const earliestCreationDate = selectedProducts.reduce((earliest, product) => {\r\n                      const productDate = new Date(product!.createdAt);\r\n                      return !earliest || productDate < earliest ? productDate : earliest;\r\n                    }, null as Date | null);\r\n                    return date < (earliestCreationDate || new Date('2000-01-01')) || date > new Date();\r\n                  }} className={cn(\"p-3 pointer-events-auto\", validateStockDate(stockEntryDate) && \"border-destructive\")} initialFocus />\r\n                  {validateStockDate(stockEntryDate) && <div className=\"p-3 border-t bg-destructive/5\">\r\n                    <p className=\"text-sm text-destructive\">{validateStockDate(stockEntryDate)}</p>\r\n                  </div>}\r\n                </PopoverContent>\r\n              </Popover>\r\n\r\n              {/* Supplier Name */}\r\n              <Input placeholder=\"Supplier name\" value={supplierName} onChange={e => setSupplierName(e.target.value)} className=\"w-full\" />\r\n\r\n              {/* Invoice Number */}\r\n              <Input placeholder=\"Invoice number\" value={invoiceNumber} onChange={e => setInvoiceNumber(e.target.value)} className=\"w-full\" />\r\n            </div>\r\n\r\n            {/* Action buttons */}\r\n            <div className=\"flex space-x-2\">\r\n              <Button onClick={addNewRow} variant=\"outline\" className=\"gap-2 flex-1 md:flex-none\">\r\n                <Plus size={16} /> Add Row\r\n              </Button>\r\n              <Button onClick={handleBulkSave} disabled={isLoading || stockRows.length === 0} className=\"gap-2 flex-1 md:flex-none\">\r\n                <Save size={16} />\r\n                {isLoading ? 'Saving...' : `Save All (${stockRows.length})`}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"p-0 md:p-6\">\r\n        {isMobile ?\r\n          // Mobile Card Layout\r\n          <div className=\"p-4 space-y-4\">\r\n            {stockRows.map((row, index) => <MobileStockRow key={row.id} row={row} index={index} onUpdateRow={updateRow} onRemoveRow={removeRow} onProductSelect={handleProductSelect} onInputFocus={handleInputFocus} onAddRowAfter={addRowAfter} onKeyDown={handleKeyDown} onMoveRow={moveRow} settings={settings} canRemove={stockRows.length > 1} products={products} stockEntryDate={stockEntryDate} isLastRow={index === stockRows.length - 1} totalRows={stockRows.length} />)}\r\n\r\n            {/* Mobile Total */}\r\n            <Card className=\"bg-primary/5 border-primary/20\">\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"font-medium\">Total Quantity:</span>\r\n                    <span className=\"text-lg font-bold text-primary\">\r\n                      {formatNumber(totalQuantity)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex justify-between items-center\">\r\n                    <span className=\"font-medium\">Total Amount:</span>\r\n                    <span className=\"text-lg font-bold text-primary\">\r\n                      {settings.currency} {formatNumber(totalAmount)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div> :\r\n          // Desktop Table Layout\r\n          <div className=\"overflow-x-auto\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead className=\"w-[300px]\">Item</TableHead>\r\n                  <TableHead className=\"w-[120px]\">Qty</TableHead>\r\n                  <TableHead className=\"w-[120px]\">Price</TableHead>\r\n                  <TableHead className=\"w-[120px]\">Amount</TableHead>\r\n                  <TableHead className=\"w-[140px]\">Actions</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {stockRows.map((row, index) => {\r\n                  // Check if product has date conflict\r\n                  const hasDateConflict = row.productId ? (() => {\r\n                    const product = products.find(p => p.id === row.productId);\r\n                    if (product) {\r\n                      const productCreationDate = new Date(product.createdAt);\r\n                      const selectedDate = new Date(stockEntryDate);\r\n                      const productDate = new Date(productCreationDate.getFullYear(), productCreationDate.getMonth(), productCreationDate.getDate());\r\n                      const entryDate = new Date(selectedDate.getFullYear(), selectedDate.getMonth(), selectedDate.getDate());\r\n                      return productDate.getTime() > entryDate.getTime();\r\n                    }\r\n                    return false;\r\n                  })() : false;\r\n                  const conflictProduct = hasDateConflict ? products.find(p => p.id === row.productId) : null;\r\n                  return <TableRow key={row.id} className={hasDateConflict ? \"border-destructive border-2 bg-destructive/5\" : \"\"}>\r\n                    <TableCell>\r\n                      <div className=\"relative\">\r\n                        <Input placeholder=\"Type to search products...\" value={row.searchTerm} onChange={e => updateRow(row.id, 'searchTerm', e.target.value)} onFocus={() => handleInputFocus(row.id)} onKeyDown={e => handleKeyDown(e, row.id)} className={cn(\"w-full\", hasDateConflict && \"border-destructive\")} />\r\n                        {hasDateConflict && conflictProduct && <p className=\"text-xs text-destructive mt-1\">\r\n                          Product was created on {format(new Date(conflictProduct.createdAt), 'PPP')} - after selected date\r\n                        </p>}\r\n                      </div>\r\n                    </TableCell>\r\n\r\n                    <TableCell>\r\n                      <Input type=\"number\" min=\"0\" step=\"0.01\" value={row.quantity || ''} onChange={e => updateRow(row.id, 'quantity', parseFloat(e.target.value) || 0)} onKeyDown={e => handleKeyDown(e, row.id)} placeholder=\"0\" />\r\n                    </TableCell>\r\n\r\n                    <TableCell>\r\n                      <Input type=\"number\" min=\"0\" step=\"0.01\" value={row.price || ''} onChange={e => updateRow(row.id, 'price', parseFloat(e.target.value) || 0)} onKeyDown={e => handleKeyDown(e, row.id)} placeholder=\"0.00\" />\r\n                    </TableCell>\r\n\r\n                    <TableCell>\r\n                      <div className=\"font-medium\">\r\n                        {settings.currency} {formatNumber(row.amount)}\r\n                      </div>\r\n                    </TableCell>\r\n\r\n                    <TableCell>\r\n                      <div className=\"flex gap-1\">\r\n                        <Button variant=\"outline\" size=\"icon\" onClick={() => moveRow(row.id, 'up')} disabled={index === 0} className=\"h-8 w-8\">\r\n                          <ChevronUp size={14} />\r\n                        </Button>\r\n                        <Button variant=\"outline\" size=\"icon\" onClick={() => moveRow(row.id, 'down')} disabled={index === stockRows.length - 1} className=\"h-8 w-8\">\r\n                          <ChevronDown size={14} />\r\n                        </Button>\r\n                        <Button variant=\"outline\" size=\"icon\" onClick={() => removeRow(row.id)} disabled={stockRows.length === 1} className=\"h-8 w-8\">\r\n                          <Trash2 size={14} />\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>;\r\n                })}\r\n\r\n                {/* Add Row Below button - only on the last row */}\r\n                <TableRow className=\"border-none\">\r\n                  <TableCell colSpan={5} className=\"py-1 text-center\">\r\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => addRowAfter(stockRows[stockRows.length - 1].id)} className=\"gap-2 text-muted-foreground hover:text-foreground text-xs\">\r\n                      <Plus size={12} />\r\n                      Add row below\r\n                    </Button>\r\n                  </TableCell>\r\n                </TableRow>\r\n\r\n                {/* Total Row */}\r\n                <TableRow className=\"border-t-2\">\r\n                  <TableCell className=\"text-right font-medium\">\r\n                    Total Quantity:\r\n                  </TableCell>\r\n                  <TableCell className=\"font-bold text-lg\">\r\n                    {formatNumber(totalQuantity)}\r\n                  </TableCell>\r\n                  <TableCell className=\"text-right font-medium\">\r\n                    Total Amount:\r\n                  </TableCell>\r\n                  <TableCell className=\"font-bold text-lg\">\r\n                    {settings.currency} {formatNumber(totalAmount)}\r\n                  </TableCell>\r\n                  <TableCell></TableCell>\r\n                </TableRow>\r\n              </TableBody>\r\n            </Table>\r\n          </div>}\r\n\r\n        {stockRows.length === 0 && <div className=\"text-center py-8 text-muted-foreground\">\r\n          No stock entries. Click \"Add Row\" to start adding stock.\r\n        </div>}\r\n      </CardContent>\r\n    </Card>\r\n\r\n    {/* Product Suggestions Panel - positioned here to appear above Stock Input History */}\r\n    <ProductSuggestionsPanel suggestions={suggestions} isOpen={panelOpen} onClose={closePanel} onSelectProduct={handleProductSelect} searchTerm={focusedRow?.searchTerm || ''} />\r\n\r\n    <StockInputHistory />\r\n  </div>;\r\n};\r\nexport default BulkStockAddTab;"],"names":[],"mappings":"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"}}]
}