module.exports=[409605,a=>a.a(async(b,c)=>{try{var d=a.i(127669),e=a.i(411418),f=a.i(500885),g=a.i(199105),h=b([e,f,g]);[e,f,g]=h.then?(await h)():h,a.s(["useActivityHistory",0,(a,b)=>{let{userId:c}=(0,e.useCurrentUser)(),[h,i]=(0,d.useState)([]),[j,k]=(0,d.useState)(0),[l,m]=(0,d.useState)(1),[n,o]=(0,d.useState)(1),p=(0,f.useQueryClient)(),q=(0,d.useCallback)(async()=>{if(!c||!a)return{activities:[],count:0};try{let d=b?{activityType:b.activityType,module:b.module,search:b.search,dateFrom:b.dateRange.from?.toISOString(),dateTo:b.dateRange.to?.toISOString()}:{},e=await (0,g.getActivityHistoryAction)(a,c,l,20,d);if(!e.success||!e.data)throw Error(e.error||"Failed to fetch activities");return{activities:e.data.activities,count:e.data.count}}catch(a){return console.error("Error fetching activity history:",a),{activities:[],count:0}}},[c,a,l,b]),r=["activity_history",c,a,l,b],{data:s,isLoading:t}=(0,f.useQuery)({queryKey:r,queryFn:q,enabled:!!c&&!!a,staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1});(0,d.useEffect)(()=>{s&&(i(s.activities),k(s.count),o(Math.ceil(s.count/20)))},[s]);let u=t&&!s;return(0,d.useEffect)(()=>{m(1)},[b]),(0,d.useEffect)(()=>{if(!c||!a)return},[c,a,l,b]),{activities:h,isLoading:u,totalCount:j,currentPage:l,totalPages:n,setCurrentPage:m,refetch:()=>{p.invalidateQueries({queryKey:r})}}}]),c()}catch(a){c(a)}},!1),461140,a=>{"use strict";let b=(0,a.i(564375).default)("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckSquare",()=>b],461140)},96231,a=>{"use strict";var b=a.i(349780),c=a.i(528045),d=a.i(226707),e=a.i(368365),f=a.i(150769),g=a.i(873492);function h(a,b){let c=(0,g.toDate)(a)-(0,g.toDate)(b);return c<0?-1:c>0?1:c}var i=a.i(407850),j=a.i(128069),k=a.i(178465);function l(a,l){return function(a,b,l){var m;let n,o=(0,d.getDefaultOptions)(),p=l?.locale??o.locale??c.defaultLocale,q=h(a,b);if(isNaN(q))throw RangeError("Invalid time value");let r=Object.assign({},l,{addSuffix:l?.addSuffix,comparison:q}),[s,t]=(0,f.normalizeDates)(l?.in,...q>0?[b,a]:[a,b]),u=(m=void 0,a=>{let b=(m?Math[m]:Math.trunc)(a);return 0===b?0:b})(((0,g.toDate)(t)-(0,g.toDate)(s))/1e3),v=Math.round((u-((0,e.getTimezoneOffsetInMilliseconds)(t)-(0,e.getTimezoneOffsetInMilliseconds)(s))/1e3)/60);if(v<2)if(l?.includeSeconds)if(u<5)return p.formatDistance("lessThanXSeconds",5,r);else if(u<10)return p.formatDistance("lessThanXSeconds",10,r);else if(u<20)return p.formatDistance("lessThanXSeconds",20,r);else if(u<40)return p.formatDistance("halfAMinute",0,r);else if(u<60)return p.formatDistance("lessThanXMinutes",1,r);else return p.formatDistance("xMinutes",1,r);else if(0===v)return p.formatDistance("lessThanXMinutes",1,r);else return p.formatDistance("xMinutes",v,r);if(v<45)return p.formatDistance("xMinutes",v,r);if(v<90)return p.formatDistance("aboutXHours",1,r);if(v<i.minutesInDay){let a=Math.round(v/60);return p.formatDistance("aboutXHours",a,r)}if(v<2520)return p.formatDistance("xDays",1,r);else if(v<i.minutesInMonth){let a=Math.round(v/i.minutesInDay);return p.formatDistance("xDays",a,r)}else if(v<2*i.minutesInMonth)return n=Math.round(v/i.minutesInMonth),p.formatDistance("aboutXMonths",n,r);if((n=function(a,b,c){let d,[e,i,l]=(0,f.normalizeDates)(void 0,a,a,b),m=h(i,l),n=Math.abs(function(a,b,c){let[d,e]=(0,f.normalizeDates)(void 0,a,b);return 12*(d.getFullYear()-e.getFullYear())+(d.getMonth()-e.getMonth())}(i,l));if(n<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-m*n);let o=h(i,l)===-m;d=(0,g.toDate)(e,void 0),+(0,j.endOfDay)(d,void 0)==+(0,k.endOfMonth)(d,void 0)&&1===n&&1===h(e,l)&&(o=!1);let p=m*(n-o);return 0===p?0:p}(t,s))<12){let a=Math.round(v/i.minutesInMonth);return p.formatDistance("xMonths",a,r)}{let a=n%12,b=Math.trunc(n/12);return a<3?p.formatDistance("aboutXYears",b,r):a<9?p.formatDistance("overXYears",b,r):p.formatDistance("almostXYears",b+1,r)}}(a,(0,b.constructNow)(a),l)}a.s(["formatDistanceToNow",()=>l],96231)},525728,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(899054),f=a.i(811705),g=a.i(413646),h=a.i(499239),i=a.i(131724),j=a.i(691098),k=a.i(223028),l=a.i(461140),m=a.i(493901),n=a.i(445916),o=a.i(946032),p=a.i(818703),q=a.i(96231),r=a.i(625250),s=a.i(224993),t=a.i(799856),u=b([e,f,r,s,t]);[e,f,r,s,t]=u.then?(await u)():u;let v=a=>{switch(a){case"CREATE":return"default";case"UPDATE":default:return"secondary";case"DELETE":return"destructive"}},w=({metadata:a})=>{let{canViewSellingPrice:b,canViewProfit:c,canViewTotalAmount:e}=(0,r.useFinancialVisibility)(),{settings:f}=(0,s.useBusinessSettings)(),g=f?.currency||"UGX";return(0,d.jsxs)("div",{className:"space-y-3 p-2 md:p-3 bg-muted rounded",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 pb-2 border-b border-border",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Receipt #"}),(0,d.jsx)("p",{className:"text-sm font-mono break-all",children:a.receiptNumber})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Total Amount"}),(0,d.jsx)("p",{className:"text-sm font-semibold",children:e||b?`${g} ${(0,t.formatNumber)(a.totalAmount||0)}`:"â€¢â€¢â€¢"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Payment Status"}),(0,d.jsx)("p",{className:"text-sm",children:a.paymentStatus})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Profit"}),(0,d.jsx)("p",{className:"text-sm",children:c?`${g} ${(0,t.formatNumber)(a.profit||0)}`:"â€¢â€¢â€¢"})]})]}),a.restoredToInventory&&(0,d.jsxs)("div",{className:"pb-2 border-b border-border",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-orange-600",children:"âš ï¸ Inventory Restored"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Product quantities were restored to inventory"})]}),a.hadCashTransaction&&(0,d.jsxs)("div",{className:"pb-2 border-b border-border",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-red-600",children:"ðŸ’° Cash Transaction Removed"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Associated cash transaction was also deleted"})]}),(a.customerAddress||a.customerContact)&&(0,d.jsxs)("div",{className:"pb-2 border-b border-border",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Customer Details"}),a.customerAddress&&(0,d.jsxs)("p",{className:"text-xs",children:["Address: ",a.customerAddress]}),a.customerContact&&(0,d.jsxs)("p",{className:"text-xs",children:["Contact: ",a.customerContact]})]}),a.items&&a.items.length>0&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:"text-xs font-medium text-muted-foreground",children:["Items (",a.items.length,")"]}),(0,d.jsx)("div",{className:"mt-1 space-y-2 max-h-40 overflow-y-auto",children:a.items.map((a,c)=>(0,d.jsx)("div",{className:"p-2 bg-background rounded border",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-xs font-medium break-words",children:a.description}),(0,d.jsxs)("div",{className:"flex flex-col xs:flex-row xs:justify-between gap-1",children:[(0,d.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Qty: ",a.quantity," Ã— ",b?`${g} ${(0,t.formatNumber)(a.price||0)}`:"â€¢â€¢â€¢"]}),(0,d.jsxs)("p",{className:"text-xs font-medium",children:["= ",b?`${g} ${(0,t.formatNumber)(a.total||0)}`:"â€¢â€¢â€¢"]})]}),a.discountPercentage>0&&(0,d.jsxs)("p",{className:"text-xs text-orange-600",children:["Discount: ",a.discountPercentage,"% (",b?`${g} ${(0,t.formatNumber)(a.discountAmount||0)}`:"â€¢â€¢â€¢",")"]})]})},c))})]}),void 0!==a.amountPaid&&(0,d.jsx)("div",{className:"pt-2 border-t border-border",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-2 text-xs",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Amount Paid:"}),(0,d.jsx)("span",{className:"ml-1 font-medium",children:e||b?`${g} ${(0,t.formatNumber)(a.amountPaid||0)}`:"â€¢â€¢â€¢"})]}),a.taxRate>0&&(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-muted-foreground",children:"Tax Rate:"}),(0,d.jsxs)("span",{className:"ml-1",children:[a.taxRate,"%"]})]})]})}),a.notes&&(0,d.jsxs)("div",{className:"pt-2 border-t border-border",children:[(0,d.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Notes"}),(0,d.jsx)("p",{className:"text-xs",children:a.notes})]})]})};a.s(["HistoryItem",0,({activities:a,isGrouped:b,activity:c})=>{let r=a||(c?[c]:[]);if(0===r.length)return null;let s=r[0];return(0,d.jsx)(f.Card,{className:"p-3 md:p-4 transition-colors hover:bg-muted/50",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[(0,d.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,d.jsx)("div",{className:`p-2 rounded-lg border flex-shrink-0 ${(a=>{switch(a){case"SALES":return"text-green-600 bg-green-50 border-green-200";case"INVENTORY":return"text-blue-600 bg-blue-50 border-blue-200";case"EXPENSES":return"text-red-600 bg-red-50 border-red-200";case"FINANCE":return"text-purple-600 bg-purple-50 border-purple-200";case"CUSTOMERS":return"text-orange-600 bg-orange-50 border-orange-200";case"TASKS":return"text-indigo-600 bg-indigo-50 border-indigo-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}})(s.module)}`,children:(a=>{switch(a){case"SALES":return(0,d.jsx)(g.ShoppingCart,{className:"h-4 w-4"});case"INVENTORY":default:return(0,d.jsx)(h.Package,{className:"h-4 w-4"});case"EXPENSES":return(0,d.jsx)(i.Receipt,{className:"h-4 w-4"});case"FINANCE":return(0,d.jsx)(j.CreditCard,{className:"h-4 w-4"});case"CUSTOMERS":return(0,d.jsx)(k.Users,{className:"h-4 w-4"});case"TASKS":return(0,d.jsx)(l.CheckSquare,{className:"h-4 w-4"})}})(s.module)}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,d.jsx)("span",{className:"font-medium text-foreground leading-tight break-words",children:s.entity_name}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 sm:hidden",children:(0,q.formatDistanceToNow)(new Date(s.created_at),{addSuffix:!0})})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-1 mb-2",children:[(0,d.jsxs)(e.Badge,{variant:v(s.activity_type),className:"gap-1 text-xs",children:[(a=>{switch(a){case"CREATE":return(0,d.jsx)(m.Plus,{className:"h-3 w-3"});case"UPDATE":default:return(0,d.jsx)(n.Edit,{className:"h-3 w-3"});case"DELETE":return(0,d.jsx)(o.Trash2,{className:"h-3 w-3"})}})(s.activity_type),(0,d.jsx)("span",{className:"hidden xs:inline",children:s.activity_type}),(0,d.jsx)("span",{className:"xs:hidden",children:s.activity_type.charAt(0)})]}),(0,d.jsx)(e.Badge,{variant:"outline",className:"text-xs",children:s.module}),s.profile_name&&(0,d.jsx)(e.Badge,{variant:"secondary",className:"text-xs truncate max-w-24",children:s.profile_name}),b&&(0,d.jsxs)(e.Badge,{variant:"outline",className:"text-xs bg-muted/50",children:[(0,d.jsx)(p.Clock,{className:"h-3 w-3 mr-1"}),r.length," actions"]})]}),(0,d.jsx)("p",{className:"text-sm text-muted-foreground mb-2 leading-relaxed",children:s.description}),s.metadata&&Object.keys(s.metadata).length>0&&(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:(0,d.jsxs)("details",{className:"cursor-pointer group",children:[(0,d.jsxs)("summary",{className:"hover:text-foreground py-1 select-none flex items-center gap-1",children:[(0,d.jsx)("span",{className:"group-open:rotate-90 transition-transform inline-block",children:"â–¸"})," View details"]}),(0,d.jsx)("div",{className:"mt-2 pl-2 border-l-2 border-muted",children:"SALES"===s.module&&s.metadata.items?(0,d.jsx)(w,{metadata:s.metadata}):(0,d.jsx)("pre",{className:"mt-1 p-2 bg-muted rounded text-xs overflow-auto max-h-40",children:JSON.stringify(s.metadata,null,2)})})]})}),b&&r.length>1&&(0,d.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,d.jsxs)("details",{className:"cursor-pointer group",children:[(0,d.jsxs)("summary",{className:"text-xs font-medium hover:text-foreground select-none flex items-center gap-1",children:[(0,d.jsx)("span",{className:"group-open:rotate-90 transition-transform inline-block",children:"â–¸"})," Activity Timeline (",r.length," actions)"]}),(0,d.jsx)("div",{className:"mt-3 space-y-3 pl-1",children:r.map((a,b)=>(0,d.jsxs)("div",{className:"relative pl-4 border-l border-border last:border-0 pb-1",children:[(0,d.jsx)("div",{className:`absolute -left-[5px] top-1.5 h-2.5 w-2.5 rounded-full border ${0===b?"bg-primary border-primary":"bg-background border-muted-foreground"}`}),(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,d.jsx)(e.Badge,{variant:v(a.activity_type),className:"text-[10px] h-5 px-1.5",children:a.activity_type}),(0,d.jsx)("span",{className:"text-xs text-muted-foreground",children:(0,q.formatDistanceToNow)(new Date(a.created_at),{addSuffix:!0})}),a.profile_name&&(0,d.jsxs)("span",{className:"text-xs text-muted-foreground",children:["by ",a.profile_name]})]}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.id))})]})})]})]}),(0,d.jsx)("div",{className:"text-xs text-muted-foreground whitespace-nowrap hidden sm:block flex-shrink-0",children:(0,q.formatDistanceToNow)(new Date(s.created_at),{addSuffix:!0})})]})})}]),c()}catch(a){c(a)}},!1),559237,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(525728),g=b([f]);[f]=g.then?(await g)():g,a.s(["HistoryList",0,({activities:a})=>{let b=(0,e.useMemo)(()=>{let b=new Map,c=[];a.forEach(a=>{"SALES"===a.module&&a.entity_id?(b.has(a.entity_id)||b.set(a.entity_id,[]),b.get(a.entity_id).push(a)):c.push(a)});let d=[];return b.forEach((a,b)=>{let c=a.sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime());d.push({key:`sale-${b}`,activities:c,latestActivity:c[0],isGrouped:c.length>1})}),c.forEach(a=>{d.push({key:a.id,activities:[a],latestActivity:a,isGrouped:!1})}),d.sort((a,b)=>new Date(b.latestActivity.created_at).getTime()-new Date(a.latestActivity.created_at).getTime())},[a]);return 0===b.length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"text-muted-foreground",children:"No activities found for the selected filters."})}):(0,d.jsx)("div",{className:"space-y-3 md:space-y-4",children:b.map(a=>(0,d.jsx)(f.HistoryItem,{activities:a.activities,isGrouped:a.isGrouped},a.key))})}]),c()}catch(a){c(a)}},!1),708025,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(964889),g=a.i(409605),h=a.i(559237),i=a.i(811705),j=a.i(112779),k=a.i(396465),l=a.i(688272),m=a.i(393551),n=a.i(158799),o=a.i(792071),p=a.i(914619),q=a.i(120327),r=a.i(957143),s=a.i(734637),t=a.i(799856),u=a.i(745695),v=b([f,g,h,i,j,k,l,m,n,t]);[f,g,h,i,j,k,l,m,n,t]=v.then?(await v)():v,a.s(["default",0,()=>{let{currentBusiness:a}=(0,f.useBusiness)(),[b,c]=(0,e.useState)({activityType:"ALL",module:"ALL",search:"",dateRange:{from:void 0,to:void 0}}),{activities:v,isLoading:w,totalPages:x,currentPage:y,setCurrentPage:z}=(0,g.useActivityHistory)(a?.id,b),A="ALL"!==b.activityType||"ALL"!==b.module||""!==b.search||void 0!==b.dateRange.from;return(0,d.jsxs)("div",{className:"container mx-auto p-4 md:p-6 space-y-6 max-w-6xl",children:[(0,d.jsx)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Recent Activity"}),(0,d.jsx)("p",{className:"text-muted-foreground mt-1",children:"Track all actions and changes across your business"})]})}),(0,d.jsxs)(i.Card,{children:[(0,d.jsx)(i.CardHeader,{className:"pb-3",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[(0,d.jsxs)(i.CardTitle,{className:"text-lg font-medium flex items-center gap-2",children:[(0,d.jsx)(q.Filter,{className:"h-5 w-5"}),"Filters"]}),A&&(0,d.jsxs)(k.Button,{variant:"ghost",size:"sm",onClick:()=>{c({activityType:"ALL",module:"ALL",search:"",dateRange:{from:void 0,to:void 0}})},className:"h-8 px-2 text-muted-foreground hover:text-foreground",children:[(0,d.jsx)(s.X,{className:"h-4 w-4 mr-1"}),"Clear Filters"]})]})}),(0,d.jsx)(i.CardContent,{children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(r.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,d.jsx)(j.Input,{placeholder:"Search activities...",className:"pl-9",value:b.search,onChange:a=>c(b=>({...b,search:a.target.value}))})]}),(0,d.jsxs)(l.Select,{value:b.module,onValueChange:a=>c(b=>({...b,module:a})),children:[(0,d.jsx)(l.SelectTrigger,{children:(0,d.jsx)(l.SelectValue,{placeholder:"All Modules"})}),(0,d.jsxs)(l.SelectContent,{children:[(0,d.jsx)(l.SelectItem,{value:"ALL",children:"All Modules"}),(0,d.jsx)(l.SelectItem,{value:"SALES",children:"Sales"}),(0,d.jsx)(l.SelectItem,{value:"INVENTORY",children:"Inventory"}),(0,d.jsx)(l.SelectItem,{value:"EXPENSES",children:"Expenses"}),(0,d.jsx)(l.SelectItem,{value:"CUSTOMERS",children:"Customers"}),(0,d.jsx)(l.SelectItem,{value:"FINANCE",children:"Finance"}),(0,d.jsx)(l.SelectItem,{value:"TASKS",children:"Tasks"})]})]}),(0,d.jsxs)(l.Select,{value:b.activityType,onValueChange:a=>c(b=>({...b,activityType:a})),children:[(0,d.jsx)(l.SelectTrigger,{children:(0,d.jsx)(l.SelectValue,{placeholder:"All Actions"})}),(0,d.jsxs)(l.SelectContent,{children:[(0,d.jsx)(l.SelectItem,{value:"ALL",children:"All Actions"}),(0,d.jsx)(l.SelectItem,{value:"CREATE",children:"Created"}),(0,d.jsx)(l.SelectItem,{value:"UPDATE",children:"Updated"}),(0,d.jsx)(l.SelectItem,{value:"DELETE",children:"Deleted"})]})]}),(0,d.jsxs)(n.Popover,{children:[(0,d.jsx)(n.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(k.Button,{variant:"outline",className:(0,t.cn)("justify-start text-left font-normal",!b.dateRange.from&&"text-muted-foreground"),children:[(0,d.jsx)(p.Calendar,{className:"mr-2 h-4 w-4"}),b.dateRange.from?b.dateRange.to?(0,d.jsxs)(d.Fragment,{children:[(0,o.format)(b.dateRange.from,"LLL dd, y")," -"," ",(0,o.format)(b.dateRange.to,"LLL dd, y")]}):(0,o.format)(b.dateRange.from,"LLL dd, y"):(0,d.jsx)("span",{children:"Pick a date range"})]})}),(0,d.jsx)(n.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(m.Calendar,{initialFocus:!0,mode:"range",defaultMonth:b.dateRange.from,selected:b.dateRange,onSelect:a=>c(b=>({...b,dateRange:{from:a?.from,to:a?.to}})),numberOfMonths:2})})]})]})})]}),w?(0,d.jsx)("div",{className:"flex justify-center py-12",children:(0,d.jsx)(u.default,{message:"Loading activity history..."})}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(h.HistoryList,{activities:v}),x>1&&(0,d.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,d.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>z(a=>Math.max(1,a-1)),disabled:1===y,children:"Previous"}),(0,d.jsxs)("div",{className:"flex items-center px-4 text-sm text-muted-foreground",children:["Page ",y," of ",x]}),(0,d.jsx)(k.Button,{variant:"outline",size:"sm",onClick:()=>z(a=>Math.min(x,a+1)),disabled:y===x,children:"Next"})]})]})]})}]),c()}catch(a){c(a)}},!1),368731,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(539141),h=a.i(706555),i=a.i(708025),j=a.i(509193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/History",pathname:"/History",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/History",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_0f131bba._.js.map