module.exports=[193899,a=>a.a(async(b,c)=>{try{let b=await a.y("esc-pos-encoder-a506732009653cea");a.n(b),c()}catch(a){c(a)}},!0),500863,a=>{"use strict";function b(a){let b=["","thousand","million","billion","trillion","quadrillion"],c=["","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],d=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],e=a=>{let b=a.toFixed(2).split("."),c=f(parseInt(b[0]));return b.length>1&&parseInt(b[1])>0?`${c} and ${b[1]}/100`:c},f=a=>{if(0===a)return"zero";if(a<0)return`negative ${f(Math.abs(a))}`;let c="",d=0;for(;a>0;)a%1e3!=0&&(c=`${g(a%1e3)} ${b[d]} ${c}`),a=Math.floor(a/1e3),d++;return c.trim()},g=a=>{if(0===a)return"";let b="";return a>=100&&(b=`${d[Math.floor(a/100)]} hundred `,0==(a%=100))?b.trim():(a<20?b+=d[a]:(b+=`${c[Math.floor(a/10)]}`,a%10>0&&(b+=`-${d[a%10]}`)),b.trim())};return e(a).trim().charAt(0).toUpperCase()+e(a).trim().slice(1)}a.s(["numberToWords",()=>b])},491327,a=>a.a(async(b,c)=>{try{var d=a.i(193899),e=a.i(792071),f=a.i(799856),g=a.i(500863),h=a.i(224993),i=b([d,f,h]);async function j(a,b,c){let i=c||b.currency||"",j=new d.default;j.initialize();let k="80mm"===b.printerPaperSize;k?j.raw([29,87,64,2]):(j.raw([29,76,0,0]),j.raw([29,87,128,1])),j.align("left"),j.align("left"),j.line(k?"=".repeat(42):"=".repeat(32)),b.businessName&&j.size("double").bold(!0).line(b.businessName.toUpperCase()).bold(!1).size("normal"),j.line(k?"=".repeat(42):"=".repeat(32)),b.businessAddress&&j.line(b.businessAddress),b.businessPhone&&j.line(`Tel: ${b.businessPhone}`),b.businessEmail&&j.line(b.businessEmail),j.line(k?"-".repeat(42):"-".repeat(32));let l={Quote:"QUOTATION",Paid:"SALES RECEIPT","Installment Sale":"INSTALLMENT SALE","NOT PAID":"INVOICE"}[a.paymentStatus]||"INVOICE";j.bold(!0).line(l).bold(!1),j.line(k?"-".repeat(42):"-".repeat(32)),j.raw([29,76,0,0]),j.align("left"),j.table([{width:12,align:"left"},{width:16,align:"right"}],[["Receipt #:",a.receiptNumber||""],["Date:",(0,e.format)(new Date(a.date||Date.now()),"MMM dd, yyyy")],["Status:",a.paymentStatus||""]]),j.line(k?"-".repeat(42):"-".repeat(32)),a.customerName&&(j.line(`Customer: ${a.customerName}`),a.customerAddress&&j.line(`Address: ${a.customerAddress}`),a.customerContact&&j.line(`Contact: ${a.customerContact}`),j.line(k?"-".repeat(42):"-".repeat(32)));let m=k?[{width:21,align:"left"},{width:1,align:"center"},{width:6,align:"right"},{width:14,align:"right"}]:[{width:12,align:"left"},{width:1,align:"center"},{width:5,align:"right"},{width:14,align:"right"}];j.table(m,[["Item","","Qty","Total"]]),j.line(k?"-".repeat(42):"-".repeat(32));let n=0,o=0;Array.isArray(a.items)&&a.items.forEach(a=>{let b=a.quantity||0,c=a.price||0,d=b*c,e=a.discountAmount??d*(a.discountPercentage||0)/100;if(n+=d,o+=e,j.table(m,[[a.description||"","",String(b),(0,f.formatNumber)(d-e)]]),e>0){let b="amount"===a.discountType?"":`(${a.discountPercentage||0}%)`;j.italic(!0).table([{width:22,align:"left"},{width:10,align:"right"}],[[`  Discount ${b}`,`-${(0,f.formatNumber)(e)}`]]).italic(!1)}j.line(k?"-".repeat(42):"-".repeat(32))});let p=n-o,q=a.taxRate||0,r=q/100*p,s=p+r,t=Array.isArray(a.payments)?a.payments.reduce((a,b)=>a+(Number(b.amount)||0),0):0,u="Installment Sale"===a.paymentStatus&&t>0?t:Number(a.amountPaid)||0,v="Installment Sale"===a.paymentStatus?Math.max(0,s-t):Math.max(0,s-u);j.newline();let w=[{width:14,align:"left"},{width:k?28:18,align:"right"}];j.table(w,[["Subtotal:",`${i} ${(0,f.formatNumber)(n)}`]]),o>0&&j.table(w,[["Total Discount:",`-${i} ${(0,f.formatNumber)(o)}`]]),q>0&&j.table(w,[[`Tax (${q}%):`,`${i} ${(0,f.formatNumber)(r)}`]]),j.bold(!0).table(w,[["TOTAL:",`${i} ${(0,f.formatNumber)(s)}`]]).bold(!1),"Installment Sale"===a.paymentStatus&&j.table(w,[["Amount Paid:",`${i} ${(0,f.formatNumber)(u)}`],["Amount Due:",`${i} ${(0,f.formatNumber)(v)}`]]),j.line(k?"-".repeat(42):"-".repeat(32)),j.text(`Amount in words:
${(0,g.numberToWords)(s)} only
`),j.line(k?"-".repeat(42):"-".repeat(32)),j.raw([29,76,0,0]),j.align("left");let x=b.paymentInfo?(0,h.parsePaymentInfo)(b.paymentInfo):[];return Array.isArray(x)&&x.length>0&&x.forEach(a=>{(a.method||a.accountNumber||a.accountName)&&(j.bold(!0).line(a.method||"").bold(!1),a.accountNumber&&j.line(`Acc: ${a.accountNumber}`),a.accountName&&j.line(`Name: ${a.accountName}`),j.line(k?"-".repeat(42):"-".repeat(32)))}),j.line("Thank you for your business!"),j.size("small").line("Created by Gonza Systems").size("normal"),j.line(k?"=".repeat(42):"=".repeat(32)),j.newline().newline().newline().cut(),j.encode()}[d,f,h]=i.then?(await i)():i,a.s(["generateThermalReceipt",()=>j]),c()}catch(a){c(a)}},!1),487416,a=>{"use strict";var b=a.i(20180);async function c(){for(let a of["http://localhost:5000","http://127.0.0.1:5000"])try{if((await fetch(`${a}/printers`,{signal:AbortSignal.timeout(2e3),mode:"cors"})).ok)return!0}catch(a){}return!1}async function d(c,d){if("web"===b.Capacitor.getPlatform()){try{let a=c instanceof Uint8Array,b=d;if(!b)try{b=JSON.parse(localStorage.getItem("business-settings")||"{}").defaultPrinterName}catch(a){}b||(b="Receipt Printer");let e={PrinterName:b,Content:a?String.fromCharCode(...c):c};if((await fetch("http://localhost:5000/print/receipt",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(e)})).ok)return{success:!0,message:"Print command sent to bridge."}}catch(a){console.warn("Printer Bridge not available, falling back to Web Serial",a)}if("string"!=typeof c)return{success:!1,message:"Printer Bridge required for binary ESC/POS printing."};{let{printWeb:b}=await a.A(127844);return await b(c)}}{let{printBluetooth:b}=await a.A(448814),d="string"==typeof c?c:new TextDecoder().decode(c);return await b(d)}}a.s(["checkBridgeStatus",()=>c,"print",()=>d])},749260,a=>a.a(async(b,c)=>{try{var d=a.i(127669),e=a.i(108191),f=a.i(531811),g=a.i(120343),h=b([f,g]);[f,g]=h.then?(await h)():h,a.s(["useInstallmentPayments",0,a=>{let[b,c]=(0,d.useState)([]),[h,i]=(0,d.useState)(!1),{toast:j}=(0,e.useToast)(),{user:k}=(0,f.useAuth)(),l=(0,d.useCallback)(async a=>{try{i(!0);let b=await (0,g.getInstallmentPaymentsAction)(a);if(!b.success||!b.data)throw Error(b.error);let d=b.data.map(a=>({...a,paymentDate:new Date(a.paymentDate),createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)}));c(d)}catch(a){console.error("Error fetching installment payments:",a),j({title:"Error",description:"Failed to load payment history",variant:"destructive"})}finally{i(!1)}},[j]),m=async a=>{if(!k)return null;try{let b=await (0,g.createInstallmentPaymentAction)({...a,userId:k.id,paymentDate:a.paymentDate?.toISOString()});if(!b.success||!b.data)throw Error(b.error);let d={...b.data,paymentDate:new Date(b.data.paymentDate),createdAt:new Date(b.data.createdAt),updatedAt:new Date(b.data.updatedAt)};return c(a=>[d,...a]),d}catch(a){return console.error("Error creating payment:",a),j({title:"Error",description:"Failed to record payment",variant:"destructive"}),null}},n=async(a,b)=>{try{let d=await (0,g.updateInstallmentPaymentAction)(a,{...b,paymentDate:b.paymentDate?.toISOString()});if(!d.success||!d.data)throw Error(d.error);let e={...d.data,paymentDate:new Date(d.data.paymentDate),createdAt:new Date(d.data.createdAt),updatedAt:new Date(d.data.updatedAt)};return c(b=>b.map(b=>b.id===a?e:b)),j({title:"Success",description:"Payment updated successfully"}),e}catch(a){return console.error("Error updating payment:",a),j({title:"Error",description:a.message||"Failed to update payment",variant:"destructive"}),null}},o=async a=>{try{let b=await (0,g.deleteInstallmentPaymentAction)(a);if(!b.success)throw Error(b.error);return c(b=>b.filter(b=>b.id!==a)),j({title:"Success",description:"Payment deleted successfully"}),!0}catch(a){return console.error("Error deleting payment:",a),j({title:"Error",description:"Failed to delete payment",variant:"destructive"}),!1}},p=async(a,b,d)=>{if(k)try{let e=await (0,g.linkInstallmentToCashAction)(a,b,d,k.id);if(!e.success||!e.data)throw Error(e.error);c(b=>b.map(b=>b.id===a?{...b,cashTransactionId:e.data.id}:b)),j({title:"Success",description:"Payment linked to cash account successfully"})}catch(a){console.error("Error linking payment:",a),j({title:"Error",description:a.message||"Failed to link payment",variant:"destructive"})}},q=async a=>{try{let b=await (0,g.unlinkInstallmentFromCashAction)(a);if(!b.success)throw Error(b.error);c(b=>b.map(b=>b.id===a?{...b,cashTransactionId:void 0}:b)),j({title:"Success",description:"Payment unlinked from cash account successfully"})}catch(a){console.error("Error unlinking payment:",a),j({title:"Error",description:a.message||"Failed to unlink payment",variant:"destructive"})}};return(0,d.useEffect)(()=>{a&&l(a)},[a,l]),{payments:b,isLoading:h,fetchPayments:l,createPayment:m,updatePayment:n,deletePayment:o,linkPaymentToCashAccount:p,unlinkPaymentFromCashAccount:q}}]),c()}catch(a){c(a)}},!1),570223,a=>{"use strict";let b=(0,a.i(564375).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],570223)},456501,a=>{"use strict";a.s(["isAndroid",0,()=>{let a=navigator.userAgent||"";return/android/i.test(a)},"isIOS",0,()=>{let a=navigator.userAgent||"";return!/android/i.test(a)&&(/iPad|iPhone|iPod/.test(a)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)}])},702898,a=>{"use strict";a.i(560291);var b=a.i(456501);let c=async(b,c,d={})=>{let{generateVectorPDF:e}=await a.A(611602);await e(b,{filename:c,orientation:"landscape",format:"a4",margins:{top:10,right:10,bottom:10,left:10}})},d=async(a,d,e={})=>{let{autoPrint:f=!1,isReceipt:g=!1}=e;try{(0,b.isIOS)()?await c(a,d,e):(await c(a,d,e),f&&setTimeout(()=>{window.print()},500))}catch(a){throw console.error("Error generating PDF:",a),a}};a.s(["generatePDF",0,d])},264386,a=>{"use strict";a.s(["directPrint",0,(a,b,c)=>{let d=window.open("","_blank");if(!d)return void window.print();let e=Array.from(document.styleSheets),f="";e.forEach(a=>{try{a.href?f+=`<link rel="stylesheet" href="${a.href}">`:a.cssRules&&(f+="<style>",Array.from(a.cssRules).forEach(a=>{f+=a.cssText}),f+="</style>")}catch(a){console.warn("Could not access stylesheet:",a)}});let g=c?`
    @page { 
      size: 80mm auto; 
      margin: 0; 
    }
    .thermal-receipt { 
      font-size: 14px !important; 
      font-weight: 800 !important;
      padding: 8px !important;
      page-break-after: avoid !important;
    }
    .thermal-receipt .font-extrabold { 
      font-weight: 900 !important; 
    }
    .thermal-receipt .font-bold { 
      font-weight: 800 !important; 
    }
  `:"";d.document.write(`
    <!DOCTYPE html>
    <html>
      <head>
        <title>${b||"Print"}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        ${f}
        <style>
          @media print {
            body { margin: 0; }
            .print\\:hidden { display: none !important; }
            ${g}
          }
          body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: ${c?"0":"20px"};
          }
        </style>
      </head>
      <body>
        ${a.outerHTML}
      </body>
    </html>
  `),d.document.close();let h=!1,i=()=>{if(!h){h=!0;try{d.closed||d.close()}catch(a){console.warn("Could not close print window:",a)}}};d.onload=()=>{d.focus(),d.print(),d.onafterprint=()=>{i()},d.onbeforeunload=()=>{h||setTimeout(i,100)},setTimeout(()=>{i()},1500)},d.onerror=()=>{console.warn("Print window failed to load"),i()}}])},714116,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(792071),f=a.i(799856),g=a.i(224993),h=a.i(500863),i=a.i(749260),j=b([f,g,i]);[f,g,i]=j.then?(await j)():j,a.s(["default",0,({sale:a,currency:b,includePaymentInfo:c=!0})=>{let{settings:j,isLoading:k}=(0,g.useBusinessSettings)(),{payments:l}=(0,i.useInstallmentPayments)(a.id);if(k)return(0,d.jsx)("div",{className:"flex items-center justify-center p-12 bg-gray-50 rounded-lg",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 font-mono",children:"Preparing receipt..."})]})});let m=a.items.reduce((a,b)=>a+b.price*b.quantity,0),n=a.items.reduce((a,b)=>{let c=b.price*b.quantity,d="amount"===b.discountType?b.discountAmount||0:c*(b.discountPercentage||0)/100;return a+d},0),o=m-n,p=a.taxRate||0,q=p/100*o,r=o+q,s=(l||[]).reduce((a,b)=>a+(b.amount||0),0),t="Installment Sale"===a.paymentStatus||"Paid"===a.paymentStatus&&s>0?s:a.amountPaid||r,u="Installment Sale"===a.paymentStatus?Math.max(0,r-s):a.amountDue||0,v=j.paymentInfo?(0,g.parsePaymentInfo)(j.paymentInfo):[],w=c&&v.length>0&&v.some(a=>""!==a.method.trim()||""!==a.accountNumber.trim()||""!==a.accountName.trim()),x=b||j.currency,y=new Date(a.date),z=new Date;return(0,d.jsx)("div",{className:"flex justify-center bg-gray-100 p-4 sm:p-8 overflow-hidden",children:(0,d.jsxs)("div",{className:"relative bg-white shadow-2xl font-mono text-[11px] leading-tight text-black flex flex-col mx-auto",style:{width:"58mm",minHeight:"140mm",padding:"6mm 4mm",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",borderTop:"1px dashed #e5e7eb",borderBottom:"1px dashed #e5e7eb"},children:[(0,d.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 overflow-hidden flex",style:{opacity:.2},children:Array.from({length:20}).map((a,b)=>(0,d.jsx)("div",{className:"w-4 h-4 bg-gray-300 transform rotate-45 -translate-y-2 translate-x-1"},b))}),(0,d.jsxs)("div",{className:"flex flex-col items-center mb-4 text-center",children:[j.businessLogo&&(0,d.jsx)("div",{className:"mb-2 w-full flex justify-center",children:(0,d.jsx)("img",{src:j.businessLogo,alt:"Logo",className:"h-12 w-auto object-contain max-w-[40mm]"})}),(0,d.jsx)("div",{className:"text-[14px] font-black uppercase tracking-tight mb-0.5",children:j.businessName}),(0,d.jsx)("div",{className:"text-[9px] font-bold opacity-80",children:j.businessAddress}),(0,d.jsxs)("div",{className:"text-[9px] font-bold opacity-80",children:["TEL: ",j.businessPhone]}),j.businessEmail&&(0,d.jsx)("div",{className:"text-[9px] font-bold opacity-80 lowercase",children:j.businessEmail})]}),(0,d.jsx)("div",{className:"border-b border-black border-dashed w-full my-2"}),(0,d.jsxs)("div",{className:"text-center mb-3",children:[(0,d.jsx)("div",{className:"text-[12px] font-black underline mb-1",children:(()=>{switch(a.paymentStatus){case"Quote":return"QUOTATION";case"Paid":return"SALES RECEIPT";case"Installment Sale":return"INSTALLMENT SALE";default:return"INVOICE"}})()}),(0,d.jsxs)("div",{className:"flex justify-between text-[9px] font-bold",children:[(0,d.jsx)("span",{children:(()=>{switch(a.paymentStatus){case"Quote":return"Quote #:";case"Paid":return"Receipt #:";case"Installment Sale":return"Installment #:";default:return"Invoice #:"}})()}),(0,d.jsx)("span",{children:a.receiptNumber})]}),(0,d.jsxs)("div",{className:"flex justify-between text-[9px]",children:[(0,d.jsx)("span",{children:"DATE:"}),(0,d.jsx)("span",{children:(0,e.format)(y,"dd/MM/yyyy")})]}),(0,d.jsxs)("div",{className:"flex justify-between text-[9px]",children:[(0,d.jsx)("span",{children:"TIME:"}),(0,d.jsx)("span",{children:(0,e.format)(z,"HH:mm")})]}),(0,d.jsxs)("div",{className:"flex justify-between text-[9px] font-black",children:[(0,d.jsx)("span",{children:"STATUS:"}),(0,d.jsx)("span",{children:a.paymentStatus.toUpperCase()})]})]}),a.customerName&&(0,d.jsxs)("div",{className:"mb-3 bg-gray-50 p-1.5 border border-gray-100 italic",children:[(0,d.jsx)("div",{className:"font-black text-[9px] not-italic uppercase mb-0.5",children:"Customer:"}),(0,d.jsx)("div",{className:"font-bold",children:a.customerName}),a.customerAddress&&(0,d.jsx)("div",{className:"text-[9px] opacity-70",children:a.customerAddress}),a.customerContact&&(0,d.jsx)("div",{className:"text-[9px] opacity-70",children:a.customerContact})]}),(0,d.jsx)("div",{className:"border-b border-black border-dashed w-full my-2"}),(0,d.jsxs)("div",{className:"mb-4",children:[(0,d.jsxs)("div",{className:"flex justify-between font-black text-[9px] pb-1 border-b border-black mb-1.5 uppercase",children:[(0,d.jsx)("span",{className:"w-[60%]",children:"Description"}),(0,d.jsx)("span",{className:"w-[15%] text-right",children:"Qty"}),(0,d.jsx)("span",{className:"w-[25%] text-right",children:"Amt"})]}),a.items.map((a,b)=>{let c=a.quantity*a.price,e="amount"===a.discountType?a.discountAmount||0:c*(a.discountPercentage||0)/100;return(0,d.jsxs)("div",{className:"mb-2 last:mb-0",children:[(0,d.jsx)("div",{className:"font-bold text-[10px] break-words uppercase",children:a.description}),(0,d.jsxs)("div",{className:"flex justify-between text-[9px] items-center",children:[(0,d.jsx)("span",{className:"text-gray-600 font-bold truncate",children:(0,f.formatNumber)(a.price)}),(0,d.jsx)("div",{className:"flex-1 border-b border-dotted border-gray-300 mx-2"}),(0,d.jsxs)("span",{className:"font-bold",children:[(0,f.formatNumber)(a.quantity).padStart(2,"0"),"x ",(0,f.formatNumber)(c-e)]})]}),e>0&&(0,d.jsxs)("div",{className:"flex justify-between text-[8px] italic text-gray-500 font-bold",children:[(0,d.jsxs)("span",{children:["- DISCOUNT ","percentage"===a.discountType?`(${a.discountPercentage}%)`:""]}),(0,d.jsxs)("span",{children:["-",(0,f.formatNumber)(e)]})]})]},b)})]}),(0,d.jsx)("div",{className:"border-b border-black border-dashed w-full my-2"}),(0,d.jsxs)("div",{className:"mb-4 space-y-0.5",children:[(0,d.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,d.jsx)("span",{children:"SUBTOTAL:"}),(0,d.jsxs)("span",{children:[x," ",(0,f.formatNumber)(m)]})]}),n>0&&(0,d.jsxs)("div",{className:"flex justify-between font-bold italic opacity-70",children:[(0,d.jsx)("span",{children:"DISCOUNT:"}),(0,d.jsxs)("span",{children:["-",x," ",(0,f.formatNumber)(n)]})]}),p>0&&(0,d.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,d.jsxs)("span",{children:["TAX (",p,"%):"]}),(0,d.jsxs)("span",{children:[x," ",(0,f.formatNumber)(q)]})]}),(0,d.jsxs)("div",{className:"flex justify-between font-black text-[13px] border-t border-black pt-1.5 mt-1",children:[(0,d.jsx)("span",{children:"TOTAL:"}),(0,d.jsxs)("span",{children:[x," ",(0,f.formatNumber)(r)]})]}),"Installment Sale"===a.paymentStatus&&(0,d.jsxs)("div",{className:"mt-2 pt-1 border-t border-gray-200 border-dotted",children:[(0,d.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,d.jsx)("span",{children:"PAID:"}),(0,d.jsxs)("span",{children:[x," ",(0,f.formatNumber)(t)]})]}),(0,d.jsxs)("div",{className:"flex justify-between font-black text-red-600",children:[(0,d.jsx)("span",{children:"DUE:"}),(0,d.jsxs)("span",{children:[x," ",(0,f.formatNumber)(u)]})]})]})]}),(0,d.jsxs)("div",{className:"mb-4 text-[9px] italic opacity-80 border-t border-b border-gray-100 py-1",children:[(0,d.jsx)("span",{className:"font-black not-italic uppercase",children:"Words:"})," ",x," ",(0,h.numberToWords)(r)," only."]}),w&&(0,d.jsxs)("div",{className:"mb-4 text-[9px]",children:[(0,d.jsx)("div",{className:"font-black underline mb-1 uppercase",children:"Payment Channels:"}),v.filter(a=>""!==a.method.trim()||""!==a.accountNumber.trim()||""!==a.accountName.trim()).map((a,b)=>(0,d.jsxs)("div",{className:"mb-1 last:mb-0 font-bold",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)("span",{className:"uppercase",children:[a.method,":"]}),(0,d.jsx)("span",{children:a.accountNumber})]}),(0,d.jsx)("div",{className:"text-[8px] opacity-70 italic text-right",children:a.accountName})]},b))]}),a.notes&&(0,d.jsxs)("div",{className:"mb-4 text-[9px] border border-gray-100 p-1 bg-gray-50",children:[(0,d.jsx)("div",{className:"font-black uppercase mb-0.5",children:"Notes:"}),(0,d.jsx)("div",{className:"font-bold opacity-70 whitespace-pre-wrap italic",children:a.notes})]}),(0,d.jsx)("div",{className:"mt-auto pt-6 flex flex-col items-center",children:j.signature?(0,d.jsxs)("div",{className:"flex flex-col items-center",children:[(0,d.jsx)("img",{src:j.signature,alt:"Signature",className:"h-10 w-auto object-contain mb-1 mix-blend-multiply opacity-90"}),(0,d.jsx)("div",{className:"w-[80%] border-t border-black border-dashed"}),(0,d.jsx)("div",{className:"text-[8px] font-black uppercase mt-1",children:"Authorized Signature"})]}):(0,d.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,d.jsx)("div",{className:"w-[80%] border-t border-black border-dashed pt-1"}),(0,d.jsx)("div",{className:"text-[8px] font-black uppercase mt-1",children:"Authorized Signature"})]})}),(0,d.jsxs)("div",{className:"text-center mt-6",children:[(0,d.jsx)("div",{className:"text-[10px] font-black mb-1 italic",children:"THANK YOU!"}),(0,d.jsxs)("div",{className:"text-[8px] font-bold opacity-60",children:["GONZA SYSTEMS SUPPORT",(0,d.jsx)("br",{}),"PRINTED AT ",(0,e.format)(new Date,"HH:mm dd/MM/yy")]})]}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-1 overflow-hidden flex",style:{opacity:.2},children:Array.from({length:20}).map((a,b)=>(0,d.jsx)("div",{className:"w-4 h-4 bg-gray-300 transform rotate-45 translate-y-2 translate-x-1"},b))})]})})}]),c()}catch(a){c(a)}},!1),12450,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(396465),g=a.i(570223),h=a.i(688272),i=a.i(702898),j=a.i(264386),k=a.i(792071),l=a.i(126741),m=a.i(532572),n=a.i(311988),o=a.i(799856),p=a.i(318674),q=a.i(224993),r=a.i(500863),s=a.i(558277),t=a.i(456501),u=a.i(714116),v=a.i(169320),w=a.i(749260),x=a.i(487416),y=a.i(491327),z=b([f,h,o,p,q,u,v,w,y]);[f,h,o,p,q,u,v,w,y]=z.then?(await z)():z,a.s(["default",0,({sale:b,currency:c,isMobile:z,includePaymentInfo:A=!0})=>{let B,C,D=(0,e.useRef)(null),E=(0,e.useRef)(null),{settings:F,isLoading:G}=(0,q.useBusinessSettings)(),{payments:H}=(0,w.useInstallmentPayments)(b.id),[I,J]=(0,e.useState)("standard"),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),[O,P]=(0,e.useState)(!1),[Q,R]=(0,e.useState)(!1),S=(0,s.useIsMobile)();(0,e.useEffect)(()=>{F.defaultPrintFormat&&J(F.defaultPrintFormat),(async()=>{let a=await (0,x.checkBridgeStatus)();R(a)})()},[F.defaultPrintFormat]);let T=()=>{switch(b.paymentStatus){case"Quote":return"QUOTATION";case"Paid":return"SALES RECEIPT";default:return"INVOICE"}},U=()=>{switch(b.paymentStatus){case"Quote":return"Quote #:";case"Paid":return"Receipt #:";case"Installment Sale":return"Installment #:";default:return"Invoice #:"}},V=T(),W=U(),X=b.items.reduce((a,b)=>{let c=b.price*b.quantity,d="amount"===b.discountType?b.discountAmount||0:c*(b.discountPercentage||0)/100;return a+(c-d)},0),Y=b.taxRate||0,Z=Y/100*X,$=X+Z,_=H.reduce((a,b)=>a+b.amount,0),aa="Installment Sale"===b.paymentStatus||"Paid"===b.paymentStatus&&_>0?_:b.amountPaid||$,ab="Installment Sale"===b.paymentStatus?Math.max(0,$-_):b.amountDue||0,ac=(0,r.numberToWords)($),ad=Y>0,ae="Installment Sale"===b.paymentStatus,af=F.paymentInfo?(0,q.parsePaymentInfo)(F.paymentInfo):[],ag=A&&af.length>0&&af.some(a=>""!==a.method.trim()||""!==a.accountNumber.trim()||""!==a.accountName.trim()),ah=c||F.currency;(0,t.isIOS)(),(0,t.isAndroid)();let ai=new Date(b.date),aj=()=>{let a=new Date(b.date),c=new Date,d=F.paymentInfo?(0,q.parsePaymentInfo)(F.paymentInfo):[],e=A&&d.length>0&&d.some(a=>""!==a.method.trim()||""!==a.accountNumber.trim()||""!==a.accountName.trim());return{documentTitle:T(),documentNumberLabel:U(),receiptNumber:b.receiptNumber,date:(0,k.format)(a,"MMM dd, yyyy"),time:(0,k.format)(c,"hh:mm a"),status:b.paymentStatus,businessName:F.businessName,businessAddress:F.businessAddress,businessPhone:F.businessPhone,businessEmail:F.businessEmail,businessLogo:F.businessLogo,signature:F.signature,customerName:b.customerName,customerAddress:b.customerAddress,customerContact:b.customerContact,items:b.items.map(a=>{let b=a.quantity*a.price,c="amount"===a.discountType?a.discountAmount||0:b*(a.discountPercentage||0)/100;return{description:a.description,quantity:a.quantity,unitPrice:a.price,discountPercentage:a.discountPercentage||0,discountAmount:c,discountType:a.discountType||"percentage",amount:b-c}}),subtotal:X,taxRate:Y,taxAmount:Z,totalAmount:$,amountPaid:aa,amountDue:ab,isInstallmentSale:ae,totalAmountInWords:ac,paymentMethods:e?d.filter(a=>""!==a.method.trim()||""!==a.accountNumber.trim()||""!==a.accountName.trim()):void 0,currency:ah,showTaxRow:ad,hasPaymentInfo:e,notes:b.notes}},ak=async()=>{if(D.current){N(!0);try{v.toast.success("Preparing download...");let c="Quote"===b.paymentStatus?"Quote":"Paid"===b.paymentStatus?"Receipt":"Invoice",d="thermal"===I?`${c}_Thermal-${b.receiptNumber}.pdf`:`${c}-${b.receiptNumber}.pdf`;if("standard"===I){let{generateReceiptVectorPDF:b}=await a.A(527338),c=aj();await b(c,{filename:d,orientation:"portrait",format:"a4",margins:{top:20,right:20,bottom:20,left:20}})}else await (0,i.generatePDF)(D.current,d,{isReceipt:!0});v.toast.success("Receipt downloaded successfully!")}catch(a){console.error("Error downloading receipt:",a),v.toast.error("Failed to download receipt. Please try again.")}finally{N(!1)}}},al=async()=>{P(!0);try{let{generateReceiptVectorPDF:c}=await a.A(527338),d=aj(),e=await c(d,{returnBlob:!0});if(!e)return;let f="Quote"===b.paymentStatus?"Quotation":"Paid"===b.paymentStatus?"Receipt":"Invoice",g=`${f}-${b.receiptNumber}.pdf`,h=new File([e],g,{type:"application/pdf"});navigator.canShare&&navigator.canShare({files:[h]})?(await navigator.share({files:[h],title:`${f} - ${b.receiptNumber}`,text:`${f} #${b.receiptNumber}`}),v.toast.success(`${f} shared successfully!`)):v.toast.error("Sharing not supported on this device.")}catch(a){console.error("Error sharing document:",a),v.toast.error("Failed to share document.")}finally{P(!1)}},am=async()=>{let c="thermal"===I?E.current:D.current;if(c){L(!0);try{if("thermal"===I){let a={...b,payments:H||[]},c=await (0,y.generateThermalReceipt)(a,F,ah),{success:d,message:e}=await (0,x.print)(c,F.defaultPrinterName)||{success:!1,message:"Unknown print error"};d?v.toast.success(e):v.toast.error(e);return}if(v.toast.success("Preparing receipt for printing..."),S){let a="Quote"===b.paymentStatus?"Quotation":"Paid"===b.paymentStatus?"Receipt":"Invoice";(0,j.directPrint)(c,a),v.toast.success("Print dialog opened!")}else{let{generateReceiptVectorPDF:b}=await a.A(527338),c=aj(),d=await b(c,{returnBlob:!0});if(d){let a=URL.createObjectURL(d),b=window.open(a,"_blank");b&&b.addEventListener("load",()=>{setTimeout(()=>{b.focus(),b.print(),b.addEventListener("afterprint",()=>b.close())},500)}),setTimeout(()=>URL.revokeObjectURL(a),3e4)}v.toast.success("Print dialog opened!")}}catch(a){console.error("Error printing receipt:",a),v.toast.error(a?.message||"Failed to print receipt. Please try again.")}finally{L(!1)}}};return G?(0,d.jsxs)("div",{className:`bg-white ${z?"p-2":"p-6"} rounded-lg shadow-md`,children:[(0,d.jsx)("div",{className:"mb-4 flex justify-between items-center flex-wrap",children:(0,d.jsx)("h2",{className:`${z?"text-xl":"text-2xl"} font-bold text-sales-primary`,children:V})}),(0,d.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Loading business settings..."})]})})]}):(0,d.jsxs)("div",{className:`bg-white ${z?"p-2":"p-6"} rounded-lg shadow-md`,children:[(0,d.jsxs)("div",{className:"mb-4 flex justify-between items-center flex-wrap",children:[(0,d.jsx)("h2",{className:`${z?"text-xl":"text-2xl"} font-bold text-sales-primary`,children:V}),(0,d.jsxs)("div",{className:"print:hidden flex space-x-2 mt-2 sm:mt-0",children:[!z&&(0,d.jsx)(f.Button,{variant:"default",size:"default",onClick:am,disabled:K||M||O,className:"flex items-center",title:"Print",children:K?(0,d.jsx)(n.Loader2,{className:"h-4 w-4 animate-spin"}):(0,d.jsx)(l.Printer,{className:"h-4 w-4"})}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(f.Button,{variant:"outline",size:z?"sm":"default",onClick:ak,disabled:K||M||O,className:"flex items-center",title:"Download PDF",children:M?(0,d.jsx)(n.Loader2,{className:"h-4 w-4 animate-spin"}):(0,d.jsx)(m.Download,{className:"h-4 w-4"})}),(0,d.jsx)(f.Button,{variant:"outline",size:z?"sm":"default",onClick:al,disabled:K||M||O,className:"flex items-center",title:"Share",children:O?(0,d.jsx)(n.Loader2,{className:"h-4 w-4 animate-spin"}):(0,d.jsx)(g.Share2,{className:"h-4 w-4"})}),z&&(0,d.jsx)(f.Button,{variant:"outline",size:z?"sm":"default",onClick:async()=>{let a=navigator.userAgent||"",c=/android/i.test(a),d=!c&&(/iPad|iPhone|iPod/.test(a)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1);console.warn("--- MOBILE PRINT START ---"),console.warn("User Agent:",a),console.warn("isAndroid (Direct Check):",c),console.warn("isIOS (Direct Check):",d);let e=`https://ujgxxcgemmfmfsbngnqo.supabase.co/functions/v1/print-receipt?id=${b.id}&${c?"platform=android":d?"platform=ios":"default"}&apikey=`;L(!0);try{console.log("Fetching from:",e);let a=await fetch(e);if(!a.ok){let b=await a.text();throw console.error("Print Function Error:",a.status,b),Error(`Server ${a.status}: ${b||"Bad Request"}`)}let b=await a.json();if(console.log("Data fetched successfully"),c)console.log("Redirecting to Android App using RAW URL..."),window.location.href=`my.bluetoothprint.scheme://${e}`;else if(d){console.log("Redirecting to iOS App (Direct Push)...");let a=encodeURIComponent(JSON.stringify(b));window.location.href=`thermer://print?data=${a}`}else v.toast.error("Mobile printing is optimized for iOS and Android")}catch(a){console.error("Unified Print Error:",a),v.toast.error(a.message||"Failed to prepare receipt")}finally{L(!1),console.warn("--- MOBILE PRINT END ---")}},className:"flex items-center text-blue-600 border-blue-200 hover:bg-blue-50",title:"Print",children:K?(0,d.jsx)(n.Loader2,{className:"h-4 w-4 animate-spin"}):(0,d.jsx)(l.Printer,{className:"h-4 w-4"})})]})]})]}),(0,d.jsx)("div",{className:"mb-4 print:hidden",children:(0,d.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,d.jsx)("label",{htmlFor:"receipt-type",className:"text-sm font-medium",children:"Receipt Format:"}),(0,d.jsxs)(h.Select,{value:I,onValueChange:a=>J(a),children:[(0,d.jsx)(h.SelectTrigger,{className:"w-48",children:(0,d.jsx)(h.SelectValue,{placeholder:"Select receipt type"})}),(0,d.jsxs)(h.SelectContent,{children:[(0,d.jsx)(h.SelectItem,{value:"standard",children:"Standard Receipt"}),(0,d.jsx)(h.SelectItem,{value:"thermal",children:"Thermal Receipt"})]})]})]})}),(0,d.jsx)("div",{ref:D,children:"thermal"===I?(0,d.jsx)("div",{ref:E,children:(0,d.jsx)(u.default,{sale:b,currency:ah,includePaymentInfo:A})}):(0,d.jsxs)("div",{className:`border-[1.5px] border-black ${z?"p-3":"p-6"} rounded-md`,children:[(0,d.jsx)("div",{className:"flex flex-col items-center mb-4 gap-2 text-center w-full",children:(0,d.jsxs)("div",{className:"w-full",children:[(0,d.jsx)("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-1",children:F.businessName?.toUpperCase()}),(0,d.jsx)("div",{className:`${z?"text-xs":"text-sm"} text-gray-600 font-medium`,children:F.businessAddress}),(0,d.jsxs)("div",{className:"text-xs sm:text-sm text-gray-600",children:["Phone: ",F.businessPhone," | Email: ",F.businessEmail]})]})}),(0,d.jsx)(p.Separator,{className:"my-3 sm:my-4 border-black border-t-[1.5px]"}),(0,d.jsx)("div",{className:"text-center mb-4",children:(0,d.jsx)("h1",{className:`font-bold ${z?"text-xl":"text-2xl"} uppercase tracking-wider text-gray-900`,children:"Quote"===b.paymentStatus?"QUOTATION":"Paid"===b.paymentStatus?"SALES RECEIPT":"INVOICE"})}),(0,d.jsxs)("div",{className:"flex justify-between mb-4 sm:mb-6 text-sm flex-wrap gap-2",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-semibold",children:[W," ",b.receiptNumber]}),(0,d.jsxs)("div",{children:["Date: ",(0,k.format)(ai,"MMM dd, yyyy")]})]}),(0,d.jsx)("div",{className:"text-right",children:(0,d.jsx)("div",{className:"font-semibold",children:b.paymentStatus})})]}),(0,d.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2 text-sm",children:"Customer Information:"}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("div",{children:b.customerName}),(0,d.jsx)("div",{children:b.customerAddress}),(0,d.jsx)("div",{children:b.customerContact})]})]}),(0,d.jsxs)("div",{className:"overflow-x-auto",children:[(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsxs)("table",{className:"w-full mb-4 sm:mb-6 text-sm",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"border-b border-black border-b-[1.5px]",children:[(0,d.jsx)("th",{className:"py-2 text-left bg-gray-200 px-2",children:"Description"}),(0,d.jsx)("th",{className:"py-2 text-right bg-gray-200 px-2",children:"Qty"}),(0,d.jsx)("th",{className:"py-2 text-right bg-gray-200 px-2",children:"Unit Price"}),(0,d.jsx)("th",{className:"py-2 text-right bg-gray-200 px-2",children:"Discount"}),(0,d.jsx)("th",{className:"py-2 text-right bg-gray-200 px-2",children:"Amount"})]})}),(0,d.jsx)("tbody",{children:b.items.map((a,b)=>{let c=a.quantity*a.price,e="amount"===a.discountType?a.discountAmount||0:c*(a.discountPercentage||0)/100;return(0,d.jsxs)("tr",{className:"border-b border-black",children:[(0,d.jsx)("td",{className:"py-2 sm:py-3 break-all whitespace-normal",children:a.description}),(0,d.jsx)("td",{className:"py-2 sm:py-3 text-right",children:(0,o.formatNumber)(a.quantity)}),(0,d.jsxs)("td",{className:"py-2 sm:py-3 text-right",children:[ah," ",(0,o.formatNumber)(a.price)]}),(0,d.jsx)("td",{className:"py-2 sm:py-3 text-right",children:"amount"===a.discountType?a.discountAmount&&a.discountAmount>0?`${ah} ${(0,o.formatNumber)(a.discountAmount)}`:"-":(a.discountPercentage||0)>0?`${a.discountPercentage}%`:"-"}),(0,d.jsxs)("td",{className:"py-2 sm:py-3 text-right",children:[ah," ",(0,o.formatNumber)(c-e)]})]},b)})}),(0,d.jsxs)("tfoot",{children:[(B=b.items.reduce((a,b)=>{let c=b.quantity*b.price,d="amount"===b.discountType?b.discountAmount||0:c*(b.discountPercentage||0)/100;return a+d},0),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("tr",{className:"border-t border-black border-t-[1.5px]",children:[(0,d.jsx)("td",{colSpan:4,className:"py-2 text-right font-medium bg-gray-200 px-2",children:"Subtotal (before discount):"}),(0,d.jsxs)("td",{className:"py-2 text-right bg-gray-200 px-2",children:[ah," ",(0,o.formatNumber)(X+B)]})]}),B>0&&(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:4,className:"py-2 text-right font-medium bg-orange-100 px-2",children:"Total Discount:"}),(0,d.jsxs)("td",{className:"py-2 text-right bg-orange-100 px-2",children:["-",ah," ",(0,o.formatNumber)(B)]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:4,className:"py-2 text-right font-medium bg-gray-200 px-2",children:"Subtotal:"}),(0,d.jsxs)("td",{className:"py-2 text-right bg-gray-200 px-2",children:[ah," ",(0,o.formatNumber)(X)]})]})]})),ad&&(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{colSpan:4,className:"py-2 text-right font-medium bg-gray-200 px-2",children:["Tax (",Y,"%):"]}),(0,d.jsxs)("td",{className:"py-2 text-right bg-gray-200 px-2",children:[ah," ",(0,o.formatNumber)(Z)]})]}),(0,d.jsxs)("tr",{className:"border-t border-black border-t-[1.5px] font-bold",children:[(0,d.jsx)("td",{colSpan:4,className:"py-2 sm:py-3 text-right bg-gray-300 px-2",children:"Total:"}),(0,d.jsxs)("td",{className:"py-2 sm:py-3 text-right bg-gray-300 px-2",children:[ah," ",(0,o.formatNumber)($)]})]}),ae&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:4,className:"py-2 text-right font-medium bg-blue-100 px-2",children:"Amount Paid:"}),(0,d.jsxs)("td",{className:"py-2 text-right bg-blue-100 px-2",children:[ah," ",(0,o.formatNumber)(aa)]})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{colSpan:4,className:"py-2 text-right font-medium bg-red-100 px-2",children:"Amount Due:"}),(0,d.jsxs)("td",{className:"py-2 text-right bg-red-100 px-2",children:[ah," ",(0,o.formatNumber)(ab)]})]})]}),(0,d.jsx)("tr",{children:(0,d.jsxs)("td",{colSpan:5,className:"py-2 sm:py-3 text-left border-t border-black px-2 italic",children:[(0,d.jsx)("span",{className:"font-medium",children:"Amount in words:"})," ",ah," ",ac," only"]})})]})]})}),(0,d.jsxs)("div",{className:"block sm:hidden",children:[(0,d.jsx)("div",{className:"border-b-2 border-black mb-2 pb-1 font-bold",children:"Items"}),b.items.map((a,b)=>{let c=a.quantity*a.price,e="amount"===a.discountType?a.discountAmount||0:c*(a.discountPercentage||0)/100;return(0,d.jsxs)("div",{className:"mb-3 border-b border-gray-200 pb-2 last:border-0",children:[(0,d.jsx)("div",{className:"font-bold text-sm mb-1 break-all whitespace-normal",children:a.description}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("div",{className:"text-gray-600",children:[(0,o.formatNumber)(a.quantity)," x ",ah," ",(0,o.formatNumber)(a.price)]}),(0,d.jsxs)("div",{className:"font-bold",children:[ah," ",(0,o.formatNumber)(c-e)]})]}),e>0&&(0,d.jsxs)("div",{className:"flex justify-between text-xs text-orange-600 italic mt-0.5",children:[(0,d.jsxs)("span",{children:["Discount ","percentage"===a.discountType?`(${a.discountPercentage}%)`:""]}),(0,d.jsxs)("span",{children:["-",ah," ",(0,o.formatNumber)(e)]})]})]},b)}),(0,d.jsxs)("div",{className:"mt-4 border-t-2 border-black pt-2 space-y-1",children:[(C=b.items.reduce((a,b)=>{let c=b.quantity*b.price,d="amount"===b.discountType?b.discountAmount||0:c*(b.discountPercentage||0)/100;return a+d},0),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"font-medium",children:"Subtotal (before disc):"}),(0,d.jsxs)("span",{children:[ah," ",(0,o.formatNumber)(X+C)]})]}),C>0&&(0,d.jsxs)("div",{className:"flex justify-between text-sm text-orange-600",children:[(0,d.jsx)("span",{className:"font-medium",children:"Total Discount:"}),(0,d.jsxs)("span",{children:["-",ah," ",(0,o.formatNumber)(C)]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsx)("span",{className:"font-medium",children:"Subtotal:"}),(0,d.jsxs)("span",{children:[ah," ",(0,o.formatNumber)(X)]})]})]})),ad&&(0,d.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,d.jsxs)("span",{className:"font-medium",children:["Tax (",Y,"%):"]}),(0,d.jsxs)("span",{children:[ah," ",(0,o.formatNumber)(Z)]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-base font-bold border-t border-black pt-1 mt-1",children:[(0,d.jsx)("span",{children:"Total:"}),(0,d.jsxs)("span",{children:[ah," ",(0,o.formatNumber)($)]})]}),ae&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex justify-between text-sm text-blue-600 pt-1",children:[(0,d.jsx)("span",{className:"font-medium",children:"Amount Paid:"}),(0,d.jsxs)("span",{children:[ah," ",(0,o.formatNumber)(aa)]})]}),(0,d.jsxs)("div",{className:"flex justify-between text-sm text-red-600",children:[(0,d.jsx)("span",{className:"font-medium",children:"Amount Due:"}),(0,d.jsxs)("span",{children:[ah," ",(0,o.formatNumber)(ab)]})]})]}),(0,d.jsxs)("div",{className:"pt-2 text-xs italic border-t border-gray-200 mt-2",children:[(0,d.jsx)("span",{className:"font-medium",children:"Words:"})," ",ah," ",ac," only"]})]})]})]}),ag&&(0,d.jsxs)("div",{className:"mt-4 pt-3 border-t border-black",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm mb-2",children:"Payment Information:"}),(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)("table",{className:"w-full text-sm",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-gray-200",children:[(0,d.jsx)("th",{className:"font-medium py-1 px-2 text-left",children:"Payment Method"}),(0,d.jsx)("th",{className:"font-medium py-1 px-2 text-left",children:"Account Number"}),(0,d.jsx)("th",{className:"font-medium py-1 px-2 text-left",children:"Account Name"})]})}),(0,d.jsx)("tbody",{children:af.filter(a=>""!==a.method.trim()||""!==a.accountNumber.trim()||""!==a.accountName.trim()).map((a,b)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:"py-1 px-2 font-medium",children:a.method}),(0,d.jsx)("td",{className:"py-1 px-2",children:a.accountNumber}),(0,d.jsx)("td",{className:"py-1 px-2",children:a.accountName})]},b))})]})})]}),b.notes&&(0,d.jsxs)("div",{className:"mt-4 pt-3 border-t border-black",children:[(0,d.jsx)("h3",{className:"font-semibold text-sm mb-2",children:"Notes:"}),(0,d.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:b.notes})]}),(0,d.jsxs)("div",{className:"text-center text-xs sm:text-sm mt-4 sm:mt-8",children:[(0,d.jsx)("p",{className:"font-medium",children:"Thank you for your business!"}),(0,d.jsx)("p",{className:"text-gray-600 text-xs mt-3",children:"Created by Gonza Systems"})]})]})})]})}]),c()}catch(a){c(a)}},!1),800735,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(109254),f=a.i(569834),g=a.i(12450),h=a.i(558277),i=a.i(734637),j=a.i(567326),k=b([e,f,g,j]);[e,f,g,j]=k.then?(await k)():k,a.s(["default",0,({isOpen:a,sale:b,currency:c,onOpenChange:k,includePaymentInfo:l=!0})=>(0,h.useIsMobile)()?(0,d.jsx)(f.Drawer,{open:a,onOpenChange:k,children:(0,d.jsx)(f.DrawerContent,{className:"max-h-[85vh]",children:(0,d.jsxs)("div",{className:"relative px-4 py-6 pb-8",children:[(0,d.jsxs)(f.DrawerClose,{className:"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,d.jsx)(i.X,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,d.jsx)(j.ScrollArea,{className:"h-[75vh] pr-4 pb-4",children:b&&(0,d.jsx)(g.default,{sale:b,currency:c,isMobile:!0,includePaymentInfo:l})})]})})}):(0,d.jsx)(e.Dialog,{open:a,onOpenChange:k,children:(0,d.jsx)(e.DialogContent,{className:"max-w-3xl max-h-[90vh]",children:(0,d.jsx)(j.ScrollArea,{className:"h-[80vh] pr-4",children:b&&(0,d.jsx)(g.default,{sale:b,currency:c,includePaymentInfo:l})})})})]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__cb40f8c3._.js.map