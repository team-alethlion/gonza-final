module.exports=[463021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},723862,a=>a.a(async(b,c)=>{try{let b=await a.y("pg-587764f78a6c7a9c");a.n(b),c()}catch(a){c(a)}},!0),180490,a=>{a.v({name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}})},522734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},632502,a=>a.a(async(b,c)=>{try{var d=a.i(137936),e=a.i(319343),f=a.i(713095),g=b([e]);async function h(a){try{let b=await e.db.branchSettings.findUnique({where:{branchId:a}});if(!b)return null;return{id:b.id,business_name:b.businessName,business_address:b.address,business_phone:b.phone,business_email:b.email,business_logo:b.logo,currency:b.currency,signature:b.signatureImage,metadata:b.metadata||{}}}catch(a){return console.error("Error fetching business settings:",a),null}}async function i(a,b,c){try{if(!await e.db.branch.findFirst({where:{id:a,OR:[{adminId:b},{users:{some:{id:b}}}]}}))return{success:!1,error:"Unauthorized to update branch settings"};let d={businessName:c.business_name,address:c.business_address,phone:c.business_phone,email:c.business_email,logo:c.business_logo,currency:c.currency,signatureImage:c.signature,metadata:c.metadata},f=await e.db.branchSettings.upsert({where:{branchId:a},update:d,create:{branchId:a,...d}});return{success:!0,data:{id:f.id,business_name:f.businessName,business_address:f.address,business_phone:f.phone,business_email:f.email,business_logo:f.logo,currency:f.currency,signature:f.signatureImage,metadata:f.metadata}}}catch(a){return console.error("Error upserting business settings:",a),{success:!1,error:a.message||"Failed to update settings"}}}async function j(a){try{let b=await e.db.user.findUnique({where:{id:a},select:{isFrozen:!0,createdAt:!0,subscriptions:{where:{status:"active"},orderBy:{endDate:"desc"},take:1},branches:{select:{id:!0}}}});if(!b)return null;let c=b.subscriptions[0],d=new Date,f=c?Math.ceil((c.endDate.getTime()-d.getTime())/864e5):0;return{is_frozen:b.isFrozen,location_limit:1,billing_amount:c?Number(c.amount):5e4,billing_duration:"Monthly",days_remaining:Math.max(0,f),next_billing_date:c?.endDate.toISOString()||""}}catch(a){return console.error("Error fetching account status:",a),{is_frozen:!1,location_limit:1,billing_amount:5e4,billing_duration:"Monthly",days_remaining:30,next_billing_date:""}}}async function k(a){try{let b=await e.db.branchSettings.findUnique({where:{branchId:a}});if(!b)return null;return{id:b.id,location_id:b.branchId,business_name:b.businessName,business_address:b.address,business_phone:b.phone,business_email:b.email,business_logo:b.logo,completed:!!b.businessName&&!!b.phone,is_frozen:!1}}catch(a){return console.error("Error fetching onboarding status:",a),null}}[e]=g.then?(await g)():g,(0,f.ensureServerEntryExports)([h,i,j,k]),(0,d.registerServerReference)(h,"40290a4fc6b8571a026afeb877566edb807919e482",null),(0,d.registerServerReference)(i,"70837cf9b9b85e45a6367e7e3a592457c34a990d2e",null),(0,d.registerServerReference)(j,"4011d3f24165a1ff4c6519d47357cf1974ec9d298f",null),(0,d.registerServerReference)(k,"40ee1dba433f3b3dc0f2791052194d1420c0946197",null),a.s(["getAccountStatusAction",()=>j,"getBusinessSettingsAction",()=>h,"getOnboardingStatusAction",()=>k,"upsertBusinessSettingsAction",()=>i]),c()}catch(a){c(a)}},!1),610111,a=>a.a(async(b,c)=>{try{var d=a.i(719789),e=a.i(657141),f=a.i(480453),g=a.i(632502),h=a.i(971358),i=a.i(419447),j=a.i(878274),k=b([d,e,f,g,h,i,j]);[d,e,f,g,h,i,j]=k.then?(await k)():k,a.s([]),c()}catch(a){c(a)}},!1),806186,a=>a.a(async(b,c)=>{try{var d=a.i(610111),e=a.i(719789),f=a.i(657141),g=a.i(480453),h=a.i(632502),i=a.i(971358),j=a.i(419447),k=a.i(878274),l=b([d,e,f,g,h,i,j,k]);[d,e,f,g,h,i,j,k]=l.then?(await l)():l,a.s(["00d7265d135808e9c70b4e1d48649ff9e645425b5c",()=>e.signOutAction,"4001af3a742114ad88aa5fa65b77c9b0daf7714c0e",()=>j.unlinkInstallmentFromCashAction,"40112c882b84370baebfbdd88b55390cbebe0d524d",()=>j.createInstallmentPaymentAction,"4011d3f24165a1ff4c6519d47357cf1974ec9d298f",()=>h.getAccountStatusAction,"40127fd3ae724f72ea4406ee7bf136a2e88120db7f",()=>j.createExpenseCategoryAction,"401d907b5cd7e0b2f207e9b555ac4fe2e14de08444",()=>k.logActivityAction,"40290a4fc6b8571a026afeb877566edb807919e482",()=>h.getBusinessSettingsAction,"402f81bafe02611b5b5687b2b85c12e36ea9604ccf",()=>j.createBulkCashTransactionsAction,"403ecd539ba07dc1ae97e837a5af133a7339b5cb64",()=>j.getExpensesAction,"4048df543ea89e6b499e78c5496b2ff9ac8b3367ff",()=>i.deleteSalesCategoryAction,"4051b0115f438ba3dd6196d0c8dbb545e2e4fbd8c4",()=>g.deleteRoleAction,"4052909717fb7c5829a34f18b1cedd1784304b0419",()=>g.getRolesAction,"4064724fc471e698ee76d294a980e2a65c0a9c856a",()=>j.createCashTransactionAction,"4071ca673ee83cf4e327275e6cacdae94950b7fa0e",()=>g.getProfilesAction,"40786257b46b845f51e5b90ff2502c389af049cc70",()=>j.getInstallmentPaymentsAction,"408055c65091de6e86656304d04a002881aed3acc6",()=>j.getCashAccountsAction,"4085da50dd0bf206cb5893edda258b1fb6087fb94b",()=>e.signUpAction,"408d7d1e536999dcf29cd979cf16838168c69252f0",()=>j.deleteExpenseCategoryAction,"408ffa5a6991ba3e64aa45862bed880555b1e6c2ac",()=>f.removeBusinessPasswordAction,"409394b83f001d081510671555a3855b10e38d2c72",()=>j.deleteInstallmentPaymentAction,"4097618b1feff5bb1f466d7ef73901ab8f5cb1ab7d",()=>f.getBusinessLocationsAction,"40a4b8447ff959c91ed080f8a56d7de9480694b288",()=>g.deleteProfileAction,"40a697434fd28c67d2c607c1f57f3439edf220a529",()=>j.getExpenseCategoriesAction,"40d192c7133b72d6eb22105e9bdccca4dd09d6c312",()=>i.getSalesCategoriesAction,"40d9064371ce5c0811194879498fdc849fbf872b8a",()=>i.deleteSaleAction,"40db42f6103f55b9f7ade5c65ca70a00feff7ff278",()=>j.findCashTransactionAction,"40ee1dba433f3b3dc0f2791052194d1420c0946197",()=>h.getOnboardingStatusAction,"40f5e1fa124fe3ebdec7f34b54a6837a1c32f5d22d",()=>j.deleteExpenseAction,"40fec0c16d5b967e0b7b13b4f39e9f33caa55d98fd",()=>j.createCashAccountAction,"600c0285b1a230950447aea12ad4361b35b7957acf",()=>f.deleteBusinessAction,"601a24df33adeed822b4de1bc4a7ea1dad51e405a6",()=>i.updateSaleCustomerAction,"601c76a41759792ff7ede8d55df9ffa468b0da22c2",()=>i.updateSalesCategoryAction,"601f435e1ee906932885a36b02b1480071685e0cc2",()=>e.signInAction,"6021a6dd25147899fbda211078cd44cca985d89362",()=>j.updateInstallmentPaymentAction,"60233cf66a8bd607780138afb600e5b4300ab3ce36",()=>j.getAccountOpeningBalanceAction,"6028252923753001f049a6422f229f06bbec8b1f79",()=>g.updateProfileAction,"602de18dc3faf52666fcf9224768f7ac9c1a6340ca",()=>i.getCustomerByNameAction,"60364422a73402f3b5e59fb0aa7bbc8b9374b14ab5",()=>f.verifyBusinessPasswordAction,"6050d5e4425dec9de12384682af8632685a43503f6",()=>j.getCashTransactionsAction,"605e333b82184dfc91eaa2d1fe6090163e41e2aa78",()=>j.deleteCashTransactionAction,"606359dfb6b88f4f4b756b5c416007efbe2fcb1fcc",()=>f.setBusinessPasswordAction,"608339c001209003cae74bf0c032c55c8444c1ef85",()=>g.createProfileAction,"609fff12b333f8481f6eaa00c9f6ed0ca7485d5f62",()=>j.deleteCashAccountAction,"60a22285198ef838d83b1b4a602809518cbd22267e",()=>j.getCashAccountBalanceAction,"60b4ae0f406ec773d479f8c810284331e005276a79",()=>e.resetPasswordAction,"60b753a09691b4217e6751307f35f59cee17dc35d7",()=>f.resetBusinessAction,"60cff6e1bde4cdde91ed3aaa29411ed65f1ac6b8ba",()=>j.updateCashAccountAction,"60d7c3d2a9fae9e08d24867d93fe36b7505e38a2e0",()=>f.createBusinessAction,"60e4c60d7aa378a229209542057eb77c66409f1850",()=>j.updateCashTransactionAction,"60fb2389f1a7f9190d01c7bd2da1f5e38add1594cd",()=>g.upsertRoleAction,"60ff4a4d37b8cdb46933c77d4c2feddf840c5c9e12",()=>j.createExpenseAction,"701a700c12f80accdeeab232d537f79439d8fe9e50",()=>j.deleteCashAccountWithTransactionsAction,"701e1ec289530654c83844b4eaf8773c09a902523e",()=>i.createReceiptAction,"703e9376bfaf2adbf9aba886e70ba6b561f6bf5e0c",()=>i.getSalesAction,"7062b9fc92a24c208cfe0ff340b8c459971725aba8",()=>j.createDefaultExpenseCategoriesAction,"707be093cac72269888b676c90752075900286c135",()=>i.upsertSaleAction,"70837cf9b9b85e45a6367e7e3a592457c34a990d2e",()=>h.upsertBusinessSettingsAction,"70d8f9fd83845cd0ba1effc4e3ccdba420d97bade6",()=>j.updateExpenseAction,"70d9b0558099fec3cea19015c6e9f34f169e8a6f38",()=>k.getActivityHistoryByTypeAction,"70dd23d5987603253209c3c012d3079124803d1be2",()=>f.updateBusinessAction,"78ab6573748e58002b49a105ac9332c6ce6438d0d6",()=>j.linkInstallmentToCashAction,"78f34606537592502556e5eff8bf435c75821848df",()=>i.createSalesCategoryAction,"7c50216f90d367a7092d0edb6ffc217f655b260170",()=>k.getActivityHistoryAction]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__75afd7a4._.js.map