{"version":3,"sources":["../../../../src/utils/thermalPrinterWeb.ts"],"sourcesContent":["let selectedPort: SerialPort | null = null;\r\n\r\nexport async function printWeb(data: string): Promise<{ success: boolean; message: string }> {\r\n  if (!('serial' in navigator)) {\r\n    return { success: false, message: 'Web Serial API not supported.' };\r\n  }\r\n\r\n  try {\r\n    const ports: SerialPort[] = await (navigator as any).serial.getPorts();\r\n    const port = ports.length ? ports[0] : await (navigator as any).serial.requestPort();\r\n    if (!port.readable || !port.writable) await port.open({ baudRate: 9600 });\r\n\r\n    const writer = port.writable.getWriter();\r\n    const encoder = new TextEncoder();\r\n    await writer.write(encoder.encode(data + '\\n\\n\\n'));\r\n    writer.releaseLock();\r\n\r\n    selectedPort = port;\r\n    return { success: true, message: 'Web print sent successfully.' };\r\n  } catch (err: any) {\r\n    return { success: false, message: `Web print failed: ${err?.message || err}` };\r\n  }\r\n}\r\n"],"names":[],"mappings":"uCAEO,eAAe,EAAS,CAAY,EACzC,GAAI,CAAC,CAAC,WAAY,SAAA,CAAS,CACzB,EAD4B,IACrB,CAAE,SAAS,EAAO,QAAS,+BAAgC,EAGpE,GAAI,CACF,IAAM,EAAsB,MAAO,UAAkB,MAAM,CAAC,QAAQ,GAC9D,EAAO,EAAM,MAAM,CAAG,CAAK,CAAC,EAAE,CAAG,MAAO,UAAkB,MAAM,CAAC,WAAW,EAC9E,CAAC,EAAK,QAAQ,EAAK,EAAD,AAAM,QAAQ,EAAE,MAAM,EAAK,IAAI,CAAC,CAAE,SAAU,IAAK,GAEvE,IAAM,EAAS,EAAK,QAAQ,CAAC,SAAS,GAChC,EAAU,IAAI,YAKpB,OAJA,MAAM,EAAO,KAAK,CAAC,EAAQ,MAAM,CAAC,EAAO,WACzC,EAAO,WAAW,GAGX,CAAE,SAAS,EAAM,QAAS,8BAA+B,CAClE,CAAE,MAAO,EAAU,CACjB,MAAO,CAAE,SAAS,EAAO,QAAS,CAAC,kBAAkB,EAAE,GAAK,SAAW,EAAA,CAAK,AAAC,CAC/E,CACF"}