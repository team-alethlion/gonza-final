module.exports=[424496,a=>a.a(async(b,c)=>{try{var d=a.i(127669),e=a.i(224993),f=a.i(799856),g=a.i(257257),h=b([e,f]);[e,f]=h.then?(await h)():h,a.s(["useExpenseData",0,(a,b,c)=>{let{settings:h}=(0,e.useBusinessSettings)(),i=(0,d.useMemo)(()=>{let a=h.currency||"USD";return b=>(0,f.formatCashCurrency)(b,a)},[h.currency]),j=(0,d.useMemo)(()=>{let d,e;if("all"===b)return a;if("custom"===b)d=c.from,e=c.to;else{let a=(0,g.getDateRangeFromFilter)(b);d=a.from,e=a.to}return a.filter(a=>(0,g.isDateInRange)(a.date,d,e))},[a,b,c]),k=(0,d.useMemo)(()=>{let a=j.reduce((a,b)=>a+b.amount,0),b=j.filter(a=>{let b=a.date.getMonth(),c=new Date().getMonth(),d=a.date.getFullYear(),e=new Date().getFullYear();return b===c&&d===e}).reduce((a,b)=>a+b.amount,0);return{totalExpenses:a,thisMonthExpenses:b,transactionCount:j.length}},[j]);return{filteredExpenses:j,expenseStats:k,formatCurrency:i}}]),c()}catch(a){c(a)}},!1),645808,a=>a.a(async(b,c)=>{try{var d=a.i(127669),e=a.i(108191),f=a.i(964889),g=a.i(531811),h=a.i(120343),i=b([f,g,h]);[f,g,h]=i.then?(await i)():i;let j=["Rent & Utilities","Salaries & Wages","Marketing & Advertising","Office Supplies & Equipment","Professional Services","Cost of bringing Goods","Delivery To Customer","Insurance","Licenses, Permits & Fees","Software & Subscriptions","Depreciation & Amortization","Training & Development","Communication","Bank & Transaction Fees","Miscellaneous"];a.s(["useExpenseCategories",0,()=>{let[a,b]=(0,d.useState)([]),[c,i]=(0,d.useState)(!0),{toast:k}=(0,e.useToast)(),{currentBusiness:l}=(0,f.useBusiness)(),{user:m}=(0,g.useAuth)(),n=(0,d.useCallback)(async()=>{if(!l?.id){b([]),i(!1);return}try{i(!0);let a=await (0,h.getExpenseCategoriesAction)(l.id);if(!a.success||!a.data)throw Error(a.error||"Failed to fetch categories");let c=a.data.map(a=>({...a,createdAt:new Date(a.createdAt)}));if(0===c.length)return void await o();b(c)}catch(a){console.error("Error loading expense categories:",a),k({title:"Error",description:"Failed to load expense categories",variant:"destructive"})}finally{i(!1)}},[l?.id,k]),o=async()=>{if(l?.id&&m?.id)try{(await (0,h.createDefaultExpenseCategoriesAction)(m.id,l.id,j)).success&&await n()}catch(a){console.error("Error creating default categories:",a)}},p=async c=>{if(!l?.id||!m?.id)return null;try{let d=a.find(a=>a.name.toLowerCase()===c.toLowerCase());if(d)return k({title:"Category exists",description:"This category already exists."}),d;let e=await (0,h.createExpenseCategoryAction)({userId:m.id,locationId:l.id,name:c,isDefault:!1});if(!e.success||!e.data)throw Error(e.error);let f={...e.data,createdAt:new Date(e.data.createdAt)};return b(a=>[...a,f]),f}catch(a){return console.error("Error creating category:",a),k({title:"Error",description:"Failed to create category",variant:"destructive"}),null}},q=async a=>{try{let c=await (0,h.deleteExpenseCategoryAction)(a);if(!c.success)throw Error(c.error);return b(b=>b.filter(b=>b.id!==a)),k({title:"Success",description:"Category deleted successfully"}),!0}catch(a){return console.error("Error deleting category:",a),k({title:"Error",description:"Failed to delete category",variant:"destructive"}),!1}};return(0,d.useEffect)(()=>{n()},[n]),{categories:a,isLoading:c,createCategory:p,deleteCategory:q,refreshCategories:n}}]),c()}catch(a){c(a)}},!1),484567,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(645808),g=a.i(396465),h=a.i(112779),i=a.i(397625),j=a.i(946032),k=a.i(493901),l=a.i(279780),m=a.i(109254),n=a.i(893759),o=a.i(567326),p=a.i(899054),q=b([f,g,h,i,m,n,o,p]);[f,g,h,i,m,n,o,p]=q.then?(await q)():q,a.s(["default",0,()=>{let{categories:a,createCategory:b,deleteCategory:c}=(0,f.useExpenseCategories)(),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!1),w=async()=>{if(q.trim()){t(!0);try{await b(q.trim())&&r("")}finally{t(!1)}}},x=async a=>{t(!0);try{await c(a)}finally{t(!1)}};return(0,d.jsxs)(m.Dialog,{open:u,onOpenChange:v,children:[(0,d.jsx)(m.DialogTrigger,{asChild:!0,children:(0,d.jsxs)(g.Button,{variant:"outline",className:"gap-2",children:[(0,d.jsx)(l.Tag,{className:"h-4 w-4"}),"Expense Categories"]})}),(0,d.jsxs)(m.DialogContent,{className:"sm:max-w-md",children:[(0,d.jsxs)(m.DialogHeader,{children:[(0,d.jsx)(m.DialogTitle,{children:"Expense Categories"}),(0,d.jsx)(m.DialogDescription,{children:"Manage your expense categories."})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.Label,{htmlFor:"newCategory",children:"Add New Category"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Input,{id:"newCategory",placeholder:"Enter category name",value:q,onChange:a=>r(a.target.value),onKeyPress:a=>"Enter"===a.key&&w()}),(0,d.jsx)(g.Button,{onClick:w,disabled:!q.trim()||s,size:"sm",children:(0,d.jsx)(k.Plus,{className:"h-4 w-4"})})]})]}),(0,d.jsx)("div",{className:"space-y-3",children:a.length>0?(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Categories"}),(0,d.jsx)(o.ScrollArea,{className:"h-64 rounded-md border p-2",children:(0,d.jsx)("div",{className:"space-y-1",children:a.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-md hover:bg-gray-50",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(l.Tag,{className:"h-3 w-3 text-gray-500"}),(0,d.jsx)("span",{className:"text-sm",children:a.name}),a.isDefault&&(0,d.jsx)(p.Badge,{variant:"secondary",className:"text-xs",children:"Default"})]}),(0,d.jsxs)(n.AlertDialog,{children:[(0,d.jsx)(n.AlertDialogTrigger,{asChild:!0,children:(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,d.jsx)(j.Trash2,{className:"h-3 w-3 text-red-500"})})}),(0,d.jsxs)(n.AlertDialogContent,{children:[(0,d.jsxs)(n.AlertDialogHeader,{children:[(0,d.jsx)(n.AlertDialogTitle,{children:"Delete Category"}),(0,d.jsxs)(n.AlertDialogDescription,{children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone.']})]}),(0,d.jsxs)(n.AlertDialogFooter,{children:[(0,d.jsx)(n.AlertDialogCancel,{children:"Cancel"}),(0,d.jsx)(n.AlertDialogAction,{onClick:()=>x(a.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]},a.id))})})]}):(0,d.jsx)("div",{className:"text-center py-4 text-sm text-gray-500",children:"No categories yet. Add one above to get started."})})]}),(0,d.jsx)(m.DialogFooter,{children:(0,d.jsx)(m.DialogClose,{asChild:!0,children:(0,d.jsx)(g.Button,{variant:"outline",children:"Close"})})})]})]})}]),c()}catch(a){c(a)}},!1),123561,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(493901),f=a.i(737098),g=a.i(532572),h=a.i(199987),i=a.i(455756),j=a.i(396465),k=a.i(484567),l=a.i(558277),m=b([j,k]);[j,k]=m.then?(await m)():m,a.s(["default",0,({onAddExpense:a,onAddBulkExpense:b,onImportExpenses:c,onRefresh:m,isRefreshing:n,onExportCSV:o,onExportPDF:p,onDownloadTemplate:q,canCreate:r=!0})=>{let s=(0,l.useIsMobile)();return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Expenses"}),(0,d.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Track and manage your business expenses"})]}),(0,d.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[r&&(0,d.jsxs)(j.Button,{onClick:a,className:"gap-2 text-sm bg-red-600 hover:bg-red-700 shadow-sm",size:s?"sm":"default",children:[(0,d.jsx)(e.Plus,{className:"h-4 w-4"}),"Add Expense"]}),(0,d.jsxs)(j.Button,{variant:"outline",onClick:m,disabled:n,className:"gap-2 text-sm",size:s?"sm":"default",children:[(0,d.jsx)(f.RefreshCcw,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Refresh"]}),(0,d.jsxs)(j.Button,{variant:"outline",onClick:q,className:"gap-2 text-sm border-green-200 dark:border-green-900/30 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/10",size:s?"sm":"default",children:[(0,d.jsx)(g.Download,{className:"h-4 w-4"}),"Template"]}),(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsx)(k.default,{})})]}),(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-2 pt-1 border-t border-slate-100 dark:border-slate-800/50 mt-2",children:[r&&(0,d.jsxs)(j.Button,{variant:"ghost",onClick:b,className:"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:[(0,d.jsx)(e.Plus,{className:"h-3.5 w-3.5"}),"Bulk Entry"]}),r&&(0,d.jsxs)(j.Button,{variant:"ghost",onClick:c,className:"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10",children:[(0,d.jsx)(i.Upload,{className:"h-3.5 w-3.5"}),"Import"]}),(0,d.jsx)("div",{className:"h-4 w-[1px] bg-slate-200 dark:bg-slate-700 mx-1"}),o&&(0,d.jsxs)(j.Button,{variant:"ghost",onClick:o,className:"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/10",children:[(0,d.jsx)(h.FileText,{className:"h-3.5 w-3.5"}),"CSV Export"]}),p&&(0,d.jsxs)(j.Button,{variant:"ghost",onClick:p,className:"gap-2 text-xs h-8 px-3 text-slate-600 dark:text-slate-400 hover:text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/10",children:[(0,d.jsx)(h.FileText,{className:"h-3.5 w-3.5"}),"PDF Export"]}),(0,d.jsx)("div",{className:"sm:hidden block ml-auto",children:(0,d.jsx)(k.default,{})})]})]})}]),c()}catch(a){c(a)}},!1),42668,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(811705),f=a.i(625250),g=b([e,f]);[e,f]=g.then?(await g)():g,a.s(["default",0,({totalExpenses:a,thisMonthExpenses:b,transactionCount:c,formatCurrency:g,dateFilter:h})=>{let{canViewTotalExpenses:i}=(0,f.useFinancialVisibility)();return(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)(e.Card,{children:[(0,d.jsx)(e.CardHeader,{className:"pb-3",children:(0,d.jsxs)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:["Total Expenses (","all"===h?"All Time":h.replace("-"," ").replace(/\b\w/g,a=>a.toUpperCase()),")"]})}),(0,d.jsx)(e.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold text-red-600",children:i?g(a):"•••"})})]}),(0,d.jsxs)(e.Card,{children:[(0,d.jsx)(e.CardHeader,{className:"pb-3",children:(0,d.jsx)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"This Month"})}),(0,d.jsx)(e.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold",children:i?g(b):"•••"})})]}),(0,d.jsxs)(e.Card,{children:[(0,d.jsx)(e.CardHeader,{className:"pb-3",children:(0,d.jsx)(e.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Transactions"})}),(0,d.jsx)(e.CardContent,{children:(0,d.jsx)("div",{className:"text-2xl font-bold",children:c})})]})]})}]),c()}catch(a){c(a)}},!1),860971,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(811705),f=b([e]);[e]=f.then?(await f)():f,a.s(["default",0,({filteredExpenses:a,formatCurrency:b})=>(0,d.jsxs)(e.Card,{children:[(0,d.jsx)(e.CardHeader,{className:"pb-3 md:pb-6",children:(0,d.jsx)(e.CardTitle,{className:"text-lg md:text-xl",children:"Recent Expenses"})}),(0,d.jsx)(e.CardContent,{className:"px-3 md:px-6",children:0===a.length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"text-muted-foreground",children:"No expenses found for the selected period."})}):(0,d.jsx)("div",{className:"space-y-4",children:a.slice(0,10).map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("div",{className:"font-medium",children:a.description}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.date.toLocaleDateString()," • ",a.category||"Uncategorized"]})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"font-semibold text-red-600",children:b(a.amount)}),a.cashAccountId&&(0,d.jsx)("div",{className:"text-xs text-muted-foreground",children:"Linked to Cash"})]})]},a.id))})})]})]),c()}catch(a){c(a)}},!1),265362,(a,b,c)=>{var d=a.r(207902),e=a.r(375537),f=a.r(937347);b.exports=function(a,b){return a&&a.length?d(a,f(b,2),e):void 0}},680466,(a,b,c)=>{var d=a.r(207902),e=a.r(937347),f=a.r(398498);b.exports=function(a,b){return a&&a.length?d(a,e(b,2),f):void 0}},204779,a=>{"use strict";var b=a.i(127669),c=a.i(346350),d=a.i(986011),e=a.i(442558),f=a.i(687620),g=a.i(933029),h=a.i(195558),i=a.i(440794),j=a.i(149795),k=a.i(469385),l=a.i(300624),m=a.i(546488),n=a.i(504073),o=a.i(440063),p=a.i(234035),q=a.i(2863),r=a.i(323122),s=a.i(597918),t=a.i(599533),u=a.i(450567),v=a.i(990780);function w(a){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function x(){return(x=Object.assign.bind()).apply(this,arguments)}function y(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function z(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?y(Object(c),!0).forEach(function(b){E(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function A(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,F(d.key),d)}}function B(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(B=function(){return!!a})()}function C(a){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function D(a,b){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function E(a,b,c){return(b=F(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function F(a){var b=function(a,b){if("object"!=w(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=w(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==w(b)?b:b+""}var G=function(a){var n,p;function t(a){var b,c,d;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");return c=t,d=[a],c=C(c),E(b=function(a,b){if(b&&("object"===w(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,B()?Reflect.construct(c,d||[],C(this).constructor):c.apply(this,d)),"pieRef",null),E(b,"sectorRefs",[]),E(b,"id",(0,r.uniqueId)("recharts-pie-")),E(b,"handleAnimationEnd",function(){var a=b.props.onAnimationEnd;b.setState({isAnimationFinished:!0}),(0,g.default)(a)&&a()}),E(b,"handleAnimationStart",function(){var a=b.props.onAnimationStart;b.setState({isAnimationFinished:!1}),(0,g.default)(a)&&a()}),b.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&D(t,a),n=[{key:"isActiveIndex",value:function(a){var b=this.props.activeIndex;return Array.isArray(b)?-1!==b.indexOf(a):a===b}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?0!==a.length:a||0===a}},{key:"renderLabels",value:function(a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.label,e=c.labelLine,g=c.dataKey,h=c.valueKey,j=(0,o.filterProps)(this.props,!1),k=(0,o.filterProps)(d,!1),l=(0,o.filterProps)(e,!1),m=d&&d.offsetRadius||20,n=a.map(function(a,c){var n=(a.startAngle+a.endAngle)/2,o=(0,q.polarToCartesian)(a.cx,a.cy,a.outerRadius+m,n),p=z(z(z(z({},j),a),{},{stroke:"none"},k),{},{index:c,textAnchor:t.getTextAnchor(o.x,a.cx)},o),r=z(z(z(z({},j),a),{},{fill:"none",stroke:a.fill},l),{},{index:c,points:[(0,q.polarToCartesian)(a.cx,a.cy,a.outerRadius,n),o]}),u=g;return(0,f.default)(g)&&(0,f.default)(h)?u="value":(0,f.default)(g)&&(u=h),b.default.createElement(i.Layer,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(c)},e&&t.renderLabelLineItem(e,r,"line"),t.renderLabelItem(d,p,(0,s.getValueByDataKey)(a,u)))});return b.default.createElement(i.Layer,{className:"recharts-pie-labels"},n)}},{key:"renderSectorsStatically",value:function(a){var c=this,d=this.props,e=d.activeShape,f=d.blendStroke,g=d.inactiveShape;return a.map(function(d,h){if((null==d?void 0:d.startAngle)===0&&(null==d?void 0:d.endAngle)===0&&1!==a.length)return null;var j=c.isActiveIndex(h),k=g&&c.hasActiveIndex()?g:null,l=z(z({},d),{},{stroke:f?d.fill:d.stroke,tabIndex:-1});return b.default.createElement(i.Layer,x({ref:function(a){a&&!c.sectorRefs.includes(a)&&c.sectorRefs.push(a)},tabIndex:-1,className:"recharts-pie-sector"},(0,u.adaptEventsOfChild)(c.props,d,h),{key:"sector-".concat(null==d?void 0:d.startAngle,"-").concat(null==d?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),b.default.createElement(v.Shape,x({option:j?e:k,isActive:j,shapeType:"sector"},l)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,e=this.props,f=e.sectors,g=e.isAnimationActive,h=e.animationBegin,j=e.animationDuration,k=e.animationEasing,l=e.animationId,m=this.state,n=m.prevSectors,o=m.prevIsAnimationActive;return b.default.createElement(c.default,{begin:h,duration:j,isActive:g,easing:k,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(o),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(c){var e=c.t,g=[],h=(f&&f[0]).startAngle;return f.forEach(function(a,b){var c=n&&n[b],f=b>0?(0,d.default)(a,"paddingAngle",0):0;if(c){var i=(0,r.interpolateNumber)(c.endAngle-c.startAngle,a.endAngle-a.startAngle),j=z(z({},a),{},{startAngle:h+f,endAngle:h+i(e)+f});g.push(j),h=j.endAngle}else{var k=a.endAngle,l=a.startAngle,m=(0,r.interpolateNumber)(0,k-l)(e),o=z(z({},a),{},{startAngle:h+f,endAngle:h+m+f});g.push(o),h=o.endAngle}}),b.default.createElement(i.Layer,null,a.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(a){var b=this;a.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":var c=++b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[c].focus(),b.setState({sectorToFocus:c});break;case"ArrowRight":var d=--b.state.sectorToFocus<0?b.sectorRefs.length-1:b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[d].focus(),b.setState({sectorToFocus:d});break;case"Escape":b.sectorRefs[b.state.sectorToFocus].blur(),b.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var a=this.props,b=a.sectors,c=a.isAnimationActive,d=this.state.prevSectors;return c&&b&&b.length&&(!d||!(0,e.default)(d,b))?this.renderSectorsWithAnimation():this.renderSectorsStatically(b)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,c=this.props,d=c.hide,e=c.sectors,f=c.className,g=c.label,j=c.cx,k=c.cy,n=c.innerRadius,o=c.outerRadius,p=c.isAnimationActive,q=this.state.isAnimationFinished;if(d||!e||!e.length||!(0,r.isNumber)(j)||!(0,r.isNumber)(k)||!(0,r.isNumber)(n)||!(0,r.isNumber)(o))return null;var s=(0,h.default)("recharts-pie",f);return b.default.createElement(i.Layer,{tabIndex:this.props.rootTabIndex,className:s,ref:function(b){a.pieRef=b}},this.renderSectors(),g&&this.renderLabels(e),l.Label.renderCallByParent(this.props,null,!1),(!p||q)&&m.LabelList.renderCallByParent(this.props,e,!1))}}],p=[{key:"getDerivedStateFromProps",value:function(a,b){return b.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:b.curSectors,isAnimationFinished:!0}:a.sectors!==b.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,b){return a>b?"start":a<b?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,c,d){if(b.default.isValidElement(a))return b.default.cloneElement(a,c);if((0,g.default)(a))return a(c);var e=(0,h.default)("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return b.default.createElement(j.Curve,x({},c,{key:d,type:"linear",className:e}))}},{key:"renderLabelItem",value:function(a,c,d){if(b.default.isValidElement(a))return b.default.cloneElement(a,c);var e=d;if((0,g.default)(a)&&(e=a(c),b.default.isValidElement(e)))return e;var f=(0,h.default)("recharts-pie-label-text","boolean"==typeof a||(0,g.default)(a)?"":a.className);return b.default.createElement(k.Text,x({},c,{alignmentBaseline:"middle",className:f}),e)}}],n&&A(t.prototype,n),p&&A(t,p),Object.defineProperty(t,"prototype",{writable:!1}),t}(b.PureComponent);E(G,"displayName","Pie"),E(G,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!p.Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),E(G,"parseDeltaAngle",function(a,b){return(0,r.mathSign)(b-a)*Math.min(Math.abs(b-a),360)}),E(G,"getRealPieData",function(a){var b=a.data,c=a.children,d=(0,o.filterProps)(a,!1),e=(0,o.findAllByType)(c,n.Cell);return b&&b.length?b.map(function(a,b){return z(z(z({payload:a},d),a),e&&e[b]&&e[b].props)}):e&&e.length?e.map(function(a){return z(z({},d),a.props)}):[]}),E(G,"parseCoordinateOfPie",function(a,b){var c=b.top,d=b.left,e=b.width,f=b.height,g=(0,q.getMaxRadius)(e,f);return{cx:d+(0,r.getPercentValue)(a.cx,e,e/2),cy:c+(0,r.getPercentValue)(a.cy,f,f/2),innerRadius:(0,r.getPercentValue)(a.innerRadius,g,0),outerRadius:(0,r.getPercentValue)(a.outerRadius,g,.8*g),maxRadius:a.maxRadius||Math.sqrt(e*e+f*f)/2}}),E(G,"getComposedData",function(a){var b,c,d=a.item,e=a.offset,g=void 0!==d.type.defaultProps?z(z({},d.type.defaultProps),d.props):d.props,h=G.getRealPieData(g);if(!h||!h.length)return null;var i=g.cornerRadius,j=g.startAngle,k=g.endAngle,l=g.paddingAngle,m=g.dataKey,n=g.nameKey,o=g.valueKey,p=g.tooltipType,u=Math.abs(g.minAngle),v=G.parseCoordinateOfPie(g,e),w=G.parseDeltaAngle(j,k),x=Math.abs(w),y=m;(0,f.default)(m)&&(0,f.default)(o)?((0,t.warn)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):(0,f.default)(m)&&((0,t.warn)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=o);var A=h.filter(function(a){return 0!==(0,s.getValueByDataKey)(a,y,0)}).length,B=x-A*u-(x>=360?A:A-1)*l,C=h.reduce(function(a,b){var c=(0,s.getValueByDataKey)(b,y,0);return a+((0,r.isNumber)(c)?c:0)},0);return C>0&&(b=h.map(function(a,b){var d,e=(0,s.getValueByDataKey)(a,y,0),f=(0,s.getValueByDataKey)(a,n,b),g=((0,r.isNumber)(e)?e:0)/C,h=(d=b?c.endAngle+(0,r.mathSign)(w)*l*(0!==e):j)+(0,r.mathSign)(w)*((0!==e?u:0)+g*B),k=(d+h)/2,m=(v.innerRadius+v.outerRadius)/2,o=[{name:f,value:e,payload:a,dataKey:y,type:p}],t=(0,q.polarToCartesian)(v.cx,v.cy,m,k);return c=z(z(z({percent:g,cornerRadius:i,name:f,tooltipPayload:o,midAngle:k,middleRadius:m,tooltipPosition:t},a),v),{},{value:(0,s.getValueByDataKey)(a,y),startAngle:d,endAngle:h,payload:a,paddingAngle:(0,r.mathSign)(w)*l})})),z(z({},v),{},{sectors:b,data:h})}),a.s(["Pie",()=>G])},336006,a=>{"use strict";var b=a.i(703737),c=a.i(127669),d=a.i(933029),e=a.i(195558),f=a.i(440794),g=a.i(673486),h=a.i(440063),i=["points","className","baseLinePoints","connectNulls"];function j(){return(j=Object.assign.bind()).apply(this,arguments)}function k(a){return function(a){if(Array.isArray(a))return l(a)}(a)||function(a){if("u">typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return l(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,void 0)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var m=function(a){return a&&a.x===+a.x&&a.y===+a.y},n=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=[[]];return a.forEach(function(a){m(a)?b[b.length-1].push(a):b[b.length-1].length>0&&b.push([])}),m(a[0])&&b[b.length-1].push(a[0]),b[b.length-1].length<=0&&(b=b.slice(0,-1)),b},o=function(a,b){var c=n(a);b&&(c=[c.reduce(function(a,b){return[].concat(k(a),k(b))},[])]);var d=c.map(function(a){return a.reduce(function(a,b,c){return"".concat(a).concat(0===c?"M":"L").concat(b.x,",").concat(b.y)},"")}).join("");return 1===c.length?"".concat(d,"Z"):d},p=function(a,b,c){var d=o(a,c);return"".concat("Z"===d.slice(-1)?d.slice(0,-1):d,"L").concat(o(b.reverse(),c).slice(1))},q=function(a){var b=a.points,d=a.className,f=a.baseLinePoints,g=a.connectNulls,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,i);if(!b||!b.length)return null;var l=(0,e.default)("recharts-polygon",d);if(f&&f.length){var m=k.stroke&&"none"!==k.stroke,n=p(b,f,g);return c.default.createElement("g",{className:l},c.default.createElement("path",j({},(0,h.filterProps)(k,!0),{fill:"Z"===n.slice(-1)?k.fill:"none",stroke:"none",d:n})),m?c.default.createElement("path",j({},(0,h.filterProps)(k,!0),{fill:"none",d:o(b,g)})):null,m?c.default.createElement("path",j({},(0,h.filterProps)(k,!0),{fill:"none",d:o(f,g)})):null)}var q=o(b,g);return c.default.createElement("path",j({},(0,h.filterProps)(k,!0),{fill:"Z"===q.slice(-1)?k.fill:"none",className:l,d:q}))},r=a.i(469385),s=a.i(450567),t=a.i(2863);function u(a){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function v(){return(v=Object.assign.bind()).apply(this,arguments)}function w(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function x(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?w(Object(c),!0).forEach(function(b){C(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):w(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function y(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,D(d.key),d)}}function z(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(z=function(){return!!a})()}function A(a){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function B(a,b){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function C(a,b,c){return(b=D(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function D(a){var b=function(a,b){if("object"!=u(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=u(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==u(b)?b:b+""}var E=Math.PI/180,F=function(a){var b,i;function j(){var a,b;if(!(this instanceof j))throw TypeError("Cannot call a class as a function");return a=j,b=arguments,a=A(a),function(a,b){if(b&&("object"===u(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,z()?Reflect.construct(a,b||[],A(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return j.prototype=Object.create(a&&a.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),a&&B(j,a),b=[{key:"getTickLineCoord",value:function(a){var b=this.props,c=b.cx,d=b.cy,e=b.radius,f=b.orientation,g=b.tickSize,h=(0,t.polarToCartesian)(c,d,e,a.coordinate),i=(0,t.polarToCartesian)(c,d,e+("inner"===f?-1:1)*(g||8),a.coordinate);return{x1:h.x,y1:h.y,x2:i.x,y2:i.y}}},{key:"getTickTextAnchor",value:function(a){var b=this.props.orientation,c=Math.cos(-a.coordinate*E);return c>1e-5?"outer"===b?"start":"end":c<-1e-5?"outer"===b?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,d=a.cy,e=a.radius,f=a.axisLine,i=a.axisLineType,j=x(x({},(0,h.filterProps)(this.props,!1)),{},{fill:"none"},(0,h.filterProps)(f,!1));if("circle"===i)return c.default.createElement(g.Dot,v({className:"recharts-polar-angle-axis-line"},j,{cx:b,cy:d,r:e}));var k=this.props.ticks.map(function(a){return(0,t.polarToCartesian)(b,d,e,a.coordinate)});return c.default.createElement(q,v({className:"recharts-polar-angle-axis-line"},j,{points:k}))}},{key:"renderTicks",value:function(){var a=this,b=this.props,d=b.ticks,g=b.tick,i=b.tickLine,k=b.tickFormatter,l=b.stroke,m=(0,h.filterProps)(this.props,!1),n=(0,h.filterProps)(g,!1),o=x(x({},m),{},{fill:"none"},(0,h.filterProps)(i,!1)),p=d.map(function(b,d){var h=a.getTickLineCoord(b),p=x(x(x({textAnchor:a.getTickTextAnchor(b)},m),{},{stroke:"none",fill:l},n),{},{index:d,payload:b,x:h.x2,y:h.y2});return c.default.createElement(f.Layer,v({className:(0,e.default)("recharts-polar-angle-axis-tick",(0,t.getTickClassName)(g)),key:"tick-".concat(b.coordinate)},(0,s.adaptEventsOfChild)(a.props,b,d)),i&&c.default.createElement("line",v({className:"recharts-polar-angle-axis-tick-line"},o,h)),g&&j.renderTickItem(g,p,k?k(b.value,d):b.value))});return c.default.createElement(f.Layer,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var a=this.props,b=a.ticks,d=a.radius,g=a.axisLine;return!(d<=0)&&b&&b.length?c.default.createElement(f.Layer,{className:(0,e.default)("recharts-polar-angle-axis",this.props.className)},g&&this.renderAxisLine(),this.renderTicks()):null}}],i=[{key:"renderTickItem",value:function(a,b,e){return c.default.isValidElement(a)?c.default.cloneElement(a,b):(0,d.default)(a)?a(b):c.default.createElement(r.Text,v({},b,{className:"recharts-polar-angle-axis-tick-value"}),e)}}],b&&y(j.prototype,b),i&&y(j,i),Object.defineProperty(j,"prototype",{writable:!1}),j}(c.PureComponent);C(F,"displayName","PolarAngleAxis"),C(F,"axisType","angleAxis"),C(F,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var G=a.i(265362),H=a.i(680466),I=a.i(300624),J=["cx","cy","angle","ticks","axisLine"],K=["ticks","tick","angle","tickFormatter","stroke"];function L(a){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function M(){return(M=Object.assign.bind()).apply(this,arguments)}function N(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function O(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?N(Object(c),!0).forEach(function(b){U(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):N(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function P(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Q(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,V(d.key),d)}}function R(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(R=function(){return!!a})()}function S(a){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function T(a,b){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function U(a,b,c){return(b=V(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function V(a){var b=function(a,b){if("object"!=L(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=L(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==L(b)?b:b+""}var W=function(a){var b,g;function i(){var a,b;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");return a=i,b=arguments,a=S(a),function(a,b){if(b&&("object"===L(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,R()?Reflect.construct(a,b||[],S(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),a&&T(i,a),b=[{key:"getTickValueCoord",value:function(a){var b=a.coordinate,c=this.props,d=c.angle,e=c.cx,f=c.cy;return(0,t.polarToCartesian)(e,f,b,d)}},{key:"getTickTextAnchor",value:function(){var a;switch(this.props.orientation){case"left":a="end";break;case"right":a="start";break;default:a="middle"}return a}},{key:"getViewBox",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.angle,e=a.ticks,f=(0,G.default)(e,function(a){return a.coordinate||0});return{cx:b,cy:c,startAngle:d,endAngle:d,innerRadius:(0,H.default)(e,function(a){return a.coordinate||0}).coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,d=a.cy,e=a.angle,f=a.ticks,g=a.axisLine,i=P(a,J),j=f.reduce(function(a,b){return[Math.min(a[0],b.coordinate),Math.max(a[1],b.coordinate)]},[1/0,-1/0]),k=(0,t.polarToCartesian)(b,d,j[0],e),l=(0,t.polarToCartesian)(b,d,j[1],e),m=O(O(O({},(0,h.filterProps)(i,!1)),{},{fill:"none"},(0,h.filterProps)(g,!1)),{},{x1:k.x,y1:k.y,x2:l.x,y2:l.y});return c.default.createElement("line",M({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var a=this,b=this.props,d=b.ticks,g=b.tick,j=b.angle,k=b.tickFormatter,l=b.stroke,m=P(b,K),n=this.getTickTextAnchor(),o=(0,h.filterProps)(m,!1),p=(0,h.filterProps)(g,!1),q=d.map(function(b,d){var h=a.getTickValueCoord(b),m=O(O(O(O({textAnchor:n,transform:"rotate(".concat(90-j,", ").concat(h.x,", ").concat(h.y,")")},o),{},{stroke:"none",fill:l},p),{},{index:d},h),{},{payload:b});return c.default.createElement(f.Layer,M({className:(0,e.default)("recharts-polar-radius-axis-tick",(0,t.getTickClassName)(g)),key:"tick-".concat(b.coordinate)},(0,s.adaptEventsOfChild)(a.props,b,d)),i.renderTickItem(g,m,k?k(b.value,d):b.value))});return c.default.createElement(f.Layer,{className:"recharts-polar-radius-axis-ticks"},q)}},{key:"render",value:function(){var a=this.props,b=a.ticks,d=a.axisLine,g=a.tick;return b&&b.length?c.default.createElement(f.Layer,{className:(0,e.default)("recharts-polar-radius-axis",this.props.className)},d&&this.renderAxisLine(),g&&this.renderTicks(),I.Label.renderCallByParent(this.props,this.getViewBox())):null}}],g=[{key:"renderTickItem",value:function(a,b,e){return c.default.isValidElement(a)?c.default.cloneElement(a,b):(0,d.default)(a)?a(b):c.default.createElement(r.Text,M({},b,{className:"recharts-polar-radius-axis-tick-value"}),e)}}],b&&Q(i.prototype,b),g&&Q(i,g),Object.defineProperty(i,"prototype",{writable:!1}),i}(c.PureComponent);U(W,"displayName","PolarRadiusAxis"),U(W,"axisType","radiusAxis"),U(W,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var X=a.i(204779),Y=(0,b.generateCategoricalChart)({chartName:"PieChart",GraphicalChild:X.Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:F},{axisType:"radiusAxis",AxisComp:W}],formatAxisMap:t.formatAxisMap,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});a.s(["PieChart",()=>Y],336006)},186859,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(811705),g=a.i(148608),h=a.i(336006),i=a.i(204779),j=a.i(698887),k=a.i(504073),l=a.i(563641),m=a.i(625250),n=b([f,g,m]);[f,g,m]=n.then?(await n)():n;let o=["#9b87f5","#7E69AB","#6E59A5","#D6BCFA","#E5DEFF","#0EA5E9","#F97316","#D946EF","#F2FCE2","#FEF7CD","#FEC6A1","#FFDEE2","#FDE1D3","#D3E4FD","#F1F0FB"];a.s(["default",0,({expenses:a,formatCurrency:b})=>{let{canViewTotalExpenses:c}=(0,m.useFinancialVisibility)(),[n,p]=(0,e.useState)("category"),q=(0,e.useMemo)(()=>{let b=a.reduce((a,b)=>a+b.amount,0);if("category"===n){let c=new Map;return a.forEach(a=>{let b=(a.category||"Uncategorized").toLowerCase().trim(),d=c.get(b);d?(d.total+=a.amount,d.count+=1):c.set(b,{total:a.amount,count:1})}),Array.from(c.entries()).map(([a,{total:c,count:d}])=>({name:a.charAt(0).toUpperCase()+a.slice(1),value:c,percentage:c/b*100,count:d})).sort((a,b)=>b.value-a.value)}{let c=new Map;return a.forEach(a=>{let b=(a.personInCharge||"Unassigned").toLowerCase().trim(),d=c.get(b);d?(d.total+=a.amount,d.count+=1):c.set(b,{total:a.amount,count:1})}),Array.from(c.entries()).map(([a,{total:c,count:d}])=>({name:a.charAt(0).toUpperCase()+a.slice(1),value:c,percentage:c/b*100,count:d})).sort((a,b)=>b.value-a.value)}},[a,n]);return(0,d.jsxs)(f.Card,{className:"mt-6",children:[(0,d.jsx)(f.CardHeader,{className:"pb-3",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsx)(f.CardTitle,{className:"text-lg sm:text-xl",children:"Expense Distribution"}),(0,d.jsx)(g.Tabs,{value:n,onValueChange:a=>p(a),className:"w-full sm:w-auto",children:(0,d.jsxs)(g.TabsList,{className:"grid w-full grid-cols-2",children:[(0,d.jsx)(g.TabsTrigger,{value:"category",children:"By Category"}),(0,d.jsx)(g.TabsTrigger,{value:"person",children:"By Person"})]})})]})}),(0,d.jsx)(f.CardContent,{className:"pt-2",children:q.length>0?(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row space-y-6 lg:space-y-0 lg:space-x-4",children:[(0,d.jsxs)("div",{className:"w-full lg:w-1/2 flex flex-col items-center",children:[(0,d.jsx)("div",{className:"h-[220px] sm:h-[260px] w-full max-w-[280px] mx-auto",children:(0,d.jsx)(j.ResponsiveContainer,{width:"100%",height:"100%",children:(0,d.jsxs)(h.PieChart,{margin:{top:5,right:5,bottom:5,left:5},children:[(0,d.jsx)(i.Pie,{data:q,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,innerRadius:36,paddingAngle:1.5,dataKey:"value",stroke:"#ffffff",strokeWidth:1.5,children:q.map((a,b)=>(0,d.jsx)(k.Cell,{fill:o[b%o.length],className:"hover:opacity-80 transition-opacity"},`cell-${b}`))}),(0,d.jsx)(l.Tooltip,{content:(0,d.jsx)(({active:a,payload:e})=>{if(a&&e&&e.length){let a=e[0].payload;return(0,d.jsxs)("div",{className:"bg-card p-3 shadow rounded border border-border text-sm",children:[(0,d.jsx)("p",{className:"font-medium text-foreground",children:a.name}),(0,d.jsx)("p",{className:"text-primary",children:c?b(a.value):"•••"}),(0,d.jsxs)("p",{className:"text-muted-foreground",children:[a.percentage.toFixed(1),"% of total"]}),(0,d.jsxs)("p",{className:"text-xs",children:[a.count," expense",1!==a.count?"s":""]})]})}return null},{})})]})})}),(0,d.jsx)("div",{className:"mt-2 text-xs text-center text-muted-foreground",children:(0,d.jsx)("p",{children:"Tap segments for details"})})]}),(0,d.jsx)("div",{className:"w-full lg:w-1/2",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsxs)("h3",{className:"text-sm font-medium mb-1.5 px-1",children:["category"===n?"Categories":"People"," Breakdown"]}),(0,d.jsx)("div",{className:"space-y-0 max-h-[220px] sm:max-h-[260px] overflow-y-auto pr-1 rounded-md",children:q.map((a,e)=>(0,d.jsxs)("div",{className:"flex justify-between items-center border-b border-border/40 py-2 px-1 hover:bg-muted/50 rounded-sm transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,d.jsx)("div",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:o[e%o.length]}}),(0,d.jsx)("span",{className:"truncate max-w-[120px] sm:max-w-[160px] text-xs sm:text-sm",children:a.name})]}),(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("div",{className:"font-medium text-xs sm:text-sm",children:c?b(a.value):"•••"}),(0,d.jsxs)("div",{className:"text-[10px] sm:text-xs text-muted-foreground",children:[a.percentage.toFixed(1),"%"]})]})]},e))})]})})]}):(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center h-[160px] sm:h-[200px] text-center text-muted-foreground",children:[(0,d.jsx)("p",{className:"text-sm",children:"No expense data available."}),(0,d.jsx)("p",{className:"text-xs mt-2",children:"Try a different date range or add some expenses."})]})})]})}]),c()}catch(a){c(a)}},!1),82308,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(109254),g=a.i(569834),h=a.i(567326),i=a.i(899054),j=a.i(396465),k=a.i(558277),l=a.i(734637),m=a.i(132660),n=a.i(104706),o=b([f,g,h,i,j,n]);[f,g,h,i,j,n]=o.then?(await o)():o,a.s(["default",0,({expense:a,open:b,onOpenChange:c,formatCurrency:o,accounts:p})=>{let q=(0,k.useIsMobile)(),[r,s]=(0,e.useState)(!1);if(!a)return null;let t=(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),(0,d.jsx)("p",{className:"text-sm",children:a.date.toLocaleDateString()})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),(0,d.jsx)("p",{className:"text-lg font-semibold text-red-600",children:o(a.amount)})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),(0,d.jsx)("p",{className:"text-sm",children:a.description})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Category"}),a.category?(0,d.jsx)(i.Badge,{variant:"secondary",children:a.category}):(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Not specified"})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Payment Method"}),(0,d.jsx)("p",{className:"text-sm",children:a.paymentMethod||"Not specified"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Person in Charge"}),(0,d.jsx)("p",{className:"text-sm",children:a.personInCharge||"Not specified"})]}),a.cashAccountId&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Cash Account"}),(0,d.jsx)(i.Badge,{variant:"outline",children:(a=>{if(!a)return null;let b=p.find(b=>b.id===a);return b?.name||"Unknown Account"})(a.cashAccountId)})]}),a.receiptImage&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Receipt"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("img",{src:a.receiptImage,alt:"Receipt",className:"max-w-full h-32 object-contain border rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>s(!0)}),(0,d.jsx)(j.Button,{variant:"secondary",size:"sm",className:"absolute top-2 right-2 opacity-80 hover:opacity-100",onClick:()=>s(!0),children:(0,d.jsx)(m.Eye,{className:"h-4 w-4"})})]})]})]});return q?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(g.Drawer,{open:b,onOpenChange:c,children:(0,d.jsx)(g.DrawerContent,{className:"max-h-[85vh]",children:(0,d.jsxs)("div",{className:"relative px-4 py-6 pb-8",children:[(0,d.jsxs)(g.DrawerClose,{className:"absolute right-4 top-4 rounded-sm opacity-70 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring",children:[(0,d.jsx)(l.X,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]}),(0,d.jsx)(g.DrawerHeader,{className:"px-0 pb-4",children:(0,d.jsx)(g.DrawerTitle,{className:"text-lg",children:"Expense Details"})}),(0,d.jsx)(h.ScrollArea,{className:"h-[calc(85vh-120px)] pr-4",children:t})]})})}),a.receiptImage&&(0,d.jsx)(n.default,{isOpen:r,onOpenChange:s,imageUrl:a.receiptImage,imageAlt:"Receipt image"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Dialog,{open:b,onOpenChange:c,children:(0,d.jsxs)(f.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh]",children:[(0,d.jsx)(f.DialogHeader,{children:(0,d.jsx)(f.DialogTitle,{children:"Expense Details"})}),(0,d.jsx)(h.ScrollArea,{className:"max-h-[70vh] pr-4",children:t})]})}),a.receiptImage&&(0,d.jsx)(n.default,{isOpen:r,onOpenChange:s,imageUrl:a.receiptImage,imageAlt:"Receipt image"})]})}]),c()}catch(a){c(a)}},!1),463412,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(109254),g=a.i(396465),h=a.i(112779),i=a.i(397625),j=a.i(330281),k=a.i(366736),l=a.i(393551),m=a.i(158799),n=a.i(688272),o=a.i(567326),p=a.i(585459),q=a.i(734637),r=a.i(493901),s=a.i(279780),t=a.i(199987),u=a.i(792071),v=a.i(799856),w=a.i(531811),x=a.i(466890),y=a.i(645808),z=a.i(108191),A=a.i(484567),B=b([f,g,h,i,j,k,l,m,n,o,v,w,x,y,A]);[f,g,h,i,j,k,l,m,n,o,v,w,x,y,A]=B.then?(await B)():B,a.s(["default",0,({open:a,onOpenChange:b,onSubmit:c,initialData:B,title:C="Add New Expense"})=>{let[D,E]=(0,e.useState)(""),[F,G]=(0,e.useState)(""),[H,I]=(0,e.useState)(""),[J,K]=(0,e.useState)(""),[L,M]=(0,e.useState)(new Date),[N,O]=(0,e.useState)(""),[P,Q]=(0,e.useState)(""),[R,S]=(0,e.useState)(""),[T,U]=(0,e.useState)(!1),[V,W]=(0,e.useState)(""),[X,Y]=(0,e.useState)(!1),[Z,$]=(0,e.useState)(!1),[_,aa]=(0,e.useState)(!1),[ab,ac]=(0,e.useState)(null),{accounts:ad}=(0,x.useCashAccounts)(),{categories:ae,createCategory:af}=(0,y.useExpenseCategories)(),{toast:ag}=(0,z.useToast)(),{user:ah}=(0,w.useAuth)();ah?.id,(0,e.useEffect)(()=>{a&&B?(E(B.amount?.toString()||""),G(B.description||""),I(B.category||""),M(B.date||new Date),O(B.paymentMethod||""),Q(B.personInCharge||""),S(B.receiptImage||""),U(B.linkToCash||!1),W(B.cashAccountId||""),ac(null)):a&&!B&&(E(""),G(""),I(""),M(new Date),O(""),Q(""),S(""),U(!1),W(""),ac(null))},[a,B]);let ai=async a=>{if(a.preventDefault(),!D||!F)return void ag({title:"Error",description:"Amount and description are required",variant:"destructive"});if(T&&!V)return void ag({title:"Error",description:"Please select a cash account when linking to cash",variant:"destructive"});Y(!0);try{console.log("ExpenseForm: Submitting expense with linkToCash:",T,"cashAccountId:",V),ab&&console.warn("Receipt file upload skipped – no storage backend configured.");let a={amount:parseFloat(D),description:F,category:H||void 0,date:L,paymentMethod:N||void 0,personInCharge:P||void 0,receiptImage:R||void 0,linkToCash:T,cashAccountId:T?V:void 0};console.log("ExpenseForm: Final expense data:",a),await c(a),b(!1)}catch(a){console.error("Error submitting expense:",a)}finally{Y(!1)}},aj=()=>{S("")},ak=async()=>{if(!J.trim())return void ag({title:"Error",description:"Please enter a category name",variant:"destructive"});aa(!0);try{let a=await af(J.trim());a&&(I(a.name),K(""),ag({title:"Success",description:"Category created successfully"}))}catch(a){console.error("Error creating category:",a)}finally{aa(!1)}};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(f.Dialog,{open:a,onOpenChange:b,children:(0,d.jsxs)(f.DialogContent,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(f.DialogHeader,{children:(0,d.jsx)(f.DialogTitle,{children:C})}),(0,d.jsxs)("form",{onSubmit:ai,className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"amount",children:"Amount *"}),(0,d.jsx)(h.Input,{id:"amount",type:"number",step:"0.01",value:D,onChange:a=>E(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),document.getElementById("description")?.focus())},placeholder:"0.00",disabled:X})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"description",children:"Description *"}),(0,d.jsx)(j.Textarea,{id:"description",value:F,onChange:a=>G(a.target.value),onKeyDown:a=>{if("Enter"===a.key&&!a.shiftKey){a.preventDefault();let b=document.querySelector('button[data-category-select="true"]');b?b.focus():document.getElementById("newCategory")?.focus()}},placeholder:"Enter expense description",disabled:X})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{children:"Category"}),(0,d.jsxs)(g.Button,{type:"button",variant:"outline",className:"w-full justify-start text-left font-normal",onClick:()=>$(!0),"data-category-select":"true",onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),document.getElementById("newCategory")?.focus())},disabled:X,children:[(0,d.jsx)(s.Tag,{className:"mr-2 h-4 w-4"}),H||"Select Category"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"newCategory",children:"Create New Category"}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(h.Input,{id:"newCategory",value:J,onChange:a=>K(a.target.value),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.querySelector('button[data-date-picker="true"]');b?.focus()}},placeholder:"Enter new category name",disabled:X||_}),(0,d.jsx)(g.Button,{type:"button",onClick:ak,disabled:!J.trim()||X||_,size:"sm",children:(0,d.jsx)(r.Plus,{className:"h-4 w-4"})})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{children:"Date"}),(0,d.jsxs)(m.Popover,{children:[(0,d.jsx)(m.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(g.Button,{variant:"outline",className:(0,v.cn)("w-full justify-start text-left font-normal",!L&&"text-muted-foreground"),"data-date-picker":"true",onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),document.getElementById("paymentMethod")?.focus())},disabled:X,children:[(0,d.jsx)(p.CalendarIcon,{className:"mr-2 h-4 w-4"}),L?(0,u.format)(L,"PPP"):(0,d.jsx)("span",{children:"Pick a date"})]})}),(0,d.jsx)(m.PopoverContent,{className:"w-auto p-0",children:(0,d.jsx)(l.Calendar,{mode:"single",selected:L,onSelect:a=>a&&M(a),initialFocus:!0})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"paymentMethod",children:"Payment Method"}),(0,d.jsx)(h.Input,{id:"paymentMethod",value:N,onChange:a=>O(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),document.getElementById("personInCharge")?.focus())},placeholder:"Enter payment method (e.g., Cash, Credit Card, etc.)",disabled:X})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"personInCharge",children:"Person in Charge"}),(0,d.jsx)(h.Input,{id:"personInCharge",value:P,onChange:a=>Q(a.target.value),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),document.getElementById("receipt")?.focus())},placeholder:"Enter person responsible",disabled:X})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"receipt",children:"Receipt (Image or PDF)"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.Input,{id:"receipt",type:"file",accept:"image/*,.pdf",onChange:a=>{let b=a.target.files?.[0];if(b){let a=b.type.startsWith("image/"),c="application/pdf"===b.type;if(!a&&!c)return void ag({title:"Error",description:"Please select an image or PDF file",variant:"destructive"});ac(b);let d=URL.createObjectURL(b);S(d)}},disabled:X}),R&&(0,d.jsx)("div",{className:"relative inline-block",children:R&&R.includes("pdf")?(0,d.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded",children:[(0,d.jsx)(t.FileText,{className:"h-8 w-8 text-red-600"}),(0,d.jsx)("span",{className:"text-sm",children:"PDF Receipt"}),(0,d.jsx)(g.Button,{type:"button",variant:"destructive",size:"sm",className:"ml-auto h-6 w-6 rounded-full p-0",onClick:aj,disabled:X,children:(0,d.jsx)(q.X,{className:"h-3 w-3"})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:R,alt:"Receipt",className:"w-20 h-20 object-cover rounded border"}),(0,d.jsx)(g.Button,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:aj,disabled:X,children:(0,d.jsx)(q.X,{className:"h-3 w-3"})})]})})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(k.Switch,{id:"linkToCash",checked:T,onCheckedChange:U,disabled:X}),(0,d.jsx)(i.Label,{htmlFor:"linkToCash",children:"Link to Cash Account"})]}),T&&(0,d.jsxs)("div",{children:[(0,d.jsx)(i.Label,{htmlFor:"cashAccount",children:"Cash Account"}),(0,d.jsxs)(n.Select,{value:V,onValueChange:a=>{W(a),setTimeout(()=>{let a=document.querySelector('button[type="submit"]');a?.focus()},100)},disabled:X,children:[(0,d.jsx)(n.SelectTrigger,{onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),setTimeout(()=>{let a=document.querySelector('button[type="submit"]');a?.focus()},100))},children:(0,d.jsx)(n.SelectValue,{placeholder:"Select cash account"})}),(0,d.jsx)(n.SelectContent,{children:ad.map(a=>(0,d.jsx)(n.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:X,children:"Cancel"}),(0,d.jsx)(g.Button,{type:"submit",disabled:X,children:X?"Saving...":"Save Expense"})]})]})]})}),(0,d.jsx)(f.Dialog,{open:Z,onOpenChange:$,children:(0,d.jsxs)(f.DialogContent,{className:"sm:max-w-md",children:[(0,d.jsx)(f.DialogHeader,{children:(0,d.jsx)(f.DialogTitle,{children:"Select Category"})}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(o.ScrollArea,{className:"h-64 rounded-md border p-4",children:(0,d.jsx)("div",{className:"space-y-2",children:ae.map(a=>(0,d.jsxs)(g.Button,{variant:"ghost",className:"w-full justify-start",onClick:()=>{var b;return b=a.name,void(I(b),$(!1))},children:[(0,d.jsx)(s.Tag,{className:"mr-2 h-4 w-4"}),a.name]},a.id))})}),(0,d.jsx)(A.default,{}),(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(g.Button,{variant:"outline",onClick:()=>$(!1),children:"Cancel"})})]})]})})]})}]),c()}catch(a){c(a)}},!1),322218,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(463412),f=b([e]);[e]=f.then?(await f)():f,a.s(["default",0,({expense:a,open:b,onOpenChange:c,onSubmit:f})=>{if(!a)return null;let g={amount:a.amount,description:a.description,category:a.category||"",date:a.date,paymentMethod:a.paymentMethod||"",personInCharge:a.personInCharge||"",receiptImage:a.receiptImage||"",linkToCash:!!a.cashAccountId,cashAccountId:a.cashAccountId||""},h=async a=>{console.log("EditExpenseDialog handleSubmit data:",a),await f(a)};return(0,d.jsx)(e.default,{open:b,onOpenChange:c,onSubmit:h,initialData:g,title:"Edit Expense"})}]),c()}catch(a){c(a)}},!1),613550,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(893759),f=b([e]);[e]=f.then?(await f)():f,a.s(["default",0,({expense:a,open:b,onOpenChange:c,onConfirm:f,formatCurrency:g})=>a?(0,d.jsx)(e.AlertDialog,{open:b,onOpenChange:c,children:(0,d.jsxs)(e.AlertDialogContent,{children:[(0,d.jsxs)(e.AlertDialogHeader,{children:[(0,d.jsx)(e.AlertDialogTitle,{children:"Delete Expense"}),(0,d.jsxs)(e.AlertDialogDescription,{className:"space-y-2",children:[(0,d.jsx)("div",{children:"Are you sure you want to delete this expense?"}),(0,d.jsxs)("div",{className:"p-3 bg-muted rounded-md",children:[(0,d.jsx)("div",{className:"font-medium",children:a.description}),(0,d.jsxs)("div",{className:"text-sm text-muted-foreground",children:[g(a.amount)," • ",a.date.toLocaleDateString()]})]}),(0,d.jsx)("div",{className:"text-sm text-destructive",children:"This action cannot be undone."})]})]}),(0,d.jsxs)(e.AlertDialogFooter,{children:[(0,d.jsx)(e.AlertDialogCancel,{children:"Cancel"}),(0,d.jsx)(e.AlertDialogAction,{onClick:f,className:"bg-destructive hover:bg-destructive/90",children:"Delete Expense"})]})]})}):null]),c()}catch(a){c(a)}},!1),587338,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(132660),g=a.i(445916),h=a.i(946032),i=a.i(957143),j=a.i(811705),k=a.i(540629),l=a.i(396465),m=a.i(112779),n=a.i(899054),o=a.i(558277),p=a.i(466890),q=a.i(82308),r=a.i(322218),s=a.i(613550),t=a.i(799856),u=a.i(224993),v=a.i(625250),w=a.i(805297),x=b([j,k,l,m,n,p,q,r,s,t,u,v,w]);[j,k,l,m,n,p,q,r,s,t,u,v,w]=x.then?(await x)():x,a.s(["default",0,({expenses:a,onUpdateExpense:b,onDeleteExpense:c,formatCurrency:x})=>{let y=(0,o.useIsMobile)(),{accounts:z}=(0,p.useCashAccounts)(),{settings:A}=(0,u.useBusinessSettings)(),{canViewTotalExpenses:B}=(0,v.useFinancialVisibility)(),{hasPermission:C}=(0,w.useProfiles)(),D=A.currency||"USD",[E,F]=(0,e.useState)(""),[G,H]=(0,e.useState)(null),[I,J]=(0,e.useState)(!1),[K,L]=(0,e.useState)(!1),[M,N]=(0,e.useState)(!1),O=a.filter(a=>a.description.toLowerCase().includes(E.toLowerCase())||a.category&&a.category.toLowerCase().includes(E.toLowerCase())||a.paymentMethod&&a.paymentMethod.toLowerCase().includes(E.toLowerCase())||a.personInCharge&&a.personInCharge.toLowerCase().includes(E.toLowerCase())),P=a=>{if(!a)return null;let b=z.find(b=>b.id===a);return b?.name||"Unknown Account"},Q=a=>{H(a),J(!0)},R=a=>{H(a),L(!0)},S=a=>{H(a),N(!0)},T=async a=>{G&&(await b(G.id,a),L(!1),H(null))},U=async()=>{G&&await c(G.id)&&(N(!1),H(null))};return y?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-4",children:(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsx)(j.CardTitle,{className:"text-lg",children:"Expenses List"}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(i.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,d.jsx)(m.Input,{placeholder:"Search expenses...",value:E,onChange:a=>F(a.target.value),className:"pl-10"})]})]})}),(0,d.jsx)(j.CardContent,{className:"px-3",children:0===O.length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"text-muted-foreground",children:E?"No expenses found matching your search.":"No expenses found."})}):(0,d.jsx)("div",{className:"space-y-3",children:O.map(a=>(0,d.jsxs)(j.Card,{className:"p-4 space-y-3 cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-red-500",onClick:()=>Q(a),children:[(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,d.jsx)("div",{className:"text-sm font-medium text-muted-foreground",children:a.date.toLocaleDateString()}),(0,d.jsx)("div",{className:"text-base font-semibold line-clamp-2",children:a.description})]}),(0,d.jsxs)("div",{className:"text-right space-y-1",children:[(0,d.jsx)("div",{className:"text-lg font-bold text-red-600",children:B?(0,t.formatCashCurrency)(a.amount,D):"•••"}),(0,d.jsxs)("div",{className:"flex gap-1",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>Q(a),className:"h-6 w-6 p-0 text-gray-600 hover:text-gray-700",children:(0,d.jsx)(f.Eye,{className:"h-3 w-3"})}),C("expenses","edit")&&(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>R(a),className:"h-6 w-6 p-0 text-blue-600 hover:text-blue-700",children:(0,d.jsx)(g.Edit,{className:"h-3 w-3"})}),C("expenses","delete")&&(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>S(a),className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",children:(0,d.jsx)(h.Trash2,{className:"h-3 w-3"})})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-medium text-muted-foreground",children:"Category:"}),a.category?(0,d.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:a.category}):(0,d.jsx)("span",{className:"text-muted-foreground",children:"-"})]}),a.paymentMethod&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-medium text-muted-foreground",children:"Payment:"}),(0,d.jsx)("span",{className:"text-xs",children:a.paymentMethod})]}),a.personInCharge&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-medium text-muted-foreground",children:"Person in Charge:"}),(0,d.jsx)("span",{className:"text-xs",children:a.personInCharge})]}),a.receiptImage&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-medium text-muted-foreground",children:"Receipt:"}),(0,d.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:"Available"})]}),a.cashAccountId&&(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("span",{className:"font-medium text-muted-foreground",children:"Cash Account:"}),(0,d.jsx)(n.Badge,{variant:"outline",className:"text-xs",children:P(a.cashAccountId)})]})]})]},a.id))})})]}),(0,d.jsx)(q.default,{expense:G,open:I,onOpenChange:J,formatCurrency:x,accounts:z}),(0,d.jsx)(r.default,{expense:G,open:K,onOpenChange:L,onSubmit:T}),(0,d.jsx)(s.default,{expense:G,open:M,onOpenChange:N,onConfirm:U,formatCurrency:x})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(j.Card,{children:[(0,d.jsx)(j.CardHeader,{className:"pb-4",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,d.jsx)(j.CardTitle,{className:"text-lg md:text-xl",children:"Expenses List"}),(0,d.jsxs)("div",{className:"relative w-full sm:w-80",children:[(0,d.jsx)(i.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,d.jsx)(m.Input,{placeholder:"Search expenses by description, category, payment method...",value:E,onChange:a=>F(a.target.value),className:"pl-10"})]})]})}),(0,d.jsx)(j.CardContent,{children:0===O.length?(0,d.jsx)("div",{className:"text-center py-8",children:(0,d.jsx)("p",{className:"text-muted-foreground",children:E?"No expenses found matching your search.":"No expenses found."})}):(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)(k.Table,{children:[(0,d.jsx)(k.TableHeader,{children:(0,d.jsxs)(k.TableRow,{children:[(0,d.jsx)(k.TableHead,{children:"Date"}),(0,d.jsx)(k.TableHead,{children:"Description"}),(0,d.jsx)(k.TableHead,{children:"Category"}),(0,d.jsx)(k.TableHead,{children:"Amount"}),(0,d.jsx)(k.TableHead,{children:"Payment Method"}),(0,d.jsx)(k.TableHead,{children:"Person In Charge"}),(0,d.jsx)(k.TableHead,{children:"Cash Account"}),(0,d.jsx)(k.TableHead,{children:"Receipt"}),(0,d.jsx)(k.TableHead,{className:"text-right",children:"Actions"})]})}),(0,d.jsx)(k.TableBody,{children:O.map(a=>(0,d.jsxs)(k.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Q(a),children:[(0,d.jsx)(k.TableCell,{className:"whitespace-nowrap",children:a.date.toLocaleDateString()}),(0,d.jsx)(k.TableCell,{className:"font-medium",children:a.description}),(0,d.jsx)(k.TableCell,{children:a.category?(0,d.jsx)(n.Badge,{variant:"secondary",children:a.category}):(0,d.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,d.jsx)(k.TableCell,{className:"font-semibold text-red-600",children:B?(0,t.formatCashCurrency)(a.amount,D):"•••"}),(0,d.jsx)(k.TableCell,{children:a.paymentMethod||(0,d.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,d.jsx)(k.TableCell,{children:a.personInCharge||(0,d.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,d.jsx)(k.TableCell,{children:a.cashAccountId?(0,d.jsx)(n.Badge,{variant:"outline",children:P(a.cashAccountId)}):(0,d.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,d.jsx)(k.TableCell,{children:a.receiptImage?(0,d.jsx)(n.Badge,{variant:"outline",children:"Receipt"}):(0,d.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,d.jsx)(k.TableCell,{className:"text-right",children:(0,d.jsxs)("div",{className:"flex justify-end gap-1",onClick:a=>a.stopPropagation(),children:[(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>Q(a),className:"h-8 w-8 p-0",children:(0,d.jsx)(f.Eye,{className:"h-4 w-4"})}),C("expenses","edit")&&(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>R(a),className:"h-8 w-8 p-0",children:(0,d.jsx)(g.Edit,{className:"h-4 w-4"})}),C("expenses","delete")&&(0,d.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>S(a),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:(0,d.jsx)(h.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})})})]}),(0,d.jsx)(q.default,{expense:G,open:I,onOpenChange:J,formatCurrency:x,accounts:z}),(0,d.jsx)(r.default,{expense:G,open:K,onOpenChange:L,onSubmit:T}),(0,d.jsx)(s.default,{expense:G,open:M,onOpenChange:N,onConfirm:U,formatCurrency:x})]})}]),c()}catch(a){c(a)}},!1),843979,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(42668),f=a.i(860971),g=a.i(186859),h=a.i(587338),i=b([e,f,g,h]);[e,f,g,h]=i.then?(await i)():i,a.s(["default",0,({filteredExpenses:a,expenseStats:b,formatCurrency:c,dateFilter:i,onUpdateExpense:j,onDeleteExpense:k,showOnlyOverview:l=!1,showOnlyList:m=!1})=>l?(0,d.jsxs)("div",{className:"space-y-4 md:space-y-6",children:[(0,d.jsx)(e.default,{totalExpenses:b.totalExpenses,thisMonthExpenses:b.thisMonthExpenses,transactionCount:b.transactionCount,formatCurrency:c,dateFilter:i}),(0,d.jsx)(g.default,{expenses:a,formatCurrency:c}),(0,d.jsx)(f.default,{filteredExpenses:a,formatCurrency:c})]}):m?(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsx)(h.default,{expenses:a,onUpdateExpense:j,onDeleteExpense:k,formatCurrency:c})}):(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(e.default,{totalExpenses:b.totalExpenses,thisMonthExpenses:b.thisMonthExpenses,transactionCount:b.transactionCount,formatCurrency:c,dateFilter:i}),(0,d.jsx)(h.default,{expenses:a,onUpdateExpense:j,onDeleteExpense:k,formatCurrency:c})]})]),c()}catch(a){c(a)}},!1),868071,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(688272),f=a.i(396465),g=a.i(914619),h=a.i(158799),i=a.i(393551),j=a.i(792071),k=b([e,f,h,i]);[e,f,h,i]=k.then?(await k)():k,a.s(["default",0,({dateFilter:a,dateRange:b,onDateFilterChange:c,onDateRangeChange:k})=>(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center mb-4",onClick:a=>{a.stopPropagation()},children:[(0,d.jsx)("div",{className:"w-full sm:w-[200px]",children:(0,d.jsxs)(e.Select,{value:a,onValueChange:c,children:[(0,d.jsx)(e.SelectTrigger,{className:"bg-white shadow-sm",children:(0,d.jsx)(e.SelectValue,{placeholder:"Select period"})}),(0,d.jsxs)(e.SelectContent,{className:"z-50 bg-white shadow-lg",children:[(0,d.jsx)(e.SelectItem,{value:"all",children:"All Time"}),(0,d.jsx)(e.SelectItem,{value:"today",children:"Today"}),(0,d.jsx)(e.SelectItem,{value:"yesterday",children:"Yesterday"}),(0,d.jsx)(e.SelectItem,{value:"this-week",children:"This Week"}),(0,d.jsx)(e.SelectItem,{value:"last-week",children:"Last Week"}),(0,d.jsx)(e.SelectItem,{value:"this-month",children:"This Month"}),(0,d.jsx)(e.SelectItem,{value:"last-month",children:"Last Month"}),(0,d.jsx)(e.SelectItem,{value:"this-year",children:"This Year"}),(0,d.jsx)(e.SelectItem,{value:"custom",children:"Custom Range"})]})]})}),"custom"===a&&(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsxs)(h.Popover,{children:[(0,d.jsx)(h.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(f.Button,{variant:"outline",className:"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal",children:[(0,d.jsx)(g.Calendar,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:b.from?(0,j.format)(b.from,"MMM d, yyyy"):"Start Date"})]})}),(0,d.jsx)(h.PopoverContent,{className:"w-auto p-0 z-[100] bg-white shadow-lg",align:"start",children:(0,d.jsx)(i.Calendar,{initialFocus:!0,mode:"single",defaultMonth:b?.from,selected:b?.from,onSelect:a=>k({...b,from:a}),className:"p-3 pointer-events-auto",showOutsideDays:!0})})]}),(0,d.jsx)("span",{className:"text-muted-foreground",children:"to"}),(0,d.jsxs)(h.Popover,{children:[(0,d.jsx)(h.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(f.Button,{variant:"outline",className:"bg-white flex items-center gap-2 h-10 pl-3 text-left font-normal",children:[(0,d.jsx)(g.Calendar,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:b.to?(0,j.format)(b.to,"MMM d, yyyy"):"End Date"})]})}),(0,d.jsx)(h.PopoverContent,{className:"w-auto p-0 z-[100] bg-white shadow-lg",align:"start",children:(0,d.jsx)(i.Calendar,{initialFocus:!0,mode:"single",defaultMonth:b?.to,selected:b?.to,onSelect:a=>k({...b,to:a}),className:"p-3 pointer-events-auto",showOutsideDays:!0})})]})]})]})]),c()}catch(a){c(a)}},!1),37707,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(396465),g=a.i(112779),h=a.i(688272),i=a.i(540629),j=a.i(811705),k=a.i(393551),l=a.i(158799),m=a.i(792071),n=a.i(914619),o=a.i(493901),p=a.i(946032),q=a.i(933286),r=a.i(787769),s=a.i(86246),t=a.i(734637),u=a.i(114748),v=a.i(131724),w=a.i(529845),x=a.i(466890),y=a.i(531811),z=a.i(558277),A=a.i(799856),B=a.i(109254),C=a.i(289118),D=a.i(459502),E=a.i(397625),F=b([f,g,h,i,j,k,l,w,x,y,A,B,C,D,E]);[f,g,h,i,j,k,l,w,x,y,A,B,C,D,E]=F.then?(await F)():F;let G="bulk_expenses_draft";a.s(["default",0,({open:a,onOpenChange:b,onSuccess:c})=>{let F=(0,z.useIsMobile)(),{user:H}=(0,y.useAuth)(),{accounts:I}=(0,x.useCashAccounts)(),{createBulkExpenses:J}=(0,w.useExpenses)(),[K,L]=(0,e.useState)([]),[M,N]=(0,e.useState)(new Date),[O,P]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(!a)return;let b=localStorage.getItem(G);if(b)try{let a=JSON.parse(b);L(a.map(a=>({...a,date:new Date(a.date)})))}catch(a){console.error("Failed to parse draft",a),Q()}else L([]),Q()},[a]),(0,e.useEffect)(()=>{K.length>0?localStorage.setItem(G,JSON.stringify(K)):localStorage.removeItem(G)},[K]);let Q=()=>{let a={id:Math.random().toString(36).substr(2,9),amount:0,description:"",category:"Other",date:M,paymentMethod:"Cash",personInCharge:"",linkToCash:!1,cashAccountId:I.length>0?I[0].id:void 0};L(b=>[...b,a])},R=a=>{L(b=>b.filter(b=>b.id!==a)),1===K.length&&Q()},S=(a,b)=>{L(c=>c.map(c=>c.id===a?{...c,...b}:c))},T=(a,b)=>{let c=K.findIndex(b=>b.id===a);if(c<0||"up"===b&&0===c||"down"===b&&c===K.length-1)return;let d=[...K],e="up"===b?c-1:c+1;[d[c],d[e]]=[d[e],d[c]],L(d)},U=async()=>{let a=K.filter(a=>a.amount>0&&""!==a.description.trim());if(0===a.length)return void alert("Please enter at least one valid expense with amount and description");if(a.filter(a=>a.linkToCash&&!a.cashAccountId).length>0)return void alert("Please select a finance account for all linked expenses");P(!0);try{await J(a.map(({id:a,...b})=>({...b}))),localStorage.removeItem(G),c()}catch(a){console.error("Bulk save failed",a),alert("Failed to save expenses. Please check your network connection.")}finally{P(!1)}};return(0,d.jsx)(B.Dialog,{open:a,onOpenChange:b,children:(0,d.jsx)(B.DialogContent,{className:"max-w-[95vw] md:max-w-6xl p-0 overflow-hidden border-none bg-transparent shadow-none",children:(0,d.jsx)("div",{className:"space-y-4 md:space-y-6",children:(0,d.jsxs)(j.Card,{className:"shadow-2xl overflow-hidden border-none bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-950",children:[(0,d.jsx)(j.CardHeader,{className:"pb-3 bg-white dark:bg-slate-900 border-b",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("div",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded-lg",children:(0,d.jsx)(v.Receipt,{className:"h-5 w-5 text-red-600"})}),(0,d.jsx)(j.CardTitle,{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Bulk Expense Entry"})]}),(0,d.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Log multiple expenses efficiently. Link them to finance accounts to update cash ledgers automatically."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)(f.Button,{variant:"ghost",onClick:()=>b(!1),disabled:O,children:[(0,d.jsx)(t.X,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,d.jsxs)(f.Button,{onClick:U,disabled:O,className:"bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 shadow-lg font-bold",children:[O?(0,d.jsx)(s.Save,{className:"h-4 w-4 mr-2 animate-spin"}):(0,d.jsx)(s.Save,{className:"h-4 w-4 mr-2"}),"Save ",K.filter(a=>a.amount>0).length," Expenses"]})]})]})}),(0,d.jsx)(j.CardContent,{className:"p-4 sm:p-6 space-y-6 max-h-[80vh] overflow-y-auto custom-scrollbar",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900/50 rounded-xl p-4 border border-slate-100 dark:border-slate-800 space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[(0,d.jsxs)("div",{className:"flex-1 md:flex-initial",children:[(0,d.jsx)("p",{className:"text-[10px] font-semibold text-muted-foreground uppercase mb-1 ml-1",children:"Default Date"}),(0,d.jsxs)(l.Popover,{children:[(0,d.jsx)(l.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(f.Button,{variant:"outline",className:(0,A.cn)("justify-start text-left font-normal w-full md:w-[220px] h-10 shadow-sm rounded-lg",!M&&"text-muted-foreground"),children:[(0,d.jsx)(n.Calendar,{className:"mr-2 h-4 w-4 text-red-500"}),M?(0,m.format)(M,"PPP"):(0,d.jsx)("span",{children:"Pick a date"})]})}),(0,d.jsx)(l.PopoverContent,{className:"w-auto p-0 z-[100]",align:"start",children:(0,d.jsx)(k.Calendar,{mode:"single",selected:M,onSelect:a=>a&&N(a),initialFocus:!0})})]})]}),(0,d.jsx)("div",{className:"flex items-end h-full",children:(0,d.jsxs)(f.Button,{onClick:Q,variant:"outline",className:"gap-2 h-10 font-semibold border-red-200 dark:border-red-900/30 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/10 rounded-lg",children:[(0,d.jsx)(o.Plus,{className:"h-4 w-4"}),"Add Row"]})})]}),(0,d.jsxs)(C.Alert,{className:"bg-orange-50/50 dark:bg-orange-900/10 border-orange-100 dark:border-orange-900 py-2 w-full md:max-w-xs",children:[(0,d.jsx)(u.Info,{className:"h-4 w-4 text-orange-500"}),(0,d.jsxs)(C.AlertDescription,{className:"text-[10px] sm:text-xs",children:["Rows with ",(0,d.jsx)("strong",{children:"Link Transaction"})," checked will automatically create cash deductions."]})]})]}),(0,d.jsx)("div",{className:"min-h-[300px]",children:F?(0,d.jsx)("div",{className:"space-y-4 px-1",children:K.map((a,b)=>(0,d.jsxs)(j.Card,{className:"overflow-hidden border-l-4 border-l-red-500/30 shadow-sm",children:[(0,d.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between p-3 pb-2 bg-muted/20",children:[(0,d.jsxs)(j.CardTitle,{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:["Expense ",b+1]}),(0,d.jsxs)("div",{className:"flex items-center gap-1",children:[(0,d.jsx)(f.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 text-muted-foreground",onClick:()=>T(a.id,"up"),children:(0,d.jsx)(q.ArrowUp,{className:"h-4 w-4"})}),(0,d.jsx)(f.Button,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive/70",onClick:()=>R(a.id),children:(0,d.jsx)(p.Trash2,{className:"h-4 w-4"})})]})]}),(0,d.jsxs)(j.CardContent,{className:"p-3 space-y-3",children:[(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)(l.Popover,{children:[(0,d.jsx)(l.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(f.Button,{variant:"outline",size:"sm",className:(0,A.cn)("w-full justify-start text-left font-normal h-9 rounded-lg",!a.date&&"text-muted-foreground"),children:[(0,d.jsx)(n.Calendar,{className:"mr-2 h-3 w-3"}),(0,d.jsx)("span",{className:"truncate text-xs",children:a.date?(0,m.format)(a.date,"MMM dd, yyyy"):"Date"})]})}),(0,d.jsx)(l.PopoverContent,{className:"w-auto p-0 z-[70]",align:"start",children:(0,d.jsx)(k.Calendar,{mode:"single",selected:a.date,onSelect:b=>b&&S(a.id,{date:b}),initialFocus:!0})})]}),(0,d.jsx)(g.Input,{type:"number",placeholder:"Amount",value:a.amount||"",onChange:b=>S(a.id,{amount:Number(b.target.value)}),className:"h-9 font-medium rounded-lg"})]}),(0,d.jsx)(g.Input,{placeholder:"Description",value:a.description,onChange:b=>S(a.id,{description:b.target.value}),className:"h-9 rounded-lg"}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,d.jsxs)(h.Select,{value:a.category,onValueChange:b=>S(a.id,{category:b}),children:[(0,d.jsx)(h.SelectTrigger,{className:"h-9 text-xs rounded-lg",children:(0,d.jsx)(h.SelectValue,{placeholder:"Category"})}),(0,d.jsxs)(h.SelectContent,{children:[(0,d.jsx)(h.SelectItem,{value:"Sales",children:"Sales"}),(0,d.jsx)(h.SelectItem,{value:"Expenses",children:"Expenses"}),(0,d.jsx)(h.SelectItem,{value:"Payroll",children:"Payroll"}),(0,d.jsx)(h.SelectItem,{value:"Other",children:"Other"})]})]}),(0,d.jsxs)(h.Select,{value:a.paymentMethod,onValueChange:b=>S(a.id,{paymentMethod:b}),children:[(0,d.jsx)(h.SelectTrigger,{className:"h-9 text-xs rounded-lg",children:(0,d.jsx)(h.SelectValue,{placeholder:"Method"})}),(0,d.jsxs)(h.SelectContent,{children:[(0,d.jsx)(h.SelectItem,{value:"Cash",children:"Cash"}),(0,d.jsx)(h.SelectItem,{value:"M-Pesa",children:"M-Pesa"}),(0,d.jsx)(h.SelectItem,{value:"Bank",children:"Bank"}),(0,d.jsx)(h.SelectItem,{value:"Card",children:"Card"})]})]})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-2 p-2 bg-slate-50 dark:bg-slate-900 rounded-lg border border-slate-100 dark:border-slate-800",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(D.Checkbox,{id:`link-mobile-${a.id}`,checked:a.linkToCash,onCheckedChange:b=>S(a.id,{linkToCash:!!b})}),(0,d.jsx)(E.Label,{htmlFor:`link-mobile-${a.id}`,className:"text-xs font-medium",children:"Link to Finance Account"})]}),a.linkToCash&&(0,d.jsxs)(h.Select,{value:a.cashAccountId,onValueChange:b=>S(a.id,{cashAccountId:b}),children:[(0,d.jsx)(h.SelectTrigger,{className:"h-9 text-xs rounded-md",children:(0,d.jsx)(h.SelectValue,{placeholder:"Select Account"})}),(0,d.jsx)(h.SelectContent,{children:I.map(a=>(0,d.jsx)(h.SelectItem,{value:a.id,children:a.name},a.id))})]})]})]})]},a.id))}):(0,d.jsx)("div",{className:"overflow-x-auto rounded-xl border-none shadow-sm bg-white dark:bg-slate-900",children:(0,d.jsxs)(i.Table,{children:[(0,d.jsx)(i.TableHeader,{className:"bg-slate-50 dark:bg-slate-800/50",children:(0,d.jsxs)(i.TableRow,{children:[(0,d.jsx)(i.TableHead,{className:"w-[140px]",children:"Date"}),(0,d.jsx)(i.TableHead,{className:"w-[130px]",children:"Amount"}),(0,d.jsx)(i.TableHead,{children:"Description"}),(0,d.jsx)(i.TableHead,{className:"w-[140px]",children:"Category"}),(0,d.jsx)(i.TableHead,{className:"w-[180px]",children:"Link to Cash"}),(0,d.jsx)(i.TableHead,{className:"w-[120px] text-right",children:"Actions"})]})}),(0,d.jsx)(i.TableBody,{children:K.map(a=>(0,d.jsxs)(i.TableRow,{className:"hover:bg-muted/30 transition-colors border-slate-100 dark:border-slate-800",children:[(0,d.jsx)(i.TableCell,{children:(0,d.jsxs)(l.Popover,{children:[(0,d.jsx)(l.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(f.Button,{variant:"outline",size:"sm",className:(0,A.cn)("w-full justify-start text-left font-normal h-9 rounded-lg",!a.date&&"text-muted-foreground"),children:[(0,d.jsx)(n.Calendar,{className:"mr-2 h-3 w-3 shrink-0"}),(0,d.jsx)("span",{className:"truncate",children:a.date?(0,m.format)(a.date,"MMM dd, yyyy"):"Date"})]})}),(0,d.jsx)(l.PopoverContent,{className:"w-auto p-0 z-[70]",align:"start",children:(0,d.jsx)(k.Calendar,{mode:"single",selected:a.date,onSelect:b=>b&&S(a.id,{date:b}),initialFocus:!0})})]})}),(0,d.jsx)(i.TableCell,{children:(0,d.jsx)(g.Input,{type:"number",value:a.amount||"",onChange:b=>S(a.id,{amount:Number(b.target.value)}),className:"h-9 font-medium rounded-lg",placeholder:"0.00"})}),(0,d.jsx)(i.TableCell,{children:(0,d.jsx)(g.Input,{value:a.description,onChange:b=>S(a.id,{description:b.target.value}),placeholder:"Description...",className:"h-9 rounded-lg"})}),(0,d.jsx)(i.TableCell,{children:(0,d.jsxs)(h.Select,{value:a.category,onValueChange:b=>S(a.id,{category:b}),children:[(0,d.jsx)(h.SelectTrigger,{className:"h-9 rounded-lg",children:(0,d.jsx)(h.SelectValue,{})}),(0,d.jsxs)(h.SelectContent,{children:[(0,d.jsx)(h.SelectItem,{value:"Sales",children:"Sales"}),(0,d.jsx)(h.SelectItem,{value:"Expenses",children:"Expenses"}),(0,d.jsx)(h.SelectItem,{value:"Payroll",children:"Payroll"}),(0,d.jsx)(h.SelectItem,{value:"Supplies",children:"Supplies"}),(0,d.jsx)(h.SelectItem,{value:"Utilities",children:"Utilities"}),(0,d.jsx)(h.SelectItem,{value:"Rent",children:"Rent"}),(0,d.jsx)(h.SelectItem,{value:"Other",children:"Other"})]})]})}),(0,d.jsx)(i.TableCell,{children:(0,d.jsxs)("div",{className:"flex flex-col gap-1.5 p-1 bg-slate-50/50 dark:bg-slate-800/50 rounded-lg",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)(D.Checkbox,{id:`link-${a.id}`,checked:a.linkToCash,onCheckedChange:b=>S(a.id,{linkToCash:!!b})}),(0,d.jsx)(E.Label,{htmlFor:`link-${a.id}`,className:"text-[10px] font-medium text-slate-600",children:"Link Transaction"})]}),a.linkToCash&&(0,d.jsxs)(h.Select,{value:a.cashAccountId,onValueChange:b=>S(a.id,{cashAccountId:b}),children:[(0,d.jsx)(h.SelectTrigger,{className:"text-[10px] h-7 px-2 rounded-md",children:(0,d.jsx)(h.SelectValue,{placeholder:"Select Account"})}),(0,d.jsx)(h.SelectContent,{children:I.map(a=>(0,d.jsx)(h.SelectItem,{value:a.id,children:a.name},a.id))})]})]})}),(0,d.jsx)(i.TableCell,{className:"text-right",children:(0,d.jsxs)("div",{className:"flex items-center justify-end gap-0.5",children:[(0,d.jsx)(f.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 text-muted-foreground",onClick:()=>T(a.id,"up"),children:(0,d.jsx)(q.ArrowUp,{className:"h-3.5 w-3.5"})}),(0,d.jsx)(f.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 text-muted-foreground",onClick:()=>T(a.id,"down"),children:(0,d.jsx)(r.ArrowDown,{className:"h-3.5 w-3.5"})}),(0,d.jsx)(f.Button,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive/70 hover:text-destructive hover:bg-destructive/10",onClick:()=>R(a.id),children:(0,d.jsx)(p.Trash2,{className:"h-3.5 w-3.5"})})]})})]},a.id))})]})})}),K.length>5&&(0,d.jsx)("div",{className:"flex justify-center pt-2",children:(0,d.jsxs)(f.Button,{onClick:Q,variant:"ghost",className:"gap-2 text-muted-foreground hover:text-red-500",children:[(0,d.jsx)(o.Plus,{className:"h-4 w-4"}),"Add Another Row"]})})]})})]})})})})}]),c()}catch(a){c(a)}},!1),731718,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(396465),g=a.i(811705),h=a.i(482626),i=a.i(289118),j=a.i(540629),k=a.i(455756),l=a.i(199987),m=a.i(436028),n=a.i(73679),o=a.i(532572),p=a.i(114748),q=a.i(131724),r=a.i(734637),s=a.i(809921),t=a.i(176452),u=a.i(799856),v=a.i(109254),w=a.i(529845),x=a.i(466890),y=b([f,g,h,i,j,u,v,w,x]);[f,g,h,i,j,u,v,w,x]=y.then?(await y)():y,a.s(["default",0,({open:a,onOpenChange:b,onUploadComplete:c})=>{let{createBulkExpenses:y}=(0,w.useExpenses)(),{accounts:z}=(0,x.useCashAccounts)(),[A,B]=(0,e.useState)({step:"select",file:null,validRows:[],errors:[],totalRows:0,uploadProgress:0,successCount:0,failureCount:0}),C=(0,e.useRef)(null),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),H=a=>{let b=new Date,c=a.Date,d=c?.toString();if(d)if(c instanceof Date)b=c;else{let a=d.match(/^(\d{1,2})[/-](\d{1,2})[/-](\d{4})$/);if(a){let[,c,d,e]=a;b=new Date(parseInt(e),parseInt(d)-1,parseInt(c))}else{let a=new Date(d);isNaN(a.getTime())||(b=a)}}let e="",f=a["Link to Finance"]?.toString().toLowerCase()==="true";if(f&&a["Finance Account"]){let b=z?.find(b=>b.name.toLowerCase()===a["Finance Account"]?.toString().toLowerCase());b&&(e=b.id)}return{amount:parseFloat(a.Amount?.toString().replace(/[^0-9.-]/g,"")||"0"),description:a.Description||"",category:a.Category||"Other",date:b,paymentMethod:a["Payment Method"]||"Cash",personInCharge:a["Person In Charge"]||"",linkToCash:f,cashAccountId:e||void 0}},I=async a=>{let b,c=a.name.endsWith(".xlsx")||a.name.endsWith(".xls"),d=a.name.endsWith(".csv");if(!c&&!d)return void alert("Please select a CSV or Excel file");if(c){let c=await a.arrayBuffer(),d=s.read(c,{cellDates:!0}),e=d.SheetNames[0],f=d.Sheets[e],g=s.utils.sheet_to_json(f).map(a=>({Date:a.Date||"",Amount:a.Amount||"",Description:a.Description||"",Category:a.Category||"","Payment Method":a["Payment Method"]||"","Person In Charge":a["Person In Charge"]||"","Link to Finance":a["Link to Finance"]||"","Finance Account":a["Finance Account"]||""})),h=[],i=[];g.forEach((a,b)=>{let c=(0,t.validateExpenseCSVRow)(a,b+2);a["Link to Finance"]?.toString().toLowerCase()==="true"&&a["Finance Account"]&&(z?.find(b=>b.name.toLowerCase()===a["Finance Account"]?.toString().toLowerCase())||c.push({row:b+2,field:"Finance Account",message:`Account "${a["Finance Account"]}" not found.`})),0===c.length?h.push(a):i.push(...c)}),b={validRows:h,errors:i,totalRows:g.length}}else{let c=await a.text();b=(0,t.parseExpenseCSV)(c);let d=[],e=[];b.validRows.forEach((a,b)=>{a["Link to Finance"]?.toString().toLowerCase()==="true"&&a["Finance Account"]?z?.find(b=>b.name.toLowerCase()===a["Finance Account"]?.toString().toLowerCase())?e.push(a):d.push({row:b+2,field:"Finance Account",message:`Account "${a["Finance Account"]}" not found.`}):e.push(a)}),b.errors.push(...d),b.validRows=e}B({...A,step:"preview",file:a,validRows:b.validRows,errors:b.errors,totalRows:b.totalRows})},J=async()=>{B(a=>({...a,step:"uploading",uploadProgress:0})),G(!0);let a=A.validRows.map(H);try{await y(a),B(b=>({...b,step:"complete",uploadProgress:100,successCount:a.length,failureCount:0})),setTimeout(()=>c(),1500)}catch(b){console.error("Bulk upload failed:",b),B(b=>({...b,step:"complete",uploadProgress:100,successCount:0,failureCount:a.length}))}finally{G(!1)}};return(0,d.jsx)(v.Dialog,{open:a,onOpenChange:b,children:(0,d.jsx)(v.DialogContent,{className:"max-w-[95vw] md:max-w-4xl p-0 overflow-hidden border-none bg-transparent shadow-none",children:(0,d.jsx)("div",{className:"space-y-6",children:(0,d.jsxs)(g.Card,{className:"shadow-2xl border-none bg-transparent",children:[(0,d.jsx)(g.CardHeader,{className:"px-6 py-4 bg-white dark:bg-slate-900 border-b rounded-t-[2rem]",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-red-600 p-2.5 rounded-2xl text-white shadow-lg",children:(0,d.jsx)(k.Upload,{className:"h-6 w-6"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)(g.CardTitle,{className:"text-2xl font-black tracking-tight",children:"CSV/Excel Importer"}),(0,d.jsx)("p",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-tight",children:"Bulk process historical expense logs"})]})]}),(0,d.jsxs)(f.Button,{variant:"ghost",onClick:()=>b(!1),className:"bg-white dark:bg-slate-900 shadow-sm border rounded-xl h-10 px-4",children:[(0,d.jsx)(r.X,{className:"h-4 w-4 mr-2"})," Cancel"]})]})}),(0,d.jsx)(g.CardContent,{className:"p-0",children:(0,d.jsxs)("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-b-[2rem] p-8 md:p-12 border shadow-sm min-h-[450px] max-h-[85vh] overflow-y-auto custom-scrollbar flex flex-col justify-center",children:["select"===A.step&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:(0,u.cn)("border-4 border-dashed rounded-3xl p-12 text-center cursor-pointer transition-all duration-300",D?"border-red-500 bg-red-50/50 scale-[1.01] shadow-xl":"border-slate-200 dark:border-slate-800 hover:border-red-400 hover:bg-slate-50/50 dark:hover:bg-slate-900/50"),onDrop:a=>{a.preventDefault(),E(!1),I(a.dataTransfer.files[0])},onDragOver:a=>{a.preventDefault(),E(!0)},onDragLeave:()=>E(!1),onClick:()=>C.current?.click(),children:[(0,d.jsx)("div",{className:"bg-red-100 dark:bg-red-900/40 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-sm",children:(0,d.jsx)(k.Upload,{className:"h-10 w-10 text-red-600 dark:text-red-400"})}),(0,d.jsx)("h3",{className:"text-2xl font-black text-slate-900 dark:text-slate-100 mb-2",children:"Select CSV or Excel"}),(0,d.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-sm mx-auto mb-8",children:"Import multiple expenses quickly. Drag and drop your file here or click to browse."}),(0,d.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full text-[11px] font-bold text-slate-600 dark:text-slate-400",children:[(0,d.jsx)(l.FileText,{className:"h-3 w-3"})," .CSV"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 rounded-full text-[11px] font-bold text-green-700 dark:text-green-400",children:[(0,d.jsx)(l.FileText,{className:"h-3 w-3"})," .XLSX"]})]})]}),(0,d.jsxs)("div",{className:"border rounded-2xl overflow-hidden bg-white dark:bg-slate-900 shadow-sm",children:[(0,d.jsx)("div",{className:"bg-slate-50 dark:bg-slate-800/50 px-6 py-3 border-b flex items-center justify-between",children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(p.Info,{className:"h-4 w-4 text-red-500"}),(0,d.jsx)("span",{className:"text-xs font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:"Expected Format"})]})}),(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)(j.Table,{children:[(0,d.jsx)(j.TableHeader,{children:(0,d.jsxs)(j.TableRow,{className:"bg-slate-100/30 dark:bg-slate-900/30",children:[(0,d.jsx)(j.TableHead,{className:"text-[10px] h-9",children:"Date"}),(0,d.jsx)(j.TableHead,{className:"text-[10px] h-9",children:"Amount"}),(0,d.jsx)(j.TableHead,{className:"text-[10px] h-9",children:"Description"}),(0,d.jsx)(j.TableHead,{className:"text-[10px] h-9",children:"Link to Finance"}),(0,d.jsx)(j.TableHead,{className:"text-[10px] h-9",children:"Finance Account"})]})}),(0,d.jsxs)(j.TableBody,{children:[(0,d.jsxs)(j.TableRow,{className:"h-9 border-slate-100 dark:border-slate-800",children:[(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 font-mono",children:"22/12/2025"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 font-bold",children:"450.00"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 truncate max-w-[120px]",children:"Office Rent"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 text-red-600 font-bold italic",children:"true"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 truncate max-w-[120px]",children:"Company Wallet"})]}),(0,d.jsxs)(j.TableRow,{className:"h-9 border-none",children:[(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 font-mono",children:"23/12/2025"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 font-bold",children:"120.00"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 truncate max-w-[120px]",children:"Stationery"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 text-slate-400 font-bold italic",children:"false"}),(0,d.jsx)(j.TableCell,{className:"text-[11px] py-1.5 text-slate-400 italic",children:"Leave Empty"})]})]})]})})]}),(0,d.jsx)("input",{ref:C,type:"file",accept:".csv, .xlsx, .xls",onChange:a=>a.target.files?.[0]&&I(a.target.files[0]),className:"hidden"})]}),"preview"===A.step&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"bg-red-50 dark:bg-red-900/30 p-2 rounded-xl",children:(0,d.jsx)(l.FileText,{className:"h-6 w-6 text-red-600"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-lg font-black text-slate-900 dark:text-slate-100",children:A.file?.name}),(0,d.jsx)("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-tight",children:"Analyzed Successfully"})]})]}),(0,d.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>B(a=>({...a,step:"select"})),className:"text-red-600 font-bold",children:"Change File"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(g.Card,{className:"shadow-none bg-emerald-50/50 dark:bg-emerald-900/10 border-emerald-100 dark:border-emerald-800/50",children:(0,d.jsxs)(g.CardContent,{className:"p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400",children:A.validRows.length}),(0,d.jsx)("p",{className:"text-[10px] font-black text-emerald-700 dark:text-emerald-500 uppercase tracking-widest mt-1",children:"Ready to Import"})]})}),(0,d.jsx)(g.Card,{className:"shadow-none bg-rose-50/50 dark:bg-rose-900/10 border-rose-100 dark:border-rose-800/50",children:(0,d.jsxs)(g.CardContent,{className:"p-6",children:[(0,d.jsx)("div",{className:"text-3xl font-black text-rose-600 dark:text-rose-400",children:A.errors.length}),(0,d.jsx)("p",{className:"text-[10px] font-black text-rose-700 dark:text-rose-500 uppercase tracking-widest mt-1",children:"Invalid Records"})]})})]})]}),A.errors.length>0&&(0,d.jsxs)(i.Alert,{variant:"destructive",className:"bg-rose-50/50 dark:bg-rose-900/10 border-rose-200 dark:border-rose-900/50 rounded-2xl p-4",children:[(0,d.jsx)(m.AlertCircle,{className:"h-5 w-5 text-rose-600"}),(0,d.jsxs)(i.AlertDescription,{className:"text-sm text-rose-700 dark:text-rose-400 leading-relaxed font-bold ml-2",children:["Heads up! ",A.errors.length," rows have errors and will be skipped.",(0,d.jsxs)(f.Button,{variant:"link",className:"p-0 h-auto ml-2 text-rose-800 dark:text-rose-300 underline font-black uppercase text-xs",onClick:()=>(0,t.generateErrorLogCSV)(A.errors,"expense_errors.csv"),children:[(0,d.jsx)(o.Download,{className:"h-3 w-3 mr-1 inline"})," Export Error Log"]})]})]}),(0,d.jsxs)(f.Button,{className:"w-full h-14 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 shadow-xl font-black text-lg rounded-2xl",onClick:J,disabled:0===A.validRows.length,children:["Confirm Import of ",A.validRows.length," Expenses"]})]}),"uploading"===A.step&&(0,d.jsxs)("div",{className:"space-y-10 py-12 text-center",children:[(0,d.jsxs)("div",{className:"relative w-24 h-24 mx-auto",children:[(0,d.jsx)("div",{className:"absolute inset-0 rounded-3xl border-4 border-slate-100 dark:border-slate-800"}),(0,d.jsx)("div",{className:"absolute inset-0 rounded-3xl border-4 border-t-red-600 animate-spin"}),(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,d.jsx)(q.Receipt,{className:"h-10 w-10 text-red-500/30"})})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h3",{className:"text-2xl font-black",children:"Processing Your Data"}),(0,d.jsxs)("div",{className:"max-w-xs mx-auto space-y-2",children:[(0,d.jsx)(h.Progress,{value:A.uploadProgress,className:"h-3 rounded-full bg-slate-100 dark:bg-slate-800"}),(0,d.jsxs)("span",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:[Math.round(A.uploadProgress),"% Complete"]})]})]})]}),"complete"===A.step&&(0,d.jsxs)("div",{className:"space-y-8 py-8 text-center animate-in fade-in zoom-in duration-500",children:[(0,d.jsx)("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 w-24 h-24 rounded-[2rem] flex items-center justify-center mx-auto shadow-inner",children:(0,d.jsx)(n.CheckCircle,{className:"h-12 w-12 text-emerald-600 dark:text-emerald-400"})}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h3",{className:"text-3xl font-black tracking-tight",children:"Import Complete!"}),(0,d.jsxs)("p",{className:"text-slate-500 dark:text-slate-400 font-bold uppercase text-xs tracking-widest",children:["Successfully Added ",(0,d.jsxs)("span",{className:"text-emerald-600 dark:text-emerald-400 font-black",children:[A.successCount," Records"]})]})]}),(0,d.jsx)(f.Button,{onClick:c,className:"h-14 px-12 rounded-2xl text-lg font-black bg-slate-900 hover:bg-black dark:bg-white dark:text-black shadow-xl",children:"Return to Dashboard"})]})]})})]})})})})}]),c()}catch(a){c(a)}},!1),543918,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(811705),f=a.i(396465),g=a.i(493901),h=a.i(742801),i=a.i(455756),j=a.i(799856),k=b([e,f,j]);[e,f,j]=k.then?(await k)():k,a.s(["default",0,({onNewEntry:a,onBulkEntry:b,onImportCSV:c,canCreate:k=!0})=>(0,d.jsx)(e.Card,{className:"border-none shadow-md overflow-hidden bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-950 mb-6",children:(0,d.jsxs)("div",{className:"p-4 sm:p-6 space-y-4",children:[(0,d.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("h3",{className:"text-lg font-bold tracking-tight",children:"Expense Center"}),(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Manage your business expenditures efficiently"})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[(0,d.jsxs)(f.Button,{type:"button",onClick:a,disabled:!k,className:(0,j.cn)("h-auto py-4 flex flex-col items-center justify-center gap-2 text-white shadow-lg border-none active:scale-[0.98] transition-all",k?"bg-red-600 hover:bg-red-700":"bg-slate-400 cursor-not-allowed opacity-60"),children:[(0,d.jsx)("div",{className:"bg-white/20 p-2 rounded-lg",children:(0,d.jsx)(g.Plus,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("span",{className:"block font-bold",children:"New Entry"}),(0,d.jsx)("span",{className:"block text-[10px] opacity-80 font-medium",children:"Single Expense"})]})]}),(0,d.jsxs)(f.Button,{type:"button",onClick:b,variant:"outline",disabled:!k,className:(0,j.cn)("h-auto py-4 flex flex-col items-center justify-center gap-2 border-slate-200 dark:border-slate-800 shadow-sm active:scale-[0.98] transition-all",k?"hover:bg-orange-50/50 dark:hover:bg-orange-900/10 hover:border-orange-200":"opacity-60 cursor-not-allowed"),children:[(0,d.jsx)("div",{className:"bg-orange-100 dark:bg-orange-900/30 p-2 rounded-lg text-orange-600 dark:text-orange-400",children:(0,d.jsx)(h.LayoutGrid,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("span",{className:"block font-bold",children:"Bulk Entry"}),(0,d.jsx)("span",{className:"block text-[10px] text-muted-foreground font-medium",children:"Manual Batch"})]})]}),(0,d.jsxs)(f.Button,{type:"button",onClick:c,variant:"outline",disabled:!k,className:(0,j.cn)("h-auto py-4 flex flex-col items-center justify-center gap-2 border-slate-200 dark:border-slate-800 shadow-sm active:scale-[0.98] transition-all",k?"hover:bg-emerald-50/50 dark:hover:bg-emerald-900/10 hover:border-emerald-200":"opacity-60 cursor-not-allowed"),children:[(0,d.jsx)("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-lg text-emerald-600 dark:text-emerald-400",children:(0,d.jsx)(i.Upload,{className:"h-5 w-5"})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("span",{className:"block font-bold",children:"Import CSV"}),(0,d.jsx)("span",{className:"block text-[10px] text-muted-foreground font-medium",children:"Process Legacy Logs"})]})]})]})]})})]),c()}catch(a){c(a)}},!1),676972,a=>{"use strict";let b=(0,a.i(564375).default)("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);a.s(["PieChart",()=>b],676972)},277709,a=>{"use strict";var b=a.i(792071);a.s(["exportExpensesToCSV",0,(a,c,d="USD")=>{if(0===a.length)return void alert("No expenses to export");let e=new Blob([[["Date","Description","Category","Amount","Payment Method","Person in Charge","Cash Account","Receipt Available"],...a.map(a=>[(0,b.format)(a.date,"yyyy-MM-dd"),`"${a.description.replace(/"/g,'""')}"`,a.category||"",a.amount.toString(),a.paymentMethod||"",a.personInCharge||"",a.cashAccountId?"Yes":"No",a.receiptImage?"Yes":"No"])].map(a=>a.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(void 0!==f.download){let a=URL.createObjectURL(e);f.setAttribute("href",a),f.setAttribute("download",`expenses-${d}-${(0,b.format)(new Date,"yyyy-MM-dd")}.csv`),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)}}])},954950,a=>{"use strict";var b=a.i(792071),c=a.i(959866);a.s(["exportExpensesToPDF",0,(a,d,e="USD",f,g,h,i)=>{if(0===a.length)return void alert("No expenses to export");let j=new c.default({orientation:"landscape",unit:"mm",format:"a4"}),k=j.internal.pageSize.getWidth(),l=j.internal.pageSize.getHeight(),m=8;j.setFontSize(20),j.setFont("helvetica","bold"),j.text(f||"Business",8,m),m+=12,j.setFontSize(16),j.text("Expenses Report",8,m),m+=10,j.setFontSize(12),j.setFont("helvetica","normal");let n="";if(h&&"all"!==h)switch(h){case"today":n=`Period: Today (${(0,b.format)(new Date,"MMM dd, yyyy")})`;break;case"yesterday":let o=new Date;o.setDate(o.getDate()-1),n=`Period: Yesterday (${(0,b.format)(o,"MMM dd, yyyy")})`;break;case"this-week":n="Period: This Week";break;case"last-week":n="Period: Last Week";break;case"this-month":n=`Period: This Month (${(0,b.format)(new Date,"MMMM yyyy")})`;break;case"last-month":let p=new Date;p.setMonth(p.getMonth()-1),n=`Period: Last Month (${(0,b.format)(p,"MMMM yyyy")})`;break;case"this-year":n=`Period: This Year (${(0,b.format)(new Date,"yyyy")})`;break;case"custom":n=i?.from&&i?.to?`Period: ${(0,b.format)(i.from,"MMM dd, yyyy")} - ${(0,b.format)(i.to,"MMM dd, yyyy")}`:i?.from?`Period: From ${(0,b.format)(i.from,"MMM dd, yyyy")}`:i?.to?`Period: Until ${(0,b.format)(i.to,"MMM dd, yyyy")}`:"Period: Custom Range";break;default:n="Period: All Time"}else n="Period: All Time";j.text(n,8,m),m+=6,j.setFontSize(10),j.text(`Generated on: ${(0,b.format)(new Date,"MMM dd, yyyy HH:mm")}`,8,m),m+=10;let q=a.reduce((a,b)=>a+b.amount,0),r=m,s=[{header:"Date",width:25,x:8},{header:"Description",width:65,x:33},{header:"Category",width:30,x:98},{header:`Amount (${e})`,width:30,x:128},{header:"Payment",width:30,x:158},{header:"Person",width:35,x:188},{header:"Cash",width:20,x:223},{header:"Receipt",width:20,x:243}];j.setFillColor(240,240,240),j.rect(8,r,k-16,8,"F"),j.setFontSize(9),j.setFont("helvetica","bold"),j.setTextColor(0,0,0),s.forEach(a=>{j.text(a.header,a.x+2,r+6)}),j.setLineWidth(.5),j.setDrawColor(0,0,0),j.rect(8,r,k-16,8),j.setFont("helvetica","normal"),j.setFontSize(8);let t=r+8,u=Math.floor((l-t-20)/6);a.forEach((a,c)=>{c>0&&c%u==0&&(j.addPage(),t=8,j.setFillColor(240,240,240),j.rect(8,t,k-16,8,"F"),j.setFont("helvetica","bold"),j.setFontSize(9),s.forEach(a=>{j.text(a.header,a.x+2,t+6)}),j.rect(8,t,k-16,8),t+=8,j.setFont("helvetica","normal"),j.setFontSize(8)),c%2==1&&(j.setFillColor(248,248,248),j.rect(8,t,k-16,6,"F"));let e=[(0,b.format)(a.date,"MM/dd/yyyy"),a.description.length>30?a.description.substring(0,27)+"...":a.description,a.category||"-",d(a.amount),a.paymentMethod?.substring(0,12)||"-",a.personInCharge?.substring(0,15)||"-",a.cashAccountId?"Yes":"No",a.receiptImage?"Yes":"No"];s.forEach((a,b)=>{let c=e[b],d=a.x+2;if(3===b){let b=j.getTextWidth(c);j.text(c,a.x+a.width-b-2,t+4.5)}else j.text(c,d,t+4.5)}),j.setLineWidth(.1),j.rect(8,t,k-16,6),t+=6}),(t+=8)+25>l-8&&(j.addPage(),t=20),j.setFontSize(14),j.setFont("helvetica","bold"),j.text("Summary",8,t),t+=12,j.setFontSize(11),j.setFont("helvetica","normal"),[["Total Expenses:",a.length.toString()],["Total Amount:",d(q)],["With Receipts:",a.filter(a=>a.receiptImage).length.toString()],["Cash Linked:",a.filter(a=>a.cashAccountId).length.toString()]].forEach((a,b)=>{let c=t+5*b;j.setFont("helvetica","bold"),j.text(a[0],8,c),j.setFont("helvetica","normal"),j.text(a[1],58,c)});let v=j.getNumberOfPages();for(let a=1;a<=v;a++)j.setPage(a),j.setFontSize(8),j.setFont("helvetica","normal"),j.text(`Page ${a} of ${v}`,k-8-20,l-10),j.setFontSize(10),j.setFont("helvetica","italic"),j.setTextColor(150,150,150),j.text("Created By Gonza Systems",8,l-5),j.setTextColor(0,0,0);let w=`expenses_report_${(0,b.format)(new Date,"yyyy-MM-dd")}.pdf`;j.save(w)}])},285694,a=>{"use strict";var b=a.i(809921);a.s(["generateExpenseTemplate",0,()=>{let a=b.utils.json_to_sheet([{Date:"22/12/2025",Amount:"450.00",Description:"Office Rent",Category:"Rent","Payment Method":"Bank","Person In Charge":"Admin","Link to Finance":"true","Finance Account":"Company Wallet"},{Date:"23/12/2025",Amount:"120.00",Description:"Stationery",Category:"Supplies","Payment Method":"Cash","Person In Charge":"Manager","Link to Finance":"false","Finance Account":""}],{header:["Date","Amount","Description","Category","Payment Method","Person In Charge","Link to Finance","Finance Account"]}),c=b.utils.book_new();b.utils.book_append_sheet(c,a,"Expenses Template"),b.writeFile(c,"expense_import_template.xlsx")}])},34335,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(531811),g=a.i(529845),h=a.i(424496),i=a.i(224993),j=a.i(123561),k=a.i(843979),l=a.i(868071),m=a.i(463412),n=a.i(396465),o=a.i(148608),p=a.i(37707),q=a.i(731718),r=a.i(543918),s=a.i(558277),t=a.i(492705),u=a.i(676972),v=a.i(436028),w=a.i(805297),x=a.i(289118),y=a.i(747899),z=a.i(277709),A=a.i(954950),B=a.i(285694),C=b([f,g,h,i,j,k,l,m,n,o,p,q,r,w,x]);[f,g,h,i,j,k,l,m,n,o,p,q,r,w,x]=C.then?(await C)():C,a.s(["default",0,()=>{let{user:a}=(0,f.useAuth)(),b=(0,y.useNavigate)(),c=(0,s.useIsMobile)(),{hasPermission:C,isLoading:D}=(0,w.useProfiles)(),{settings:E}=(0,i.useBusinessSettings)(),{expenses:F,isLoading:G,createExpense:H,updateExpense:I,deleteExpense:J,refreshExpenses:K}=(0,g.useExpenses)(),[L,M]=(0,e.useState)("overview"),[N,O]=(0,e.useState)(!1),[P,Q]=(0,e.useState)(!1),[R,S]=(0,e.useState)(!1),[T,U]=(0,e.useState)("all"),[V,W]=(0,e.useState)({from:void 0,to:void 0}),{filteredExpenses:X,expenseStats:Y,formatCurrency:Z}=(0,h.useExpenseData)(F||[],T,V),$=async a=>{try{await H(a),O(!1)}catch(a){console.error("Error creating expense:",a)}},_=(0,e.useCallback)(()=>{let a=E?.currency||"USD";(0,z.exportExpensesToCSV)(X,Z,a)},[X,Z,E?.currency]),aa=(0,e.useCallback)(()=>{let a=E?.currency||"USD";(0,A.exportExpensesToPDF)(X,Z,a,E?.businessName,E?.businessLogo,T,V)},[X,Z,E,T,V]);if(D||G)return(0,d.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,d.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!C("expenses","view"))return(0,d.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,d.jsxs)(x.Alert,{variant:"destructive",children:[(0,d.jsx)(v.AlertCircle,{className:"h-4 w-4"}),(0,d.jsx)(x.AlertTitle,{children:"Access Denied"}),(0,d.jsx)(x.AlertDescription,{children:"You do not have permission to view expenses. Please contact your administrator if you believe this is an error."})]}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(n.Button,{onClick:()=>b("/"),variant:"outline",children:"Back to Dashboard"})})]});let ab=C("expenses","create");return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(j.default,{onAddExpense:()=>O(!0),isRefreshing:G,onRefresh:K,onAddBulkExpense:()=>Q(!0),onImportExpenses:()=>S(!0),onExportCSV:_,onExportPDF:aa,onDownloadTemplate:()=>(0,B.generateExpenseTemplate)(),canCreate:ab}),(0,d.jsx)(m.default,{open:N,onOpenChange:O,onSubmit:$}),(0,d.jsx)(p.default,{open:P,onOpenChange:Q,onSuccess:()=>{Q(!1),K()}}),(0,d.jsx)(q.default,{open:R,onOpenChange:S,onUploadComplete:()=>{S(!1),K()}}),(0,d.jsx)("div",{className:"px-4 md:px-0",children:(0,d.jsxs)(o.Tabs,{value:L,onValueChange:M,className:"w-full space-y-6",children:[(0,d.jsxs)(o.TabsList,{className:`grid w-full ${c?"grid-cols-2 gap-1 h-auto py-1":"grid-cols-2"} bg-slate-100/50 dark:bg-slate-800/50 p-1 rounded-xl`,children:[(0,d.jsxs)(o.TabsTrigger,{value:"overview",className:"flex items-center gap-2 py-2.5 rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-slate-900 data-[state=active]:shadow-sm",children:[(0,d.jsx)(u.PieChart,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"Overview"})]}),(0,d.jsxs)(o.TabsTrigger,{value:"expenses-list",className:"flex items-center gap-2 py-2.5 rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-slate-900 data-[state=active]:shadow-sm",children:[(0,d.jsx)(t.List,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"List"})]})]}),(0,d.jsxs)(o.TabsContent,{value:"overview",className:"space-y-6 animate-in fade-in-50 duration-300",children:[(0,d.jsx)(r.default,{onNewEntry:()=>O(!0),onBulkEntry:()=>Q(!0),onImportCSV:()=>S(!0),canCreate:ab}),(0,d.jsx)(l.default,{dateFilter:T,dateRange:V,onDateFilterChange:U,onDateRangeChange:W}),(0,d.jsx)(k.default,{filteredExpenses:X,expenseStats:Y,formatCurrency:Z,dateFilter:T,onUpdateExpense:I,onDeleteExpense:J,showOnlyOverview:!0})]}),(0,d.jsxs)(o.TabsContent,{value:"expenses-list",className:"space-y-6 animate-in fade-in-50 duration-300",children:[(0,d.jsx)(l.default,{dateFilter:T,dateRange:V,onDateFilterChange:U,onDateRangeChange:W}),(0,d.jsx)(k.default,{filteredExpenses:X,expenseStats:Y,formatCurrency:Z,dateFilter:T,onUpdateExpense:I,onDeleteExpense:J,showOnlyList:!0})]})]})})]})}]),c()}catch(a){c(a)}},!1),714582,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(539141),h=a.i(706555),i=a.i(34335),j=a.i(509193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/Expenses",pathname:"/Expenses",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/Expenses",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_7d47076d._.js.map