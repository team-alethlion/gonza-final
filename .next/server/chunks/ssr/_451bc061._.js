module.exports=[281602,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(792071),f=a.i(540629),g=a.i(396465),h=a.i(811705),i=a.i(899054),j=a.i(445916),k=a.i(946032),l=a.i(132660),m=a.i(799856),n=a.i(224993),o=a.i(625250),p=b([f,g,h,i,m,n,o]);[f,g,h,i,m,n,o]=p.then?(await p)():p,a.s(["default",0,({carriageInwards:a,onEdit:b,onDelete:c,onView:p,isLoading:q})=>{let{settings:r}=(0,n.useBusinessSettings)(),{canViewCostPrice:s}=(0,o.useFinancialVisibility)(),t=r.currency||"USD",u=a.reduce((a,b)=>a+b.amount,0);return q?(0,d.jsx)(h.Card,{children:(0,d.jsx)(h.CardContent,{className:"p-6",children:(0,d.jsx)("div",{className:"flex justify-center items-center h-32",children:(0,d.jsx)("div",{className:"animate-pulse",children:"Loading carriage inwards records..."})})})}):0===a.length?(0,d.jsx)(h.Card,{children:(0,d.jsx)(h.CardContent,{className:"p-6",children:(0,d.jsxs)("div",{className:"text-center text-muted-foreground",children:[(0,d.jsx)("p",{className:"text-lg font-medium",children:"No carriage inwards records found"}),(0,d.jsx)("p",{className:"text-sm",children:"Add your first transport cost record to get started."})]})})}):(0,d.jsxs)(h.Card,{children:[(0,d.jsx)(h.CardHeader,{children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)(h.CardTitle,{children:"Carriage Inwards Records"}),s&&(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),(0,d.jsx)("p",{className:"text-lg font-bold",children:(0,m.formatCashCurrency)(u,t)})]})]})}),(0,d.jsx)(h.CardContent,{children:(0,d.jsx)("div",{className:"overflow-x-auto",children:(0,d.jsxs)(f.Table,{children:[(0,d.jsx)(f.TableHeader,{children:(0,d.jsxs)(f.TableRow,{children:[(0,d.jsx)(f.TableHead,{children:"Date"}),(0,d.jsx)(f.TableHead,{children:"Supplier Name"}),(0,d.jsx)(f.TableHead,{children:"Details"}),s&&(0,d.jsx)(f.TableHead,{className:"text-right",children:"Amount"}),(0,d.jsx)(f.TableHead,{children:"Payment"}),(0,d.jsx)(f.TableHead,{className:"text-center",children:"Actions"})]})}),(0,d.jsx)(f.TableBody,{children:a.map(a=>(0,d.jsxs)(f.TableRow,{children:[(0,d.jsx)(f.TableCell,{children:(0,e.format)(a.date,"MMM dd, yyyy")}),(0,d.jsx)(f.TableCell,{className:"font-medium",children:a.supplierName}),(0,d.jsx)(f.TableCell,{children:(0,d.jsx)("div",{className:"max-w-xs truncate",title:a.details,children:a.details})}),s&&(0,d.jsx)(f.TableCell,{className:"text-right font-medium",children:(0,m.formatCashCurrency)(a.amount,t)}),(0,d.jsx)(f.TableCell,{children:a.cashAccountId?(0,d.jsx)(i.Badge,{variant:"secondary",children:"Paid"}):(0,d.jsx)(i.Badge,{variant:"outline",children:"Not Linked"})}),(0,d.jsx)(f.TableCell,{children:(0,d.jsxs)("div",{className:"flex justify-center gap-1",children:[(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>p(a),title:"View details",children:(0,d.jsx)(l.Eye,{className:"h-4 w-4"})}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>b(a),title:"Edit record",children:(0,d.jsx)(j.Edit,{className:"h-4 w-4"})}),(0,d.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>c(a.id),title:"Delete record",children:(0,d.jsx)(k.Trash2,{className:"h-4 w-4 text-red-500"})})]})})]},a.id))})]})})})]})}]),c()}catch(a){c(a)}},!1),202740,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(396465),g=a.i(112779),h=a.i(397625),i=a.i(330281),j=a.i(811705),k=a.i(393551),l=a.i(158799),m=a.i(688272),n=a.i(585459),o=a.i(792071),p=a.i(799856),q=a.i(466890),r=b([f,g,h,i,j,k,l,m,p,q]);[f,g,h,i,j,k,l,m,p,q]=r.then?(await r)():r,a.s(["default",0,({onSubmit:a,onCancel:b,initialData:c,isEditing:r=!1})=>{let[s,t]=(0,e.useState)({supplierName:c?.supplierName||"",details:c?.details||"",amount:c?.amount||0,date:c?.date||new Date,cashAccountId:c?.cashAccountId||void 0}),[u,v]=(0,e.useState)(!1),{accounts:w}=(0,q.useCashAccounts)(),x=async b=>{if(b.preventDefault(),s.supplierName.trim()&&s.details.trim()&&!(s.amount<=0)){v(!0);try{await a(s)}finally{v(!1)}}},y=s.cashAccountId||"none";return(0,d.jsxs)(j.Card,{className:"w-full max-w-2xl mx-auto",children:[(0,d.jsx)(j.CardHeader,{children:(0,d.jsx)(j.CardTitle,{children:r?"Edit Carriage Inwards":"Add New Carriage Inwards"})}),(0,d.jsx)(j.CardContent,{children:(0,d.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.Label,{htmlFor:"supplierName",children:"Supplier Name *"}),(0,d.jsx)(g.Input,{id:"supplierName",value:s.supplierName,onChange:a=>t({...s,supplierName:a.target.value}),onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),document.getElementById("details")?.focus())},placeholder:"Enter supplier name",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.Label,{htmlFor:"details",children:"Details *"}),(0,d.jsx)(i.Textarea,{id:"details",value:s.details,onChange:a=>t({...s,details:a.target.value}),onKeyDown:a=>{"Enter"!==a.key||a.shiftKey||(a.preventDefault(),document.getElementById("amount")?.focus())},placeholder:"Enter transport details",rows:3,required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.Label,{htmlFor:"amount",children:"Amount *"}),(0,d.jsx)(g.Input,{id:"amount",type:"number",step:"0.01",min:"0",value:s.amount,onChange:a=>t({...s,amount:parseFloat(a.target.value)||0}),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.querySelector('[role="combobox"]');b&&b.focus()}},placeholder:"0.00",required:!0})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.Label,{children:"Date *"}),(0,d.jsxs)(l.Popover,{children:[(0,d.jsx)(l.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)(f.Button,{variant:"outline",className:(0,p.cn)("w-full justify-start text-left font-normal",!s.date&&"text-muted-foreground"),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.querySelector('button[role="combobox"]:last-of-type');b&&b.focus()}},children:[(0,d.jsx)(n.CalendarIcon,{className:"mr-2 h-4 w-4"}),s.date?(0,o.format)(s.date,"PPP"):(0,d.jsx)("span",{children:"Pick a date"})]})}),(0,d.jsx)(l.PopoverContent,{className:"w-auto p-0",align:"start",children:(0,d.jsx)(k.Calendar,{mode:"single",selected:s.date,onSelect:a=>a&&t({...s,date:a}),disabled:a=>a>new Date,initialFocus:!0,className:"p-3 pointer-events-auto"})})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(h.Label,{htmlFor:"cashAccount",children:"Cash Account (Optional)"}),(0,d.jsxs)(m.Select,{value:y,onValueChange:a=>{t({...s,cashAccountId:"none"===a?void 0:a}),setTimeout(()=>{let a=document.querySelector('button[type="submit"]');a?.focus()},100)},children:[(0,d.jsx)(m.SelectTrigger,{onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),setTimeout(()=>{let a=document.querySelector('button[type="submit"]');a?.focus()},100))},children:(0,d.jsx)(m.SelectValue,{placeholder:"Select a cash account"})}),(0,d.jsxs)(m.SelectContent,{children:[(0,d.jsx)(m.SelectItem,{value:"none",children:"No cash account"}),w.map(a=>(0,d.jsx)(m.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,d.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,d.jsx)(f.Button,{type:"submit",disabled:u||!s.supplierName.trim()||!s.details.trim()||s.amount<=0,className:"flex-1",children:u?"Saving...":r?"Update":"Add"}),(0,d.jsx)(f.Button,{type:"button",variant:"outline",onClick:b,disabled:u,className:"flex-1",children:"Cancel"})]})]})})]})}]),c()}catch(a){c(a)}},!1),539715,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(747899),g=a.i(396465),h=a.i(493901),i=a.i(506766),j=a.i(2026),k=a.i(531811),l=a.i(964889),m=a.i(281602),n=a.i(202740),o=a.i(751184),p=a.i(224993),q=a.i(108191),r=a.i(558277),s=a.i(811705),t=a.i(745695),u=a.i(805297),v=b([g,k,l,m,n,o,p,s,u]);[g,k,l,m,n,o,p,s,u]=v.then?(await v)():v,a.s(["default",0,()=>{let a=(0,f.useNavigate)(),{user:b}=(0,k.useAuth)(),{currentBusiness:c,isLoading:v}=(0,l.useBusiness)(),{toast:w}=(0,q.useToast)(),x=(0,r.useIsMobile)(),{settings:y}=(0,p.useBusinessSettings)(),{hasPermission:z}=(0,u.useProfiles)(),A=z("inventory","create"),B=z("inventory","edit"),C=z("inventory","delete"),{carriageInwards:D,isLoading:E,createCarriageInward:F,updateCarriageInward:G,deleteCarriageInward:H}=(0,o.useCarriageInwards)(),[I,J]=(0,e.useState)(!1),K=D.reduce((a,b)=>a+Number(b.amount),0),L=D.length,M=[...new Set(D.map(a=>a.supplierName))].length,N=D.filter(a=>{let b=new Date(a.date),c=new Date;return b.getMonth()===c.getMonth()&&b.getFullYear()===c.getFullYear()}).length,O=()=>{w({title:"Data refreshed",description:"Carriage inwards data has been updated."})};return v||!c||E?(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-4",children:[(0,d.jsx)(t.default,{}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Loading carriage inwards data..."})]}):(0,d.jsxs)("div",{className:"p-3 md:p-6 space-y-4 md:space-y-6",children:[(0,d.jsx)("div",{className:"space-y-3 md:space-y-4",children:(0,d.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)(g.Button,{variant:"ghost",size:"icon",onClick:()=>a("/inventory"),className:"shrink-0 h-8 w-8",title:"Back to inventory",children:(0,d.jsx)(j.ArrowLeft,{className:"h-4 w-4"})}),(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("h1",{className:"text-lg md:text-2xl lg:text-3xl font-bold text-sales-dark",children:"Carriage Inwards"}),(0,d.jsx)("p",{className:"text-xs md:text-base text-muted-foreground",children:"Track transportation and delivery costs for your inventory"})]})]}),x?(0,d.jsx)("div",{className:"space-y-2",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[A&&(0,d.jsxs)(g.Button,{onClick:()=>J(!I),className:"flex-1 gap-2 h-9",variant:I?"outline":"default",children:[(0,d.jsx)(h.Plus,{size:16})," ",I?"Cancel":"Add Entry"]}),(0,d.jsx)(g.Button,{onClick:O,variant:"outline",size:"icon",disabled:E,className:"shrink-0 h-9 w-9",children:(0,d.jsx)(i.RefreshCw,{className:`h-4 w-4 ${E?"animate-spin":""}`})})]})}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(g.Button,{onClick:O,variant:"outline",size:"icon",disabled:E,title:"Refresh data",children:(0,d.jsx)(i.RefreshCw,{className:`h-4 w-4 ${E?"animate-spin":""}`})}),A&&(0,d.jsxs)(g.Button,{onClick:()=>J(!I),className:"gap-2",children:[(0,d.jsx)(h.Plus,{size:16})," ",I?"Cancel":"Add Entry"]})]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4",children:[(0,d.jsx)(s.Card,{className:"overflow-hidden",children:(0,d.jsx)(s.CardContent,{className:"p-3 md:p-4",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Amount"}),(0,d.jsxs)("p",{className:"text-lg md:text-xl font-bold",children:[y.currency||"USD"," ",K.toFixed(2)]})]})})}),(0,d.jsx)(s.Card,{className:"overflow-hidden",children:(0,d.jsx)(s.CardContent,{className:"p-3 md:p-4",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Entries"}),(0,d.jsx)("p",{className:"text-lg md:text-xl font-bold",children:L})]})})}),(0,d.jsx)(s.Card,{className:"overflow-hidden",children:(0,d.jsx)(s.CardContent,{className:"p-3 md:p-4",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"Suppliers"}),(0,d.jsx)("p",{className:"text-lg md:text-xl font-bold",children:M})]})})}),(0,d.jsx)(s.Card,{className:"overflow-hidden",children:(0,d.jsx)(s.CardContent,{className:"p-3 md:p-4",children:(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("p",{className:"text-xs text-muted-foreground",children:"This Month"}),(0,d.jsx)("p",{className:"text-lg md:text-xl font-bold",children:N})]})})})]}),I&&(0,d.jsxs)(s.Card,{className:"shadow-sm",children:[(0,d.jsx)(s.CardHeader,{className:"pb-2 md:pb-6",children:(0,d.jsx)(s.CardTitle,{className:"text-sm md:text-lg",children:"Add New Carriage Entry"})}),(0,d.jsx)(s.CardContent,{children:(0,d.jsx)(n.default,{onSubmit:async a=>{try{await F(a),J(!1),w({title:"Entry created",description:"Carriage inwards entry has been successfully created."})}catch(a){w({title:"Error",description:"Failed to create carriage inwards entry.",variant:"destructive"})}},onCancel:()=>J(!1)})})]}),(0,d.jsxs)(s.Card,{className:"shadow-sm",children:[(0,d.jsx)(s.CardHeader,{className:"pb-2 md:pb-6",children:(0,d.jsx)(s.CardTitle,{className:"text-sm md:text-lg",children:"Carriage Inwards Entries"})}),(0,d.jsx)(s.CardContent,{className:"p-0",children:(0,d.jsx)(m.default,{carriageInwards:D,isLoading:E,onEdit:B?a=>{console.log("Edit record:",a)}:void 0,onDelete:C?H:void 0,onView:a=>{console.log("View record:",a)}})})]})]})}]),c()}catch(a){c(a)}},!1),263703,a=>a.a(async(b,c)=>{try{var d=a.i(579168),e=a.i(627068),f=a.i(332759),g=a.i(539141),h=a.i(706555),i=a.i(539715),j=a.i(509193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/CarriageInwards",pathname:"/CarriageInwards",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/CarriageInwards",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_451bc061._.js.map