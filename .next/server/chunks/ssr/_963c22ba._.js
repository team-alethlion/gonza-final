module.exports=[641710,a=>{"use strict";let b=(0,a.i(170106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],641710)},371844,a=>{"use strict";var b=a.i(187924);a.s(["default",0,({message:a="Loading...",size:c="md",className:d=""})=>(0,b.jsxs)("div",{className:`flex flex-col items-center justify-center space-y-4 ${d}`,children:[(0,b.jsx)("img",{src:"/lovable-uploads/7f7549a3-e9df-4762-b8b9-8e041e34f55d.png",alt:"Loading",className:`${{sm:"w-8 h-8",md:"w-16 h-16",lg:"w-24 h-24"}[c]} animate-spin`}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:a})]})])},911156,a=>{"use strict";let b=(0,a.i(170106).default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);a.s(["CreditCard",()=>b],911156)},501199,a=>{"use strict";let b=(0,a.i(170106).default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);a.s(["Receipt",()=>b],501199)},206222,a=>{"use strict";function b(a){let b=["","thousand","million","billion","trillion","quadrillion"],c=["","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],d=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],e=a=>{let b=a.toFixed(2).split("."),c=f(parseInt(b[0]));return b.length>1&&parseInt(b[1])>0?`${c} and ${b[1]}/100`:c},f=a=>{if(0===a)return"zero";if(a<0)return`negative ${f(Math.abs(a))}`;let c="",d=0;for(;a>0;)a%1e3!=0&&(c=`${g(a%1e3)} ${b[d]} ${c}`),a=Math.floor(a/1e3),d++;return c.trim()},g=a=>{if(0===a)return"";let b="";return a>=100&&(b=`${d[Math.floor(a/100)]} hundred `,0==(a%=100))?b.trim():(a<20?b+=d[a]:(b+=`${c[Math.floor(a/10)]}`,a%10>0&&(b+=`-${d[a%10]}`)),b.trim())};return e(a).trim().charAt(0).toUpperCase()+e(a).trim().slice(1)}a.s(["numberToWords",()=>b])},167453,a=>{"use strict";let b=(0,a.i(170106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],167453)},284415,a=>{"use strict";var b=a.i(572131),c=a.i(433217),d=a.i(937927),e=a.i(169819),f=a.i(391956),g=a.i(405050);let h=(0,g.createServerReference)("40ee1dba433f3b3dc0f2791052194d1420c0946197",g.callServer,void 0,g.findSourceMapURL,"getOnboardingStatusAction"),i=(0,g.createServerReference)("4011d3f24165a1ff4c6519d47357cf1974ec9d298f",g.callServer,void 0,g.findSourceMapURL,"getAccountStatusAction");var j=a.i(682242);let k="businessOnboarding";a.s(["useOnboarding",0,()=>{let{currentBusiness:a}=(0,e.useBusiness)(),{user:g}=(0,f.useAuth)(),l=(0,d.useQueryClient)(),{data:m,isLoading:n,refetch:o}=(0,c.useQuery)({queryKey:[k,a?.id],queryFn:async()=>a?.id&&g?.id?await h(a.id):null,enabled:!!a?.id&&!!g?.id,staleTime:3e5,gcTime:18e5,refetchOnWindowFocus:!1}),{data:p,isLoading:q,refetch:r}=(0,c.useQuery)({queryKey:["globalAccountStatus",g?.id],queryFn:async()=>g?.id?await i(g.id):null,enabled:!!g?.id,staleTime:1e4,refetchInterval:3e4}),s=m?.completed===!0,t=m?.is_frozen===!0||p?.is_frozen===!0,u=(0,b.useCallback)(()=>{o(),r()},[o,r]),v=(0,b.useCallback)(async b=>{if(!a?.id||!g?.id)return console.error("useOnboarding: No business or user found"),!1;try{let c=await (0,j.upsertBusinessSettingsAction)(a.id,g.id,b);if(!c.success)return console.error("Error saving onboarding data:",c.error),!1;return l.invalidateQueries({queryKey:[k,a.id]}),l.invalidateQueries({queryKey:["user-onboarding-complete",g.id]}),!0}catch(a){return console.error("Unexpected error saving onboarding:",a),!1}},[a?.id,g?.id,l]);return{onboarding:m,isLoading:n||q,isCompleted:s,isFrozen:t,locationLimit:p?.location_limit||1,billingAmount:p?.billing_amount||5e4,billingDuration:p?.billing_duration||"Monthly",daysRemaining:p?.days_remaining||0,nextBillingDate:p?.next_billing_date,saveOnboarding:v,refetch:u}}],284415)},699981,a=>{"use strict";var b=a.i(932596),c=a.i(277894),d=a.i(256711),e=a.i(206222);let f=async(a,f="invoice")=>{let g=new b.default({orientation:"portrait",unit:"mm",format:"a4"}),h=g.internal.pageSize.getWidth(),i=20,j="receipt"===f,k=j?"Receipt":"Invoice";try{let a=new Image;a.src="/lovable-uploads/798d07d7-1db7-498c-92f3-6f6346827d59.png",await new Promise(b=>{a.onload=()=>{let c=a.width/a.height;g.addImage(a,"PNG",20,i,20*c,20),b(null)},a.onerror=()=>b(null)})}catch(a){console.warn("Could not load logo for PDF")}g.setFontSize(14),g.setFont("helvetica","bold"),g.text("GONZA BUSINESS SYSTEMS",h-20,i+5,{align:"right"}),g.setFontSize(9),g.setFont("helvetica","normal"),g.text("Rubaga ROYZ PLAZA room A04",h-20,i+10,{align:"right"}),g.text("Phone: +256 758519696",h-20,i+14,{align:"right"}),g.text("Email: gonzasystems@gmail.com",h-20,i+18,{align:"right"}),i+=28,g.setLineWidth(.5),g.line(20,i,h-20,i),i+=7,g.setFontSize(16),g.setFont("helvetica","bold"),g.text(j?"SALES RECEIPT":"INVOICE",h/2,i,{align:"center"}),i+=4,g.line(20,i,h-20,i),i+=10;let l=a.invoice_number?a.invoice_number.toString().padStart(4,"0"):a.id.split("-")[0].toUpperCase();g.setFontSize(10),g.setFont("helvetica","bold"),g.text(`${k} #: ${l}`,20,i);let m=["completed","success"].includes(a.payment_status?.toLowerCase());g.text(`Status: ${m?"Paid":"Pending"}`,h-20,i,{align:"right"}),i+=5,g.setFont("helvetica","normal"),g.text(`Date: ${(0,d.format)(new Date(a.created_at),"MMM dd, yyyy")}`,20,i),a.due_date&&g.text(`Due Date: ${(0,d.format)(new Date(a.due_date),"MMM dd, yyyy")}`,h-20,i,{align:"right"}),i+=5,g.text(`Time: ${(0,d.format)(new Date(a.created_at),"hh:mm aa")}`,20,i),i+=10,g.setFont("helvetica","bold"),g.text("Customer Information:",20,i),i+=5,g.setFont("helvetica","normal"),g.text(a.business_name||"Gonzo System User",20,i),i+=12,(0,c.default)(g,{startY:i,margin:{left:20,right:20},head:[["Description","Qty","Unit Price","Amount"]],body:[[`${a.billing_cycle} subscription for gonza system`,"1",`UGX ${a.amount.toLocaleString()}`,`UGX ${a.amount.toLocaleString()}`]],headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontSize:10,fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},bodyStyles:{fontSize:9,lineWidth:.1,lineColor:[200,200,200]},columnStyles:{0:{cellWidth:80},1:{halign:"center",cellWidth:20},2:{halign:"right",cellWidth:35},3:{halign:"right",cellWidth:35}}}),i=g.lastAutoTable.finalY,(0,c.default)(g,{startY:i,margin:{left:h-20-90},body:[["Subtotal:",`UGX ${a.amount.toLocaleString()}`],["TOTAL:",`UGX ${a.amount.toLocaleString()}`]],theme:"plain",styles:{fontSize:10,cellPadding:2},columnStyles:{0:{cellWidth:45,fontStyle:"normal"},1:{cellWidth:45,halign:"right",fontStyle:"bold"}},didParseCell:a=>{1===a.row.index&&(a.cell.styles.fillColor=[220,220,220],a.cell.styles.fontSize=12),a.cell.styles.lineWidth=.1,a.cell.styles.lineColor=[200,200,200]}}),i=g.lastAutoTable.finalY+10,g.setFont("helvetica","bold"),g.setFontSize(10),g.text("Amount in words:",20,i),i+=5,g.setFont("helvetica","italic"),g.text(`UGX ${(0,e.numberToWords)(a.amount)} only`,20,i),i+=15,i+=5,g.setFont("helvetica","bold"),g.setFontSize(11),g.text("Thank you for your business!",h/2,i,{align:"center"}),i+=5,g.setFont("helvetica","normal"),g.setFontSize(9),g.text("Created by Gonza Systems",h/2,i,{align:"center"}),g.save(`${k}-GS-${a.id.split("-")[0].toUpperCase()}.pdf`)};a.s(["generateSubscriptionInvoice",0,f])}];

//# sourceMappingURL=_963c22ba._.js.map