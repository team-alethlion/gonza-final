module.exports=[627856,a=>a.a(async(b,c)=>{try{var d=a.i(137936),e=a.i(319343),f=a.i(713095),g=b([e]);async function h(a){try{let b=(await e.db.product.findMany({where:{branchId:a},select:{stock:!0,minStock:!0,costPrice:!0,sellingPrice:!0}})).reduce((a,b)=>{let c=b.stock||0,d=b.costPrice||0,e=b.sellingPrice||0,f=b.minStock||0;return a.totalCostValue+=c*d,a.totalStockValue+=c*e,c<=0?a.outOfStockCount+=1:c<=f&&(a.lowStockCount+=1),a},{totalCostValue:0,totalStockValue:0,lowStockCount:0,outOfStockCount:0});return{success:!0,data:b}}catch(a){return console.error("Error fetching global inventory stats:",a),{success:!1,error:a.message}}}async function i(a,b,c){try{let d={branchId:a};(b||c)&&(d.date={},b&&(d.date.gte=new Date(b)),c&&(d.date.lte=new Date(c)));let f=(await e.db.expense.findMany({where:d,select:{amount:!0}})).reduce((a,b)=>a+Number(b.amount),0);return{success:!0,data:f}}catch(a){return console.error("Error fetching total expenses:",a),{success:!1,error:a.message}}}[e]=g.then?(await g)():g,(0,f.ensureServerEntryExports)([h,i]),(0,d.registerServerReference)(h,"4098b5d1071e764486f231ce905b4ac345b0fecac5",null),(0,d.registerServerReference)(i,"70efb1cbb8fb1ba0a6880484e122dc6526ca64a0a4",null),a.s(["getTotalExpensesAction",()=>i]),c()}catch(a){c(a)}},!1),178053,a=>a.a(async(b,c)=>{try{var d=a.i(137936),e=a.i(319343),f=a.i(713095),g=b([e]);async function h(a){try{let b=await e.db.carriageInward.findMany({where:{branchId:a},orderBy:[{date:"desc"},{createdAt:"desc"}]});return{success:!0,data:b.map(a=>({id:a.id,userId:a.userId,locationId:a.branchId,supplierName:a.supplierName,details:a.details,amount:Number(a.amount),date:a.date.toISOString(),cashAccountId:a.cashAccountId,cashTransactionId:a.cashTransactionId,createdAt:a.createdAt.toISOString(),updatedAt:a.updatedAt.toISOString()}))}}catch(a){return{success:!1,error:a.message}}}async function i(a,b,c){try{let d=await e.db.carriageInward.create({data:{userId:a,branchId:b,supplierName:c.supplierName,details:c.details,amount:c.amount,date:c.date,cashAccountId:c.cashAccountId||null}});return{success:!0,data:d}}catch(a){return{success:!1,error:a.message}}}async function j(a,b,c){try{let d={};return void 0!==c.supplierName&&(d.supplierName=c.supplierName),void 0!==c.details&&(d.details=c.details),void 0!==c.amount&&(d.amount=c.amount),void 0!==c.date&&(d.date=c.date),await e.db.carriageInward.update({where:{id:a,branchId:b},data:d}),{success:!0}}catch(a){return{success:!1,error:a.message}}}async function k(a,b){try{return await e.db.carriageInward.delete({where:{id:a,branchId:b}}),{success:!0}}catch(a){return{success:!1,error:a.message}}}[e]=g.then?(await g)():g,(0,f.ensureServerEntryExports)([h,i,j,k]),(0,d.registerServerReference)(h,"4062f5167d8450401fb1c1894fd92a5d62fc63ab55",null),(0,d.registerServerReference)(i,"70092a7345137d042552225207b9c87626a83302fb",null),(0,d.registerServerReference)(j,"7098b1956be922b248aeaf6a1abbd5218f57924a7c",null),(0,d.registerServerReference)(k,"60d170a5cfe5bd35fcab0395360e5c1b90e317f15a",null),a.s(["createCarriageInwardAction",()=>i,"deleteCarriageInwardAction",()=>k,"getCarriageInwardsAction",()=>h,"updateCarriageInwardAction",()=>j]),c()}catch(a){c(a)}},!1),424855,a=>a.a(async(b,c)=>{try{var d=a.i(137936),e=a.i(319343),f=a.i(118558),g=a.i(310236),h=a.i(265233),i=a.i(747820),j=a.i(713095),k=b([e]);async function l(a,b){try{let c=await e.db.task.findMany({where:{createdById:a,branchId:b},orderBy:{dueDate:"asc"}});return{success:!0,data:c.map(a=>({...a,user_id:a.userId,location_id:a.locationId,due_date:a.dueDate.toISOString().split("T")[0],completed_at:a.completedAt?.toISOString()||null,created_at:a.createdAt.toISOString(),updated_at:a.updatedAt.toISOString(),reminder_enabled:a.reminderEnabled,reminder_time:a.reminderTime,is_recurring:a.isRecurring,recurrence_type:a.recurrenceType,recurrence_end_date:a.recurrenceEndDate?.toISOString().split("T")[0]||null,parent_task_id:a.parentTaskId,recurrence_count:a.recurrenceCount}))}}catch(a){return console.error("Error fetching tasks:",a),{success:!1,error:a.message}}}async function m(a){try{let b=await e.db.$transaction(async b=>{let c=await b.task.create({data:{createdById:a.userId,branchId:a.locationId,title:a.title,description:a.description||null,priority:a.priority,dueDate:a.dueDate,category:a.category||null,reminderEnabled:a.reminderEnabled||!1,reminderTime:a.reminderTime||null,isRecurring:a.isRecurring||!1,recurrenceType:a.recurrenceType||null,recurrenceEndDate:a.recurrenceEndDate||null}});if(c.isRecurring&&c.recurrenceType&&c.recurrenceEndDate){let a=[],d=c.dueDate,e=c.recurrenceEndDate,f=0;for(;f<365;){let b;switch(c.recurrenceType){case"daily":b=(0,g.addDays)(d,1);break;case"weekly":b=(0,h.addWeeks)(d,1);break;case"monthly":b=(0,i.addMonths)(d,1);break;default:b=d}if(b>e)break;a.push({createdById:c.createdById,branchId:c.branchId,title:c.title,description:c.description,priority:c.priority,dueDate:b,category:c.category,completed:!1,reminderEnabled:c.reminderEnabled,reminderTime:c.reminderTime,isRecurring:!1,parentTaskId:c.id,recurrenceCount:f+1}),d=b,f++}a.length>0&&await b.task.createMany({data:a})}return c});return(0,f.revalidatePath)("/tasks"),{success:!0,data:b}}catch(a){return console.error("Error creating task:",a),{success:!1,error:a.message}}}async function n(a,b,c){try{let d=await e.db.$transaction(async d=>{let e=await d.task.update({where:{id:a,createdById:b},data:{...c}});if(e.isRecurring&&(c.recurrenceType||c.recurrenceEndDate)&&(await d.task.deleteMany({where:{parentTaskId:a,completed:!1}}),e.recurrenceType&&e.recurrenceEndDate)){let a=[],b=e.dueDate,c=e.recurrenceEndDate,f=0;for(;f<365;){let d;switch(e.recurrenceType){case"daily":d=(0,g.addDays)(b,1);break;case"weekly":d=(0,h.addWeeks)(b,1);break;case"monthly":d=(0,i.addMonths)(b,1);break;default:d=b}if(d>c)break;a.push({createdById:e.createdById,branchId:e.branchId,title:e.title,description:e.description,priority:e.priority,dueDate:d,category:e.category,isRecurring:!1,parentTaskId:e.id,recurrenceCount:f+1}),b=d,f++}a.length>0&&await d.task.createMany({data:a})}return e});return(0,f.revalidatePath)("/tasks"),{success:!0,data:d}}catch(a){return console.error("Error updating task:",a),{success:!1,error:a.message}}}async function o(a,b){try{return await e.db.$transaction(async c=>{await c.task.deleteMany({where:{parentTaskId:a,completed:!1}}),await c.task.delete({where:{id:a,createdById:b}})}),(0,f.revalidatePath)("/tasks"),{success:!0}}catch(a){return console.error("Error deleting task:",a),{success:!1,error:a.message}}}async function p(a,b,c){try{return await e.db.task.updateMany({where:{id:{in:a},createdById:b},data:c}),(0,f.revalidatePath)("/tasks"),{success:!0}}catch(a){return console.error("Error bulk updating tasks:",a),{success:!1,error:a.message}}}async function q(a,b){try{let c=await e.db.taskCategory.findMany({where:{userId:a,branchId:b},orderBy:{name:"asc"}});return{success:!0,data:c.map(a=>({...a,user_id:a.userId,location_id:a.locationId,created_at:a.createdAt.toISOString(),updated_at:a.updatedAt.toISOString()}))}}catch(a){return console.error("Error fetching categories:",a),{success:!1,error:a.message}}}async function r(a,b,c){try{let d=await e.db.taskCategory.create({data:{userId:a,branchId:b,name:c}});return{success:!0,data:d}}catch(a){return console.error("Error creating category:",a),{success:!1,error:a.message}}}async function s(a,b,c){try{let d=await e.db.taskCategory.update({where:{id:a,userId:b},data:{name:c}});return{success:!0,data:d}}catch(a){return console.error("Error updating category:",a),{success:!1,error:a.message}}}async function t(a,b){try{return await e.db.taskCategory.delete({where:{id:a,userId:b}}),{success:!0}}catch(a){return console.error("Error deleting category:",a),{success:!1,error:a.message}}}async function u(a,b){try{let c=["General","Marketing","Operations","Finance","Follow-up"],d=await e.db.taskCategory.findMany({where:{userId:a,branchId:b,name:{in:c}},select:{name:!0}}),f=new Set(d.map(a=>a.name)),g=c.filter(a=>!f.has(a)).map(c=>({userId:a,branchId:b,name:c}));return g.length>0&&await e.db.taskCategory.createMany({data:g}),{success:!0}}catch(a){return console.error("Error creating default categories:",a),{success:!1,error:a.message}}}[e]=k.then?(await k)():k,(0,j.ensureServerEntryExports)([l,m,n,o,p,q,r,s,t,u]),(0,d.registerServerReference)(l,"6034a5c363e12c48d78921a1e0770dbce94f6cff56",null),(0,d.registerServerReference)(m,"40a5a43b9d2632d76958b3c459aff9994a66bba2ac",null),(0,d.registerServerReference)(n,"70de349f8e2650f26ed27e9de63484d5cbd53d334e",null),(0,d.registerServerReference)(o,"60848e5dc2214628ecd58a67490456df40858e9cf4",null),(0,d.registerServerReference)(p,"70f1e5fff4c4c8952afc4201a1485d37ce36b64a37",null),(0,d.registerServerReference)(q,"60bb437c9068ace00a64c1d86874015981b81e317e",null),(0,d.registerServerReference)(r,"70ed67048c4c61e5594abf6f17318d25dd1920aa49",null),(0,d.registerServerReference)(s,"7030b3a2027f25d11b3e1649f9f48de595689e998d",null),(0,d.registerServerReference)(t,"6046a2f8db1a44bfb779f4ccf2c1c8815918bdf60e",null),(0,d.registerServerReference)(u,"60f0a493b50e7389723a1c99f08bf7a82512acceff",null),a.s(["bulkUpdateTasksAction",()=>p,"createDefaultTaskCategoriesAction",()=>u,"createTaskAction",()=>m,"createTaskCategoryAction",()=>r,"deleteTaskAction",()=>o,"deleteTaskCategoryAction",()=>t,"getTaskCategoriesAction",()=>q,"getTasksAction",()=>l,"updateTaskAction",()=>n,"updateTaskCategoryAction",()=>s]),c()}catch(a){c(a)}},!1),419087,a=>a.a(async(b,c)=>{try{var d=a.i(719789),e=a.i(657141),f=a.i(480453),g=a.i(632502),h=a.i(878274),i=a.i(971358),j=a.i(627856),k=a.i(350350),l=a.i(419447),m=a.i(849664),n=a.i(404123),o=a.i(864435),p=a.i(178053),q=a.i(424855),r=b([d,e,f,g,h,i,j,k,l,m,n,o,p,q]);[d,e,f,g,h,i,j,k,l,m,n,o,p,q]=r.then?(await r)():r,a.s([]),c()}catch(a){c(a)}},!1),838458,a=>a.a(async(b,c)=>{try{var d=a.i(419087),e=a.i(719789),f=a.i(657141),g=a.i(480453),h=a.i(632502),i=a.i(878274),j=a.i(971358),k=a.i(627856),l=a.i(350350),m=a.i(419447),n=a.i(849664),o=a.i(404123),p=a.i(864435),q=a.i(178053),r=a.i(424855),s=b([d,e,f,g,h,i,j,k,l,m,n,o,p,q,r]);[d,e,f,g,h,i,j,k,l,m,n,o,p,q,r]=s.then?(await s)():s,a.s(["4001af3a742114ad88aa5fa65b77c9b0daf7714c0e",()=>m.unlinkInstallmentFromCashAction,"40112c882b84370baebfbdd88b55390cbebe0d524d",()=>m.createInstallmentPaymentAction,"4011d3f24165a1ff4c6519d47357cf1974ec9d298f",()=>h.getAccountStatusAction,"4012401c60d205ed481a496ad745ca64dfad82e200",()=>p.createMessageTemplateAction,"40127fd3ae724f72ea4406ee7bf136a2e88120db7f",()=>m.createExpenseCategoryAction,"40193ce83d40b7dbf7c2991866f6d090da71bf2f59",()=>o.createStockHistoryAction,"401d907b5cd7e0b2f207e9b555ac4fe2e14de08444",()=>i.logActivityAction,"40227d1c2ed5cbf6324cf519682235031f0a3138a5",()=>n.getCustomersAction,"40290a4fc6b8571a026afeb877566edb807919e482",()=>h.getBusinessSettingsAction,"402f81bafe02611b5b5687b2b85c12e36ea9604ccf",()=>m.createBulkCashTransactionsAction,"4032dd367fa6b4bfc08062e47a1ca2ffb5e5eb04b0",()=>n.deleteCustomerCategoryAction,"4035262824370ccd2af8788671f3cc8435d165a93b",()=>o.getActivityByEntityIdsAction,"403ecd539ba07dc1ae97e837a5af133a7339b5cb64",()=>m.getExpensesAction,"4048df543ea89e6b499e78c5496b2ff9ac8b3367ff",()=>j.deleteSalesCategoryAction,"4062f5167d8450401fb1c1894fd92a5d62fc63ab55",()=>q.getCarriageInwardsAction,"4064724fc471e698ee76d294a980e2a65c0a9c856a",()=>m.createCashTransactionAction,"40696a4456c7690d29b12ef602356cbc9be3c34a97",()=>n.getCustomerCategoriesAction,"406dfcb8705c888c32dc2bb1380b80464b3977c05d",()=>p.deleteMessageTemplateAction,"406e0d925bc965618c40bddb0b2011bea951e9b025",()=>o.getStockRepairsPreviewAction,"4071ca673ee83cf4e327275e6cacdae94950b7fa0e",()=>g.getProfilesAction,"40786257b46b845f51e5b90ff2502c389af049cc70",()=>m.getInstallmentPaymentsAction,"408055c65091de6e86656304d04a002881aed3acc6",()=>m.getCashAccountsAction,"4085da50dd0bf206cb5893edda258b1fb6087fb94b",()=>e.signUpAction,"408d7d1e536999dcf29cd979cf16838168c69252f0",()=>m.deleteExpenseCategoryAction,"408ffa5a6991ba3e64aa45862bed880555b1e6c2ac",()=>f.removeBusinessPasswordAction,"409394b83f001d081510671555a3855b10e38d2c72",()=>m.deleteInstallmentPaymentAction,"4097618b1feff5bb1f466d7ef73901ab8f5cb1ab7d",()=>f.getBusinessLocationsAction,"40a4b8447ff959c91ed080f8a56d7de9480694b288",()=>g.deleteProfileAction,"40a5a43b9d2632d76958b3c459aff9994a66bba2ac",()=>r.createTaskAction,"40a697434fd28c67d2c607c1f57f3439edf220a529",()=>m.getExpenseCategoriesAction,"40d192c7133b72d6eb22105e9bdccca4dd09d6c312",()=>j.getSalesCategoriesAction,"40d9064371ce5c0811194879498fdc849fbf872b8a",()=>j.deleteSaleAction,"40db42f6103f55b9f7ade5c65ca70a00feff7ff278",()=>m.findCashTransactionAction,"40e343dbe89cc3fb8304b10c9c62480d17ad426333",()=>o.createRequisitionAction,"40ee1dba433f3b3dc0f2791052194d1420c0946197",()=>h.getOnboardingStatusAction,"40f5e1fa124fe3ebdec7f34b54a6837a1c32f5d22d",()=>m.deleteExpenseAction,"40f9d32b0ea15e5c8f0b3441eec79ddb30815f1c83",()=>n.deleteCustomerAction,"40fae8e3cd20e274d8835c219996fbcfcdde06446f",()=>p.createMessageAction,"40fec0c16d5b967e0b7b13b4f39e9f33caa55d98fd",()=>m.createCashAccountAction,"60048cacdf8f6ab02d12e637338fb3a82838e3ab18",()=>o.getRequisitionsAction,"600b97f3c90242ca4be1574d304e260e5e07e3c8cf",()=>p.getMessagesAction,"600c0285b1a230950447aea12ad4361b35b7957acf",()=>f.deleteBusinessAction,"601a24df33adeed822b4de1bc4a7ea1dad51e405a6",()=>j.updateSaleCustomerAction,"601c76a41759792ff7ede8d55df9ffa468b0da22c2",()=>j.updateSalesCategoryAction,"601f435e1ee906932885a36b02b1480071685e0cc2",()=>e.signInAction,"6021a6dd25147899fbda211078cd44cca985d89362",()=>m.updateInstallmentPaymentAction,"60233cf66a8bd607780138afb600e5b4300ab3ce36",()=>m.getAccountOpeningBalanceAction,"6028252923753001f049a6422f229f06bbec8b1f79",()=>g.updateProfileAction,"602de18dc3faf52666fcf9224768f7ac9c1a6340ca",()=>j.getCustomerByNameAction,"6034a5c363e12c48d78921a1e0770dbce94f6cff56",()=>r.getTasksAction,"60364422a73402f3b5e59fb0aa7bbc8b9374b14ab5",()=>f.verifyBusinessPasswordAction,"60428e59105c2448bb202e52e31bf2d4492d8468f7",()=>o.deleteStockHistoryEntriesByReferenceAction,"6046a2f8db1a44bfb779f4ccf2c1c8815918bdf60e",()=>r.deleteTaskCategoryAction,"6050d5e4425dec9de12384682af8632685a43503f6",()=>m.getCashTransactionsAction,"6055d418bbb34217108fb09f6c6e07a1977765bffb",()=>o.getStockHistoryAction,"605622308fa711a2f7465dc0a63c7e00dbe7c0418e",()=>o.deleteRequisitionAction,"605890db4ca201299b68a3100db491232317cf530d",()=>n.updateCustomerCategoryAction,"605a5ac8c70aa01eb0dd29483cb3c24316ae309de0",()=>o.getProductReconciliationAction,"605e333b82184dfc91eaa2d1fe6090163e41e2aa78",()=>m.deleteCashTransactionAction,"606359dfb6b88f4f4b756b5c416007efbe2fcb1fcc",()=>f.setBusinessPasswordAction,"608339c001209003cae74bf0c032c55c8444c1ef85",()=>g.createProfileAction,"60848e5dc2214628ecd58a67490456df40858e9cf4",()=>r.deleteTaskAction,"608c56e751f1517abf78af3f8f4b1eb817c5efcecc",()=>p.getMessageTemplatesAction,"609ad415d8b556837c750a19320a30ea6d4beaf896",()=>n.updateCustomerAction,"609fff12b333f8481f6eaa00c9f6ed0ca7485d5f62",()=>m.deleteCashAccountAction,"60a22285198ef838d83b1b4a602809518cbd22267e",()=>m.getCashAccountBalanceAction,"60a33152b65e6ef5593ff2b5c1d0a77d09216fe7e5",()=>o.repairStockChainsAction,"60a4c2261958cabb4ed4ad155b1559b15bd9b1c7a3",()=>p.updateMessageTemplateAction,"60b4fb287dfbc2b628cca363587f00d76a36f3623b",()=>o.recalculateStockChainAction,"60b753a09691b4217e6751307f35f59cee17dc35d7",()=>f.resetBusinessAction,"60bb437c9068ace00a64c1d86874015981b81e317e",()=>r.getTaskCategoriesAction,"60cff6e1bde4cdde91ed3aaa29411ed65f1ac6b8ba",()=>m.updateCashAccountAction,"60d170a5cfe5bd35fcab0395360e5c1b90e317f15a",()=>q.deleteCarriageInwardAction,"60d7c3d2a9fae9e08d24867d93fe36b7505e38a2e0",()=>f.createBusinessAction,"60e4c60d7aa378a229209542057eb77c66409f1850",()=>m.updateCashTransactionAction,"60eb8a3f21a0957ca35a2a3606c2b8e1d21977469d",()=>o.updateStockHistoryDatesAction,"60f0a493b50e7389723a1c99f08bf7a82512acceff",()=>r.createDefaultTaskCategoriesAction,"60ff4a4d37b8cdb46933c77d4c2feddf840c5c9e12",()=>m.createExpenseAction,"70092a7345137d042552225207b9c87626a83302fb",()=>q.createCarriageInwardAction,"701a700c12f80accdeeab232d537f79439d8fe9e50",()=>m.deleteCashAccountWithTransactionsAction,"701e152aafbc4d4daee38965467b93e083a6e967b4",()=>o.updateRequisitionAction,"7022b270c26116cc720c0fe09926fa8749c32b0ea9",()=>o.getStockSummaryReportAction,"7030b3a2027f25d11b3e1649f9f48de595689e998d",()=>r.updateTaskCategoryAction,"7032a29d28bd01f4196de49c5bc81b9c93747c2fef",()=>l.getExpensesForChartAction,"703e9376bfaf2adbf9aba886e70ba6b561f6bf5e0c",()=>j.getSalesAction,"7062b9fc92a24c208cfe0ff340b8c459971725aba8",()=>m.createDefaultExpenseCategoriesAction,"707be093cac72269888b676c90752075900286c135",()=>j.upsertSaleAction,"70837cf9b9b85e45a6367e7e3a592457c34a990d2e",()=>h.upsertBusinessSettingsAction,"708938753470d59bd6fa4ddf41a8a3581263dd393b",()=>n.createCustomerAction,"7098b1956be922b248aeaf6a1abbd5218f57924a7c",()=>q.updateCarriageInwardAction,"70b04375c8b1e7a5a64b19d8153628c90f1150c267",()=>n.createCustomerCategoryAction,"70d8f9fd83845cd0ba1effc4e3ccdba420d97bade6",()=>m.updateExpenseAction,"70dd23d5987603253209c3c012d3079124803d1be2",()=>f.updateBusinessAction,"70de349f8e2650f26ed27e9de63484d5cbd53d334e",()=>r.updateTaskAction,"70e0c90d8c965637b3ae61b1f0dd8fc9a41ea083d6",()=>o.updateStockHistoryDatesByReferenceAction,"70ed67048c4c61e5594abf6f17318d25dd1920aa49",()=>r.createTaskCategoryAction,"70efb1cbb8fb1ba0a6880484e122dc6526ca64a0a4",()=>k.getTotalExpensesAction,"70f1e5fff4c4c8952afc4201a1485d37ce36b64a37",()=>r.bulkUpdateTasksAction,"78ab6573748e58002b49a105ac9332c6ce6438d0d6",()=>m.linkInstallmentToCashAction,"78f34606537592502556e5eff8bf435c75821848df",()=>j.createSalesCategoryAction,"7c50216f90d367a7092d0edb6ffc217f655b260170",()=>i.getActivityHistoryAction]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_86635f13._.js.map