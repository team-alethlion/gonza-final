{"version":3,"sources":["../../../../src/app/profiles/page.tsx","../../../../src/app/actions/data%3A110d13%20%3Ctext/javascript%3E","../../../../src/app/actions/data%3A05d598%20%3Ctext/javascript%3E","../../../../src/app/actions/data%3A6c18e6%20%3Ctext/javascript%3E","../../../../src/components/profiles/NewProfileDialog.tsx","../../../../src/components/profiles/ProfilePageSkeleton.tsx","../../../../src/components/profiles/ProfileCard.tsx","../../../../src/components/profiles/DeleteProfileDialog.tsx","../../../../src/components/profiles/ProfileHeader.tsx","../../../../src/components/profiles/EmptyProfilesState.tsx","../../../../src/components/profiles/SecuritySettings.tsx","../../../../src/components/profiles/RoleManagement.tsx","../../../../src/components/profiles/EditProfileDialog.tsx","../../../../node_modules/lucide-react/src/icons/user-x.ts","../../../../src/components/profiles/ProfileList.tsx","../../../../src/components/profiles/ProfileContent.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport { ProfileContent } from '@/components/profiles/ProfileContent';\r\nimport { ProfileHeader } from '@/components/profiles/ProfileHeader';\r\nimport { NewProfileDialog } from '@/components/profiles/NewProfileDialog';\r\nimport { EditProfileDialog } from '@/components/profiles/EditProfileDialog';\r\nimport { DeleteProfileDialog } from '@/components/profiles/DeleteProfileDialog';\r\nimport { useProfiles, BusinessProfile } from '@/contexts/ProfileContext';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { RoleManagement } from '@/components/profiles/RoleManagement';\r\nimport { SecuritySettings } from '@/components/profiles/SecuritySettings';\r\nimport { Users, Shield, Lock } from 'lucide-react';\r\n\r\nconst Profiles = () => {\r\n  const { currentBusiness } = useBusiness();\r\n  const { profiles, isLoading, hasPermission } = useProfiles();\r\n  const canManage = hasPermission('profiles', 'manage');\r\n  const [showNewDialog, setShowNewDialog] = useState(false);\r\n  const [editingProfile, setEditingProfile] = useState<BusinessProfile | null>(null);\r\n  const [deletingProfile, setDeletingProfile] = useState<BusinessProfile | null>(null);\r\n\r\n  if (!currentBusiness) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-xl font-semibold text-muted-foreground\">No Business Selected</h2>\r\n          <p className=\"text-muted-foreground\">Please select a business to manage profiles.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6 p-6\">\r\n      <Tabs defaultValue=\"profiles\" className=\"w-full\">\r\n        <div className=\"flex items-center justify-between mb-4 border-b pb-4\">\r\n          <TabsList className=\"bg-muted/50\">\r\n            <TabsTrigger value=\"profiles\" className=\"gap-2\">\r\n              <Users className=\"h-4 w-4\" />\r\n              Profiles\r\n            </TabsTrigger>\r\n            {hasPermission('profiles', 'manage') && (\r\n              <TabsTrigger value=\"roles\" className=\"gap-2\">\r\n                <Shield className=\"h-4 w-4\" />\r\n                Roles\r\n              </TabsTrigger>\r\n            )}\r\n            <TabsTrigger value=\"security\" className=\"gap-2\">\r\n              <Lock className=\"h-4 w-4\" />\r\n              Security\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <div className=\"hidden sm:block\">\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              Current Business: <span className=\"font-semibold text-foreground\">{currentBusiness.name}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <TabsContent value=\"profiles\" className=\"space-y-6 mt-0\">\r\n          <ProfileHeader\r\n            profilesCount={profiles.length}\r\n            onNewProfile={() => setShowNewDialog(true)}\r\n            canManage={canManage}\r\n          />\r\n\r\n          <ProfileContent\r\n            profiles={profiles}\r\n            isLoading={isLoading}\r\n            onEditProfile={setEditingProfile}\r\n            onDeleteProfile={setDeletingProfile}\r\n            canManage={canManage}\r\n          />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"roles\" className=\"mt-0\">\r\n          <RoleManagement />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"security\" className=\"mt-0\">\r\n          <SecuritySettings />\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      <NewProfileDialog\r\n        open={showNewDialog}\r\n        onOpenChange={setShowNewDialog}\r\n      />\r\n\r\n      <EditProfileDialog\r\n        profile={editingProfile}\r\n        open={!!editingProfile}\r\n        onOpenChange={(open) => !open && setEditingProfile(null)}\r\n      />\r\n\r\n      <DeleteProfileDialog\r\n        profile={deletingProfile}\r\n        open={!!deletingProfile}\r\n        onOpenChange={(open) => !open && setDeletingProfile(null)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profiles;","/* __next_internal_action_entry_do_not_use__ [{\"4052909717fb7c5829a34f18b1cedd1784304b0419\":\"getRolesAction\"},\"src/app/actions/profiles.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_4=/*#__PURE__*/createServerReference(\"4052909717fb7c5829a34f18b1cedd1784304b0419\",callServer,void 0,findSourceMapURL,\"getRolesAction\");export{$$RSC_SERVER_ACTION_4 as getRolesAction};","/* __next_internal_action_entry_do_not_use__ [{\"60fb2389f1a7f9190d01c7bd2da1f5e38add1594cd\":\"upsertRoleAction\"},\"src/app/actions/profiles.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_5=/*#__PURE__*/createServerReference(\"60fb2389f1a7f9190d01c7bd2da1f5e38add1594cd\",callServer,void 0,findSourceMapURL,\"upsertRoleAction\");export{$$RSC_SERVER_ACTION_5 as upsertRoleAction};","/* __next_internal_action_entry_do_not_use__ [{\"4051b0115f438ba3dd6196d0c8dbb545e2e4fbd8c4\":\"deleteRoleAction\"},\"src/app/actions/profiles.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_6=/*#__PURE__*/createServerReference(\"4051b0115f438ba3dd6196d0c8dbb545e2e4fbd8c4\",callServer,void 0,findSourceMapURL,\"deleteRoleAction\");export{$$RSC_SERVER_ACTION_6 as deleteRoleAction};","import React, { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { useProfiles, BusinessRole } from '@/contexts/ProfileContext';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { getRolesAction } from '@/app/actions/profiles';\r\n\r\ninterface NewProfileDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const NewProfileDialog: React.FC<NewProfileDialogProps> = ({\r\n  open,\r\n  onOpenChange\r\n}) => {\r\n  const { currentBusiness } = useBusiness();\r\n  const { createProfile, profiles } = useProfiles();\r\n  const [formData, setFormData] = useState({\r\n    profile_name: '',\r\n    email: '',\r\n    phone_number: '',\r\n    role: 'staff',\r\n    role_id: '' as string | null\r\n  });\r\n  const [roles, setRoles] = useState<BusinessRole[]>([]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (open && currentBusiness?.id) {\r\n      loadRoles();\r\n    }\r\n  }, [open, currentBusiness?.id]);\r\n\r\n  const loadRoles = async () => {\r\n    try {\r\n      if (currentBusiness?.id) {\r\n        const data = await getRolesAction(currentBusiness.id);\r\n        setRoles(data as unknown as BusinessRole[]);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n\r\n    // If no profiles exist, force role to owner\r\n    if (profiles.length === 0) {\r\n      setFormData(prev => ({ ...prev, role: 'owner', role_id: null }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const result = await createProfile({\r\n        profile_name: formData.profile_name.trim(),\r\n        email: formData.email.trim(),\r\n        phone_number: formData.phone_number.trim() || undefined,\r\n        role: formData.role,\r\n        role_id: formData.role_id || null,\r\n        pin: '0000',\r\n        is_active: true\r\n      });\r\n\r\n      if (result) {\r\n        setFormData({\r\n          profile_name: '',\r\n          email: '',\r\n          phone_number: '',\r\n          role: 'staff',\r\n          role_id: null\r\n        });\r\n        onOpenChange(false);\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle>Create New Profile</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"profile_name\">Profile Name</Label>\r\n            <Input\r\n              id=\"profile_name\"\r\n              value={formData.profile_name}\r\n              onChange={(e) => handleChange('profile_name', e.target.value)}\r\n              placeholder=\"Enter profile name\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"email\">Email</Label>\r\n            <Input\r\n              id=\"email\"\r\n              type=\"email\"\r\n              value={formData.email}\r\n              onChange={(e) => handleChange('email', e.target.value)}\r\n              placeholder=\"Enter email address\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"phone_number\">Phone Number (Optional)</Label>\r\n            <Input\r\n              id=\"phone_number\"\r\n              value={formData.phone_number}\r\n              onChange={(e) => handleChange('phone_number', e.target.value)}\r\n              placeholder=\"Enter phone number\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"role\">Role</Label>\r\n            <Select\r\n              value={formData.role_id || formData.role}\r\n              onValueChange={(value) => {\r\n                const selectedRole = roles.find(r => r.id === value);\r\n                if (selectedRole) {\r\n                  setFormData(prev => ({ ...prev, role_id: value, role: selectedRole.name }));\r\n                } else {\r\n                  setFormData(prev => ({ ...prev, role_id: null, role: value }));\r\n                }\r\n              }}\r\n              disabled={profiles.length === 0}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue placeholder=\"Select role\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {roles.length > 0 ? (\r\n                  roles.map(role => (\r\n                    <SelectItem key={role.id} value={role.id}>{role.name}</SelectItem>\r\n                  ))\r\n                ) : (\r\n                  <>\r\n                    <SelectItem value=\"owner\">Owner</SelectItem>\r\n                    <SelectItem value=\"manager\">Manager</SelectItem>\r\n                    <SelectItem value=\"staff\">Staff</SelectItem>\r\n                  </>\r\n                )}\r\n              </SelectContent>\r\n            </Select>\r\n            {profiles.length === 0 && (\r\n              <p className=\"text-xs text-muted-foreground mt-1\">First profile must be the Owner.</p>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-2 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSubmitting}>\r\n              {isSubmitting ? 'Creating...' : 'Create Profile'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};","import React from 'react';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\r\n\r\nexport const ProfilePageSkeleton: React.FC = () => {\r\n  return (\r\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n      {Array.from({ length: 6 }).map((_, index) => (\r\n        <Card key={index}>\r\n          <CardHeader className=\"flex flex-row items-start justify-between space-y-0 pb-3\">\r\n            <div className=\"flex-1 space-y-2\">\r\n              <Skeleton className=\"h-5 w-32\" />\r\n              <Skeleton className=\"h-4 w-16\" />\r\n            </div>\r\n            <Skeleton className=\"h-8 w-8\" />\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-3\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Skeleton className=\"h-4 w-4\" />\r\n              <Skeleton className=\"h-4 w-40\" />\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Skeleton className=\"h-4 w-4\" />\r\n              <Skeleton className=\"h-4 w-32\" />\r\n            </div>\r\n            <div className=\"flex items-center justify-between pt-2 border-t\">\r\n              <Skeleton className=\"h-3 w-24\" />\r\n              <Skeleton className=\"h-4 w-12\" />\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';\r\nimport { BusinessProfile, useProfiles } from '@/contexts/ProfileContext';\r\nimport { MoreHorizontal, Mail, Phone, Edit, Trash2, UserCheck, UserX } from 'lucide-react';\r\n\r\ninterface ProfileCardProps {\r\n  profile: BusinessProfile;\r\n  onEdit: () => void;\r\n  onDelete: () => void;\r\n  canManage?: boolean;\r\n}\r\n\r\nexport const ProfileCard: React.FC<ProfileCardProps> = ({\r\n  profile,\r\n  onEdit,\r\n  onDelete,\r\n  canManage = true\r\n}) => {\r\n  const { toggleProfileStatus, currentProfile } = useProfiles();\r\n\r\n  const handleToggleStatus = async () => {\r\n    if (!canManage) return;\r\n    await toggleProfileStatus(profile.id, !profile.is_active);\r\n  };\r\n\r\n  const isSelf = currentProfile?.id === profile.id;\r\n\r\n  const getRoleBadgeVariant = (role: string) => {\r\n    switch (role.toLowerCase()) {\r\n      case 'owner':\r\n        return 'default';\r\n      case 'manager':\r\n        return 'secondary';\r\n      case 'staff':\r\n        return 'outline';\r\n      default:\r\n        return 'outline';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={`relative ${!profile.is_active ? 'opacity-60' : ''}`}>\r\n      <CardHeader className=\"flex flex-row items-start justify-between space-y-0 pb-3\">\r\n        <div className=\"flex-1\">\r\n          <h3 className=\"font-semibold text-lg\">{profile.profile_name}</h3>\r\n          <Badge variant={getRoleBadgeVariant(profile.role)} className=\"mt-1\">\r\n            {profile.role}\r\n          </Badge>\r\n          {isSelf && (\r\n            <Badge variant=\"outline\" className=\"ml-2 text-[10px] bg-blue-50 text-blue-600 border-blue-100\">\r\n              You\r\n            </Badge>\r\n          )}\r\n        </div>\r\n\r\n        {canManage && (\r\n          <DropdownMenu>\r\n            <DropdownMenuTrigger asChild>\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\r\n                <MoreHorizontal className=\"h-4 w-4\" />\r\n              </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\">\r\n              <DropdownMenuItem onClick={onEdit}>\r\n                <Edit className=\"h-4 w-4 mr-2\" />\r\n                Edit Profile\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem onClick={handleToggleStatus}>\r\n                {profile.is_active ? (\r\n                  <>\r\n                    <UserX className=\"h-4 w-4 mr-2\" />\r\n                    Deactivate\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <UserCheck className=\"h-4 w-4 mr-2\" />\r\n                    Activate\r\n                  </>\r\n                )}\r\n              </DropdownMenuItem>\r\n              <DropdownMenuItem\r\n                onClick={onDelete}\r\n                className=\"text-destructive focus:text-destructive\"\r\n              >\r\n                <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                Delete Profile\r\n              </DropdownMenuItem>\r\n            </DropdownMenuContent>\r\n          </DropdownMenu>\r\n        )}\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"space-y-3\">\r\n        <div className=\"flex items-center gap-2 text-sm\">\r\n          <Mail className=\"h-4 w-4 text-muted-foreground\" />\r\n          <span className=\"text-muted-foreground\">{profile.email}</span>\r\n        </div>\r\n\r\n        {profile.phone_number && (\r\n          <div className=\"flex items-center gap-2 text-sm\">\r\n            <Phone className=\"h-4 w-4 text-muted-foreground\" />\r\n            <span className=\"text-muted-foreground\">{profile.phone_number}</span>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex items-center justify-between text-xs text-muted-foreground pt-2 border-t\">\r\n          <span>Created {new Date(profile.created_at).toLocaleDateString()}</span>\r\n          <Badge\r\n            variant={profile.is_active ? \"default\" : \"secondary\"}\r\n            className=\"text-xs\"\r\n          >\r\n            {profile.is_active ? \"Active\" : \"Inactive\"}\r\n          </Badge>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from '@/components/ui/alert-dialog';\r\nimport { useProfiles, BusinessProfile } from '@/contexts/ProfileContext';\r\n\r\ninterface DeleteProfileDialogProps {\r\n  profile: BusinessProfile | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const DeleteProfileDialog: React.FC<DeleteProfileDialogProps> = ({\r\n  profile,\r\n  open,\r\n  onOpenChange\r\n}) => {\r\n  const { deleteProfile } = useProfiles();\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const handleDelete = async () => {\r\n    if (!profile) return;\r\n\r\n    setIsDeleting(true);\r\n    try {\r\n      const success = await deleteProfile(profile.id);\r\n      if (success) {\r\n        onOpenChange(false);\r\n      }\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  if (!profile) return null;\r\n\r\n  return (\r\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\r\n      <AlertDialogContent>\r\n        <AlertDialogHeader>\r\n          <AlertDialogTitle>Delete Profile</AlertDialogTitle>\r\n          <AlertDialogDescription>\r\n            Are you sure you want to delete the profile \"{profile.profile_name}\"? \r\n            This action cannot be undone. All activity history associated with this profile will remain but will no longer be linked to a profile.\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        <AlertDialogFooter>\r\n          <AlertDialogCancel disabled={isDeleting}>Cancel</AlertDialogCancel>\r\n          <AlertDialogAction\r\n            onClick={handleDelete}\r\n            disabled={isDeleting}\r\n            className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\r\n          >\r\n            {isDeleting ? 'Deleting...' : 'Delete Profile'}\r\n          </AlertDialogAction>\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};","import React from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Plus, Users } from 'lucide-react';\r\n\r\ninterface ProfileHeaderProps {\r\n  profilesCount: number;\r\n  onNewProfile: () => void;\r\n  canManage?: boolean;\r\n}\r\n\r\nexport const ProfileHeader: React.FC<ProfileHeaderProps> = ({\r\n  profilesCount,\r\n  onNewProfile,\r\n  canManage = true\r\n}) => {\r\n  return (\r\n    <div className=\"flex items-center justify-between\">\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-foreground flex items-center gap-2\">\r\n          <Users className=\"h-8 w-8\" />\r\n          Profiles\r\n        </h1>\r\n        <p className=\"text-muted-foreground\">\r\n          Manage individual user profiles for your business â€¢ {profilesCount} profile{profilesCount !== 1 ? 's' : ''}\r\n        </p>\r\n      </div>\r\n\r\n      {canManage && (\r\n        <Button onClick={onNewProfile} className=\"gap-2\">\r\n          <Plus className=\"h-4 w-4\" />\r\n          New Profile\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Users } from 'lucide-react';\r\n\r\nexport const EmptyProfilesState: React.FC = () => {\r\n  return (\r\n    <Card>\r\n      <CardContent className=\"flex flex-col items-center justify-center py-12\">\r\n        <Users className=\"h-12 w-12 text-muted-foreground mb-4\" />\r\n        <h3 className=\"text-lg font-semibold mb-2\">No Profiles Yet</h3>\r\n        <p className=\"text-muted-foreground text-center max-w-md\">\r\n          Create profiles for individuals using your business account. Each profile can track their activities separately.\r\n        </p>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};","import React, { useState } from 'react';\r\nimport { useProfiles } from '@/contexts/ProfileContext';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Lock, Check, ShieldCheck } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\nexport const SecuritySettings: React.FC = () => {\r\n    const { currentProfile, changePin } = useProfiles();\r\n    const [formData, setFormData] = useState({\r\n        oldPin: '',\r\n        newPin: '',\r\n        confirmPin: ''\r\n    });\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n    if (!currentProfile) return null;\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (formData.newPin !== formData.confirmPin) {\r\n            toast.error('New PINs do not match');\r\n            return;\r\n        }\r\n\r\n        if (formData.newPin.length !== 4 || !/^\\d+$/.test(formData.newPin)) {\r\n            toast.error('PIN must be exactly 4 digits');\r\n            return;\r\n        }\r\n\r\n        setIsSubmitting(true);\r\n        try {\r\n            const success = await changePin(formData.oldPin, formData.newPin);\r\n            if (success) {\r\n                setFormData({ oldPin: '', newPin: '', confirmPin: '' });\r\n            }\r\n        } finally {\r\n            setIsSubmitting(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-md mx-auto space-y-6\">\r\n            <Card className=\"border-primary/20 shadow-sm\">\r\n                <CardHeader className=\"text-center\">\r\n                    <div className=\"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-2\">\r\n                        <Lock className=\"h-6 w-6 text-primary\" />\r\n                    </div>\r\n                    <CardTitle>Change Your PIN</CardTitle>\r\n                    <CardDescription>\r\n                        Profiles default to <span className=\"font-mono font-bold text-foreground\">0000</span>. We recommend changing it for security.\r\n                    </CardDescription>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <form onSubmit={handleSubmit} className=\"space-y-4\" autoComplete=\"off\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"oldPin\">Current PIN</Label>\r\n                            <Input\r\n                                id=\"oldPin\"\r\n                                type=\"password\"\r\n                                inputMode=\"numeric\"\r\n                                pattern=\"[0-9]*\"\r\n                                maxLength={4}\r\n                                value={formData.oldPin}\r\n                                onChange={(e) => setFormData({ ...formData, oldPin: e.target.value })}\r\n                                placeholder=\"0000\"\r\n                                required\r\n                                autoComplete=\"off\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"newPin\">New 4-Digit PIN</Label>\r\n                            <Input\r\n                                id=\"newPin\"\r\n                                type=\"password\"\r\n                                inputMode=\"numeric\"\r\n                                pattern=\"[0-9]*\"\r\n                                maxLength={4}\r\n                                value={formData.newPin}\r\n                                onChange={(e) => setFormData({ ...formData, newPin: e.target.value })}\r\n                                placeholder=\"Enter new PIN\"\r\n                                required\r\n                                autoComplete=\"new-password\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"space-y-2\">\r\n                            <Label htmlFor=\"confirmPin\">Confirm New PIN</Label>\r\n                            <Input\r\n                                id=\"confirmPin\"\r\n                                type=\"password\"\r\n                                inputMode=\"numeric\"\r\n                                pattern=\"[0-9]*\"\r\n                                maxLength={4}\r\n                                value={formData.confirmPin}\r\n                                onChange={(e) => setFormData({ ...formData, confirmPin: e.target.value })}\r\n                                placeholder=\"Confirm new PIN\"\r\n                                required\r\n                                autoComplete=\"new-password\"\r\n                            />\r\n                        </div>\r\n                        <Button type=\"submit\" className=\"w-full gap-2\" disabled={isSubmitting}>\r\n                            {isSubmitting ? 'Updating...' : (\r\n                                <>\r\n                                    <ShieldCheck className=\"h-4 w-4\" />\r\n                                    Update PIN\r\n                                </>\r\n                            )}\r\n                        </Button>\r\n                    </form>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border-muted bg-muted/20\">\r\n                <CardHeader className=\"pb-2\">\r\n                    <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n                        <Check className=\"h-4 w-4 text-green-600\" /> Security Tip\r\n                    </CardTitle>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                        Avoid simple patterns like 1234 or your birth year. Your PIN is required whenever you switch to this profile.\r\n                    </p>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { useProfiles, BusinessRole } from '@/contexts/ProfileContext';\r\nimport { getRolesAction, upsertRoleAction, deleteRoleAction } from '@/app/actions/profiles';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Checkbox } from '@/components/ui/checkbox';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Plus, Shield, Trash2, Edit2, Check, X } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\nconst MODULES = [\r\n    { id: 'sales', name: 'Sales', actions: ['view', 'create', 'edit', 'delete', 'refund'] },\r\n    {\r\n        id: 'inventory',\r\n        name: 'Inventory',\r\n        actions: ['view', 'create', 'edit', 'delete', 'stock_adjustment', 'view_cost_price', 'view_profit', 'view_selling_price']\r\n    },\r\n    { id: 'finance', name: 'Finance', actions: ['view', 'create', 'edit', 'manage_accounts'] },\r\n    { id: 'customers', name: 'Customers', actions: ['view', 'create', 'edit', 'delete', 'manage'] },\r\n    { id: 'messages', name: 'Messages', actions: ['view', 'create', 'edit', 'delete', 'send'] },\r\n    { id: 'tasks', name: 'Tasks', actions: ['view', 'create', 'edit', 'delete', 'manage'] },\r\n    { id: 'profiles', name: 'Profiles', actions: ['view', 'manage'] },\r\n    { id: 'settings', name: 'Settings', actions: ['view', 'manage'] },\r\n    { id: 'expenses', name: 'Expenses', actions: ['view', 'create', 'edit', 'delete'] },\r\n    {\r\n        id: 'dashboard',\r\n        name: 'Dashboard',\r\n        actions: ['view', 'view_total_sales', 'view_gross_profit', 'view_total_expenses', 'view_inventory_value', 'view_sales_types', 'view_avg_price', 'view_total_amount']\r\n    },\r\n];\r\n\r\nexport const RoleManagement: React.FC = () => {\r\n    const { currentBusiness } = useBusiness();\r\n    const { hasPermission, loadProfiles: reloadProfiles } = useProfiles();\r\n    const [roles, setRoles] = useState<BusinessRole[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [editingRole, setEditingRole] = useState<Partial<BusinessRole> | null>(null);\r\n\r\n    useEffect(() => {\r\n        loadRoles();\r\n    }, [currentBusiness?.id]);\r\n\r\n    const loadRoles = async () => {\r\n        if (!currentBusiness?.id) return;\r\n        setIsLoading(true);\r\n        try {\r\n            const data = await getRolesAction(currentBusiness.id);\r\n            setRoles(data as unknown as BusinessRole[]);\r\n        } catch (error) {\r\n            console.error('Error loading roles:', error);\r\n            toast.error('Failed to load roles');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSaveRole = async () => {\r\n        if (!currentBusiness?.id || !editingRole?.name) return;\r\n\r\n        try {\r\n            const roleData = {\r\n                id: editingRole.id,\r\n                business_location_id: currentBusiness.id,\r\n                name: editingRole.name,\r\n                description: editingRole.description || null,\r\n                permissions: editingRole.permissions || {},\r\n            };\r\n\r\n            const result = await upsertRoleAction(currentBusiness.id, roleData);\r\n\r\n            if (!result.success) throw new Error(result.error);\r\n\r\n            toast.success(editingRole.id ? 'Role updated' : 'Role created');\r\n\r\n            setEditingRole(null);\r\n            await loadRoles();\r\n            await reloadProfiles();\r\n        } catch (error) {\r\n            console.error('Error saving role:', error);\r\n            toast.error('Failed to save role');\r\n        }\r\n    };\r\n\r\n    const handleDeleteRole = async (id: string) => {\r\n        if (!confirm('Are you sure you want to delete this role? Profiles assigned to this role will lose their special permissions.')) return;\r\n\r\n        try {\r\n            const result = await deleteRoleAction(id);\r\n            if (!result.success) throw new Error(result.error);\r\n            toast.success('Role deleted');\r\n            await loadRoles();\r\n            await reloadProfiles();\r\n        } catch (error) {\r\n            console.error('Error deleting role:', error);\r\n            toast.error('Failed to delete role');\r\n        }\r\n    };\r\n\r\n    const togglePermission = (moduleId: string, action: string) => {\r\n        if (!editingRole) return;\r\n\r\n        const currentPermissions = { ...(editingRole.permissions || {}) };\r\n        const modulePermissions = [...(currentPermissions[moduleId] || [])];\r\n\r\n        if (modulePermissions.includes(action)) {\r\n            currentPermissions[moduleId] = modulePermissions.filter(a => a !== action);\r\n        } else {\r\n            currentPermissions[moduleId] = [...modulePermissions, action];\r\n        }\r\n\r\n        setEditingRole({ ...editingRole, permissions: currentPermissions });\r\n    };\r\n\r\n    if (!hasPermission('profiles', 'manage')) {\r\n        return (\r\n            <Card>\r\n                <CardContent className=\"p-6 text-center text-muted-foreground\">\r\n                    You do not have permission to manage roles.\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h3 className=\"text-lg font-medium\">Roles & Permissions</h3>\r\n                    <p className=\"text-sm text-muted-foreground\">Manage roles and what each profile can access.</p>\r\n                </div>\r\n                {!editingRole && (\r\n                    <Button onClick={() => setEditingRole({ name: '', permissions: {} })} className=\"gap-2\">\r\n                        <Plus className=\"h-4 w-4\" />\r\n                        New Role\r\n                    </Button>\r\n                )}\r\n            </div>\r\n\r\n            {editingRole ? (\r\n                <Card className=\"border-primary/20\">\r\n                    <CardHeader>\r\n                        <CardTitle>{editingRole.id ? 'Edit Role' : 'Create New Role'}</CardTitle>\r\n                        <CardDescription>Define the name and permissions for this role.</CardDescription>\r\n                    </CardHeader>\r\n                    <CardContent className=\"space-y-6\">\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"role-name\">Role Name</Label>\r\n                                <Input\r\n                                    id=\"role-name\"\r\n                                    value={editingRole.name}\r\n                                    onChange={(e) => setEditingRole({ ...editingRole, name: e.target.value })}\r\n                                    placeholder=\"e.g. Sales Associate\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <Label htmlFor=\"role-desc\">Description</Label>\r\n                                <Input\r\n                                    id=\"role-desc\"\r\n                                    value={editingRole.description || ''}\r\n                                    onChange={(e) => setEditingRole({ ...editingRole, description: e.target.value })}\r\n                                    placeholder=\"Brief description of the role's purpose\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-4\">\r\n                            <Label>Permissions</Label>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 border rounded-lg p-4 bg-muted/30\">\r\n                                {MODULES.map((module) => (\r\n                                    <div key={module.id} className=\"space-y-3\">\r\n                                        <div className=\"font-semibold text-sm flex items-center gap-2 border-b pb-1\">\r\n                                            <Shield className=\"h-3 w-3 text-primary\" />\r\n                                            {module.name}\r\n                                        </div>\r\n                                        <div className=\"grid grid-cols-1 gap-2\">\r\n                                            {module.actions.map((action) => (\r\n                                                <div key={action} className=\"flex items-center space-x-2\">\r\n                                                    <Checkbox\r\n                                                        id={`${module.id}-${action}`}\r\n                                                        checked={(editingRole.permissions?.[module.id] || []).includes(action)}\r\n                                                        onCheckedChange={() => togglePermission(module.id, action)}\r\n                                                    />\r\n                                                    <Label\r\n                                                        htmlFor={`${module.id}-${action}`}\r\n                                                        className=\"text-xs capitalize font-normal cursor-pointer\"\r\n                                                    >\r\n                                                        {action.replace('_', ' ')}\r\n                                                    </Label>\r\n                                                </div>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex justify-end gap-2 pt-2\">\r\n                            <Button variant=\"outline\" onClick={() => setEditingRole(null)} className=\"gap-2\">\r\n                                <X className=\"h-4 w-4\" /> Cancel\r\n                            </Button>\r\n                            <Button onClick={handleSaveRole} className=\"gap-2\">\r\n                                <Check className=\"h-4 w-4\" /> {editingRole.id ? 'Update Role' : 'Create Role'}\r\n                            </Button>\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {isLoading ? (\r\n                        <p>Loading roles...</p>\r\n                    ) : roles.length === 0 ? (\r\n                        <p className=\"text-muted-foreground col-span-full text-center py-8\">No custom roles created yet.</p>\r\n                    ) : (\r\n                        roles.map((role) => (\r\n                            <Card key={role.id} className=\"group hover:border-primary/50 transition-colors\">\r\n                                <CardHeader className=\"pb-2\">\r\n                                    <div className=\"flex justify-between items-start\">\r\n                                        <CardTitle className=\"text-lg\">{role.name}</CardTitle>\r\n                                        <div className=\"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={() => setEditingRole(role)}>\r\n                                                <Edit2 className=\"h-4 w-4\" />\r\n                                            </Button>\r\n                                            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={() => handleDeleteRole(role.id)}>\r\n                                                <Trash2 className=\"h-4 w-4\" />\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <CardDescription className=\"line-clamp-1\">{role.description || 'No description'}</CardDescription>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                                        {Object.keys(role.permissions).slice(0, 4).map(mod => (\r\n                                            <span key={mod} className=\"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded-full capitalize\">\r\n                                                {mod}\r\n                                            </span>\r\n                                        ))}\r\n                                        {Object.keys(role.permissions).length > 4 && (\r\n                                            <span className=\"text-[10px] bg-muted text-muted-foreground px-2 py-0.5 rounded-full\">\r\n                                                +{Object.keys(role.permissions).length - 4} more\r\n                                            </span>\r\n                                        )}\r\n                                    </div>\r\n                                </CardContent>\r\n                            </Card>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { useProfiles, BusinessProfile, BusinessRole } from '@/contexts/ProfileContext';\r\nimport { useBusiness } from '@/contexts/BusinessContext';\r\nimport { getRolesAction } from '@/app/actions/profiles';\r\nimport { Lock } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\n\r\ninterface EditProfileDialogProps {\r\n  profile: BusinessProfile | null;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n}\r\n\r\nexport const EditProfileDialog: React.FC<EditProfileDialogProps> = ({\r\n  profile,\r\n  open,\r\n  onOpenChange\r\n}) => {\r\n  const { currentBusiness } = useBusiness();\r\n  const { updateProfile, resetProfilePin } = useProfiles();\r\n  const [formData, setFormData] = useState({\r\n    profile_name: '',\r\n    email: '',\r\n    phone_number: '',\r\n    role: 'staff',\r\n    role_id: '' as string | null\r\n  });\r\n  const [roles, setRoles] = useState<BusinessRole[]>([]);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [showResetPin, setShowResetPin] = useState(false);\r\n  const [newPin, setNewPin] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (open && currentBusiness?.id) {\r\n      loadRoles();\r\n    }\r\n  }, [open, currentBusiness?.id]);\r\n\r\n  const loadRoles = async () => {\r\n    try {\r\n      if (currentBusiness?.id) {\r\n        const data = await getRolesAction(currentBusiness.id);\r\n        setRoles(data as unknown as BusinessRole[]);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (profile) {\r\n      setFormData({\r\n        profile_name: profile.profile_name,\r\n        email: profile.email,\r\n        phone_number: profile.phone_number || '',\r\n        role: profile.role,\r\n        role_id: profile.role_id\r\n      });\r\n    }\r\n  }, [profile]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!profile) return;\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      const success = await updateProfile(profile.id, {\r\n        profile_name: formData.profile_name.trim(),\r\n        email: formData.email.trim(),\r\n        phone_number: formData.phone_number.trim() || undefined,\r\n        role: formData.role,\r\n        role_id: formData.role_id || null\r\n      });\r\n\r\n      if (success) {\r\n        onOpenChange(false);\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleResetPin = async () => {\r\n    if (!profile || !newPin) return;\r\n\r\n    if (newPin.length !== 4 || !/^\\d+$/.test(newPin)) {\r\n      toast.error('PIN must be 4 digits');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const success = await resetProfilePin(profile.id, newPin);\r\n      if (success) {\r\n        setShowResetPin(false);\r\n        setNewPin('');\r\n      }\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (field: string, value: string) => {\r\n    setFormData(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  if (!profile) return null;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-md\">\r\n        <DialogHeader>\r\n          <DialogTitle>Edit Profile</DialogTitle>\r\n        </DialogHeader>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"edit_profile_name\">Profile Name</Label>\r\n            <Input\r\n              id=\"edit_profile_name\"\r\n              value={formData.profile_name}\r\n              onChange={(e) => handleChange('profile_name', e.target.value)}\r\n              placeholder=\"Enter profile name\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"edit_email\">Email</Label>\r\n            <Input\r\n              id=\"edit_email\"\r\n              type=\"email\"\r\n              value={formData.email}\r\n              onChange={(e) => handleChange('email', e.target.value)}\r\n              placeholder=\"Enter email address\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"edit_phone_number\">Phone Number (Optional)</Label>\r\n            <Input\r\n              id=\"edit_phone_number\"\r\n              value={formData.phone_number}\r\n              onChange={(e) => handleChange('phone_number', e.target.value)}\r\n              placeholder=\"Enter phone number\"\r\n            />\r\n          </div>\r\n\r\n          {profile.role.toLowerCase() !== 'owner' && profile.business_role?.name !== 'Owner' && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"edit_role\">Role</Label>\r\n              <Select\r\n                value={formData.role_id || formData.role}\r\n                onValueChange={(value) => {\r\n                  const selectedRole = roles.find(r => r.id === value);\r\n                  if (selectedRole) {\r\n                    setFormData(prev => ({ ...prev, role_id: value, role: selectedRole.name }));\r\n                  } else {\r\n                    setFormData(prev => ({ ...prev, role_id: null, role: value }));\r\n                  }\r\n                }}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Select role\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  {roles.length > 0 ? (\r\n                    roles.map(role => (\r\n                      <SelectItem key={role.id} value={role.id}>{role.name}</SelectItem>\r\n                    ))\r\n                  ) : (\r\n                    <>\r\n                      <SelectItem value=\"owner\">Owner</SelectItem>\r\n                      <SelectItem value=\"manager\">Manager</SelectItem>\r\n                      <SelectItem value=\"staff\">Staff</SelectItem>\r\n                    </>\r\n                  )}\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"border-t pt-4 mt-4\">\r\n            {!showResetPin ? (\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                className=\"w-full gap-2 text-amber-600 border-amber-200 hover:bg-amber-50\"\r\n                onClick={() => setShowResetPin(true)}\r\n              >\r\n                <Lock size={16} /> Reset Profile PIN\r\n              </Button>\r\n            ) : (\r\n              <div className=\"space-y-3 p-3 bg-amber-50 rounded-lg border border-amber-100\">\r\n                <div className=\"space-y-1\">\r\n                  <Label htmlFor=\"new_pin\">New 4-Digit PIN</Label>\r\n                  <Input\r\n                    id=\"new_pin\"\r\n                    type=\"password\"\r\n                    inputMode=\"numeric\"\r\n                    pattern=\"[0-9]*\"\r\n                    maxLength={4}\r\n                    value={newPin}\r\n                    onChange={(e) => setNewPin(e.target.value)}\r\n                    placeholder=\"Enter new PIN\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"ghost\"\r\n                    className=\"flex-1\"\r\n                    onClick={() => {\r\n                      setShowResetPin(false);\r\n                      setNewPin('');\r\n                    }}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"default\"\r\n                    className=\"flex-1 bg-amber-600 hover:bg-amber-700\"\r\n                    onClick={handleResetPin}\r\n                    disabled={isSubmitting || newPin.length !== 4}\r\n                  >\r\n                    Confirm Reset\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex justify-end gap-2 pt-4\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => onOpenChange(false)}\r\n              disabled={isSubmitting}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={isSubmitting}>\r\n              {isSubmitting ? 'Updating...' : 'Update Profile'}\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('UserX', [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n]);\n\nexport default UserX;\n","import React from 'react';\r\nimport { ProfileCard } from './ProfileCard';\r\nimport { BusinessProfile } from '@/contexts/ProfileContext';\r\n\r\ninterface ProfileListProps {\r\n  profiles: BusinessProfile[];\r\n  onEditProfile: (profile: BusinessProfile) => void;\r\n  onDeleteProfile: (profile: BusinessProfile) => void;\r\n  canManage?: boolean;\r\n}\r\n\r\nexport const ProfileList: React.FC<ProfileListProps> = ({\r\n  profiles,\r\n  onEditProfile,\r\n  onDeleteProfile,\r\n  canManage = true\r\n}) => {\r\n  return (\r\n    <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\r\n      {profiles.map((profile) => (\r\n        <ProfileCard\r\n          key={profile.id}\r\n          profile={profile}\r\n          onEdit={() => onEditProfile(profile)}\r\n          onDelete={() => onDeleteProfile(profile)}\r\n          canManage={canManage}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport { ProfileList } from './ProfileList';\r\nimport { ProfilePageSkeleton } from './ProfilePageSkeleton';\r\nimport { EmptyProfilesState } from './EmptyProfilesState';\r\nimport { BusinessProfile } from '@/contexts/ProfileContext';\r\n\r\ninterface ProfileContentProps {\r\n  profiles: BusinessProfile[];\r\n  isLoading: boolean;\r\n  onEditProfile: (profile: BusinessProfile) => void;\r\n  onDeleteProfile: (profile: BusinessProfile) => void;\r\n  canManage?: boolean;\r\n}\r\n\r\nexport const ProfileContent: React.FC<ProfileContentProps> = ({\r\n  profiles,\r\n  isLoading,\r\n  onEditProfile,\r\n  onDeleteProfile,\r\n  canManage = true\r\n}) => {\r\n  if (isLoading) {\r\n    return <ProfilePageSkeleton />;\r\n  }\r\n\r\n  if (profiles.length === 0) {\r\n    return <EmptyProfilesState />;\r\n  }\r\n\r\n  return (\r\n    <ProfileList\r\n      profiles={profiles}\r\n      onEditProfile={onEditProfile}\r\n      onDeleteProfile={onDeleteProfile}\r\n      canManage={canManage}\r\n    />\r\n  );\r\n};"],"names":[],"mappings":"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","ignoreList":[13]}