module.exports=[515016,a=>{"use strict";let b=(0,a.i(564375).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],515016)},499239,a=>{"use strict";let b=(0,a.i(564375).default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);a.s(["Package",()=>b],499239)},2026,a=>{"use strict";let b=(0,a.i(564375).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],2026)},111628,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-switch-0610ba11c925567c");a.n(b),c()}catch(a){c(a)}},!0),366736,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(111628),g=a.i(799856),h=b([f,g]);[f,g]=h.then?(await h)():h;let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Root,{className:(0,g.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...b,ref:c,children:(0,d.jsx)(f.Thumb,{className:(0,g.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));i.displayName=f.Root.displayName,a.s(["Switch",()=>i]),c()}catch(a){c(a)}},!1),369773,a=>{"use strict";let b=(0,a.i(564375).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],369773)},985522,a=>a.a(async(b,c)=>{try{var d=a.i(127669),e=a.i(108191),f=a.i(964889),g=a.i(852741),h=b([f]);[f]=h.then?(await h)():h,a.s(["useCategories",0,a=>{let[b,c]=(0,d.useState)([]),[h,i]=(0,d.useState)(!0),{toast:j}=(0,e.useToast)(),{currentBusiness:k}=(0,f.useBusiness)(),l=(0,d.useCallback)(async()=>{try{if(!k?.id){c([]),i(!1);return}i(!0);let a=await (0,g.getProductCategoriesAction)(k.id);if(!a.success||!a.data)throw Error(a.error||"Failed to fetch categories");let b=a.data.map(a=>({id:a.id,name:a.name,createdAt:a.createdAt?new Date(a.createdAt):a.created_at?new Date(a.created_at):void 0}));c(b)}catch(a){console.error("Error loading categories:",a),j({title:"Error",description:"Failed to load product categories.",variant:"destructive"})}finally{i(!1)}},[k?.id,j]);(0,d.useEffect)(()=>{l()},[l]);let m=async d=>{try{if(!a||!k?.id)return null;let e=b.find(a=>a.name.toLowerCase()===d.toLowerCase());if(e)return j({title:"Category exists",description:"This category already exists."}),e;let f=await (0,g.createProductCategoryAction)(k.id,a,d);if(!f.success||!f.data)throw Error(f.error);let h={id:f.data.id,name:f.data.name,createdAt:new Date(f.data.createdAt)};return c(a=>[...a,h]),j({title:"Success",description:"Category created successfully"}),h}catch(a){return console.error("Error creating category:",a),j({title:"Error",description:"Failed to create category.",variant:"destructive"}),null}},n=async(a,d)=>{try{if(b.find(b=>b.name.toLowerCase()===d.toLowerCase()&&b.id!==a))return j({title:"Category exists",description:"Another category with this name already exists."}),!1;let e=await (0,g.updateProductCategoryAction)(a,d);if(!e.success)throw Error(e.error);return c(b=>b.map(b=>b.id===a?{...b,name:d}:b)),j({title:"Success",description:"Category updated successfully"}),!0}catch(a){return console.error("Error updating category:",a),j({title:"Error",description:"Failed to update category.",variant:"destructive"}),!1}},o=async a=>{try{let b=await (0,g.deleteProductCategoryAction)(a);if(!b.success)return j({title:"Cannot delete category",description:b.error||"Failed to delete category.",variant:"destructive"}),!1;return c(b=>b.filter(b=>b.id!==a)),j({title:"Success",description:"Category deleted successfully"}),!0}catch(a){return console.error("Error deleting category:",a),j({title:"Error",description:"Failed to delete category.",variant:"destructive"}),!1}};return{categories:b,isLoading:h,loadCategories:l,createCategory:m,updateCategory:n,deleteCategory:o}}]),c()}catch(a){c(a)}},!1),168065,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-dropdown-menu-37c3be7a592c068a");a.n(b),c()}catch(a){c(a)}},!0),535741,a=>{"use strict";let b=(0,a.i(564375).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Circle",()=>b],535741)},589984,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(168065),g=a.i(597435),h=a.i(643228),i=a.i(535741),j=a.i(799856),k=b([f,j]);[f,j]=k.then?(await k)():k;let l=f.Root,m=f.Trigger;f.Group,f.Portal,f.Sub,f.RadioGroup,e.forwardRef(({className:a,inset:b,children:c,...e},g)=>{let i=a=>{a.stopPropagation()};return(0,d.jsxs)(f.SubTrigger,{ref:g,className:(0,j.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",b&&"pl-8",a),onTouchStart:i,onTouchEnd:i,onTouchMove:i,...e,children:[c,(0,d.jsx)(h.ChevronRight,{className:"ml-auto h-4 w-4"})]})}).displayName=f.SubTrigger.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.SubContent,{ref:c,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...b})).displayName=f.SubContent.displayName;let n=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>{let g=a=>{a.stopPropagation()};return(0,d.jsx)(f.Portal,{children:(0,d.jsx)(f.Content,{ref:e,sideOffset:b,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),onTouchStart:g,onTouchEnd:g,onTouchMove:g,...c})})});n.displayName=f.Content.displayName;let o=e.forwardRef(({className:a,inset:b,...c},e)=>(0,d.jsx)(f.Item,{ref:e,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",b&&"pl-8",a),...c}));o.displayName=f.Item.displayName,e.forwardRef(({className:a,children:b,checked:c,...e},h)=>(0,d.jsxs)(f.CheckboxItem,{ref:h,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:c,...e,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.ItemIndicator,{children:(0,d.jsx)(g.Check,{className:"h-4 w-4"})})}),b]})).displayName=f.CheckboxItem.displayName,e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.RadioItem,{ref:e,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.ItemIndicator,{children:(0,d.jsx)(i.Circle,{className:"h-2 w-2 fill-current"})})}),b]})).displayName=f.RadioItem.displayName;let p=e.forwardRef(({className:a,inset:b,...c},e)=>(0,d.jsx)(f.Label,{ref:e,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",b&&"pl-8",a),...c}));p.displayName=f.Label.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Separator,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b}));q.displayName=f.Separator.displayName,a.s(["DropdownMenu",()=>l,"DropdownMenuContent",()=>n,"DropdownMenuItem",()=>o,"DropdownMenuLabel",()=>p,"DropdownMenuSeparator",()=>q,"DropdownMenuTrigger",()=>m]),c()}catch(a){c(a)}},!1),126741,a=>{"use strict";let b=(0,a.i(564375).default)("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);a.s(["Printer",()=>b],126741)},852741,(a,b,c)=>{let d=Error("Could not parse module '[project]/src/app/actions/products.ts'\n\n'import', and 'export' cannot be used outside of module code");throw d.code="MODULE_UNPARSABLE",d},121677,a=>{"use strict";a.s(["clearInventoryCaches",0,a=>{}])},482331,a=>a.a(async(b,c)=>{try{var d=a.i(127669),e=a.i(224993),f=a.i(964889),g=a.i(500885),h=a.i(121677),i=a.i(852741),j=b([e,f,g]);[e,f,g]=j.then?(await j)():j,a.s(["useProducts",0,(a,b=50)=>{let[c,j]=(0,d.useState)([]),[k,l]=(0,d.useState)(1),[m,n]=(0,d.useState)(b),[o,p]=(0,d.useState)(0),[q,r]=(0,d.useState)(!1),{settings:s}=(0,e.useBusinessSettings)(),{currentBusiness:t}=(0,f.useBusiness)(),u=(0,g.useQueryClient)(),[v,w]=(0,d.useState)({search:"",category:"all",stockStatus:"all"}),[x,y]=(0,d.useState)(null),z=(0,d.useCallback)(a=>{if(a.search!==v.search){r(!0),x&&clearTimeout(x);let a=setTimeout(()=>{r(!1)},600);y(a)}w(a)},[v.search,x]),A=(0,d.useCallback)(async()=>{if(!a||!t)return{products:[],count:0};try{return await (0,i.getProductsAction)({userId:a,businessId:t.id,page:k,pageSize:m,search:v.search,category:"all"===v.category?void 0:v.category,stockStatus:v.stockStatus})}catch(a){return console.error("Error loading products from server action:",a),{products:[],count:0}}},[a,t?.id,k,m,v.search,v.category,v.stockStatus]),B=(0,d.useMemo)(()=>["products",a,t?.id],[a,t?.id]),C=(0,d.useMemo)(()=>[...B,k,m,v.search,v.category,v.stockStatus],[B,k,m,v.search,v.category,v.stockStatus]),{data:D,isLoading:E,isFetching:F,refetch:G}=(0,g.useQuery)({queryKey:C,queryFn:A,enabled:!!a&&!!t?.id,staleTime:3e4,gcTime:18e5,refetchOnWindowFocus:!0,refetchOnReconnect:!0});(0,d.useEffect)(()=>{D&&(j(D.products),p(D.count))},[D]);let H=E&&!D&&!q,I=async b=>{try{if(!a)return null;return console.warn("Image upload redirecting to server action (TODO)"),null}catch(a){return console.error("Error in uploadProductImage:",a),null}},J=async b=>{try{if(!a||!t)return null;let c=await (0,i.createProductAction)({...b,userId:a,businessId:t.id});if(!c)return null;return j(a=>[c,...a]),p(a=>a+1),u.invalidateQueries({queryKey:B}),(0,h.clearInventoryCaches)(u),c}catch(a){return console.error("Error creating product:",a),null}},K=async(b,c,d,e=!1,f,g,j,k)=>{try{if(!a||!t)return!1;let g=c.imageUrl;if(d&&(g=await I(d)),!await (0,i.updateProductAction)(b,{...c,imageUrl:g,userId:a,businessId:t.id,isFromSale:e,customChangeReason:f,referenceId:j}))return!1;return u.invalidateQueries({queryKey:B}),(0,h.clearInventoryCaches)(u),!0}catch(a){return console.error("Error updating product:",a),!1}},L=async b=>{try{if(!a)return!1;if(await (0,i.deleteProductAction)(b))return u.invalidateQueries({queryKey:B}),(0,h.clearInventoryCaches)(u),!0;return!1}catch(a){return console.error("Error deleting product:",a),!1}},M=async(b,c,d,e,f,g)=>{try{if(!a||!t)return!1;let c=await (0,i.updateProductsBulkAction)(b.map(a=>({id:a.id,updated:a.updated})),t.id);return c&&(u.invalidateQueries({queryKey:B}),(0,h.clearInventoryCaches)(u)),c}catch(a){return console.error("Error in bulk update:",a),!1}};return{products:c,isLoading:H,loadProducts:A,page:k,setPage:l,pageSize:m,setPageSize:n,totalCount:o,createProduct:J,updateProduct:K,updateProductsBulk:M,deleteProduct:L,uploadProductImage:I,refetch:G,isFetching:F,filters:v,setFilters:z}}]),c()}catch(a){c(a)}},!1),506766,a=>{"use strict";let b=(0,a.i(564375).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],506766)},718192,a=>{"use strict";let b=(0,a.i(564375).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],718192)},120327,a=>{"use strict";let b=(0,a.i(564375).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);a.s(["Filter",()=>b],120327)},352519,a=>{"use strict";let b=(0,a.i(564375).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],352519)},959866,(a,b,c)=>{b.exports=a.x("jspdf-9c3aba4aeb1eded9",()=>require("jspdf-9c3aba4aeb1eded9"))},532572,a=>{"use strict";let b=(0,a.i(564375).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>b],532572)},199987,a=>{"use strict";let b=(0,a.i(564375).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],199987)},558277,a=>{"use strict";var b=a.i(127669);function c(){let[a,c]=b.default.useState(()=>!1);return b.default.useEffect(()=>{let a=()=>{c(window.innerWidth<768)};a();let b=window.matchMedia("(max-width: 767px)");return b.addEventListener("change",a),()=>b.removeEventListener("change",a)},[]),a}a.s(["useIsMobile",()=>c])},711757,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-label-3f949730be5d5250");a.n(b),c()}catch(a){c(a)}},!0),397625,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(711757),g=a.i(197499),h=a.i(799856),i=b([f,g,h]);[f,g,h]=i.then?(await i)():i;let j=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Root,{ref:c,className:(0,h.cn)(j(),a),...b}));k.displayName=f.Root.displayName,a.s(["Label",()=>k]),c()}catch(a){c(a)}},!1),946032,a=>{"use strict";let b=(0,a.i(564375).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],946032)},643228,a=>{"use strict";let b=(0,a.i(564375).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],643228)},873492,407850,490988,a=>{"use strict";let b=Symbol.for("constructDateFrom");function c(a,c){return"function"==typeof a?a(c):a&&"object"==typeof a&&b in a?a[b](c):a instanceof Date?new a.constructor(c):new Date(c)}function d(a,b){return c(b||a,a)}a.s(["constructFromSymbol",0,b,"millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200],407850),a.s(["constructFrom",()=>c],490988),a.s(["toDate",()=>d],873492)},597435,a=>{"use strict";let b=(0,a.i(564375).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],597435)},493572,a=>{"use strict";let b=(0,a.i(564375).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],493572)},93538,a=>{"use strict";let b=(0,a.i(564375).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],93538)},145556,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-select-0a3bcd2240a9e876");a.n(b),c()}catch(a){c(a)}},!0),688272,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(145556),g=a.i(597435),h=a.i(93538),i=a.i(493572),j=a.i(799856),k=b([f,j]);[f,j]=k.then?(await k)():k;let l=f.Root;f.Group;let m=f.Value,n=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.Trigger,{ref:e,className:(0,j.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...c,children:[b,(0,d.jsx)(f.Icon,{asChild:!0,children:(0,d.jsx)(h.ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));n.displayName=f.Trigger.displayName;let o=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ScrollUpButton,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(i.ChevronUp,{className:"h-4 w-4"})}));o.displayName=f.ScrollUpButton.displayName;let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ScrollDownButton,{ref:c,className:(0,j.cn)("flex cursor-default items-center justify-center py-1",a),...b,children:(0,d.jsx)(h.ChevronDown,{className:"h-4 w-4"})}));p.displayName=f.ScrollDownButton.displayName;let q=e.forwardRef(({className:a,children:b,position:c="popper",...e},g)=>(0,d.jsx)(f.Portal,{children:(0,d.jsxs)(f.Content,{ref:g,className:(0,j.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===c&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:c,...e,children:[(0,d.jsx)(o,{}),(0,d.jsx)(f.Viewport,{className:(0,j.cn)("p-1","popper"===c&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:b}),(0,d.jsx)(p,{})]})}));q.displayName=f.Content.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Label,{ref:c,className:(0,j.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...b})).displayName=f.Label.displayName;let r=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.Item,{ref:e,className:(0,j.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...c,children:[(0,d.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,d.jsx)(f.ItemIndicator,{children:(0,d.jsx)(g.Check,{className:"h-4 w-4"})})}),(0,d.jsx)(f.ItemText,{children:b})]}));r.displayName=f.Item.displayName,e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.Separator,{ref:c,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",a),...b})).displayName=f.Separator.displayName,a.s(["Select",()=>l,"SelectContent",()=>q,"SelectItem",()=>r,"SelectTrigger",()=>n,"SelectValue",()=>m]),c()}catch(a){c(a)}},!1),540629,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(799856),g=b([f]);[f]=g.then?(await g)():g;let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{className:"relative w-full overflow-auto",children:(0,d.jsx)("table",{ref:c,className:(0,f.cn)("w-full caption-bottom text-sm",a),...b})}));h.displayName="Table";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("thead",{ref:c,className:(0,f.cn)("[&_tr]:border-b",a),...b}));i.displayName="TableHeader";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tbody",{ref:c,className:(0,f.cn)("[&_tr:last-child]:border-0",a),...b}));j.displayName="TableBody",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tfoot",{ref:c,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...b})).displayName="TableFooter";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tr",{ref:c,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...b}));k.displayName="TableRow";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("th",{ref:c,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...b}));l.displayName="TableHead";let m=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("td",{ref:c,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...b}));m.displayName="TableCell",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("caption",{ref:c,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",a),...b})).displayName="TableCaption",a.s(["Table",()=>h,"TableBody",()=>j,"TableCell",()=>m,"TableHead",()=>l,"TableHeader",()=>i,"TableRow",()=>k]),c()}catch(a){c(a)}},!1),338055,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-tooltip-de39d7cf23eb9ed6");a.n(b),c()}catch(a){c(a)}},!0),767810,a=>a.a(async(b,c)=>{try{var d=a.i(508171),e=a.i(127669),f=a.i(338055),g=a.i(799856),h=b([f,g]);[f,g]=h.then?(await h)():h;let i=f.Provider,j=f.Root,k=f.Trigger,l=e.forwardRef(({className:a,sideOffset:b=4,...c},e)=>(0,d.jsx)(f.Content,{ref:e,sideOffset:b,className:(0,g.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...c}));l.displayName=f.Content.displayName,a.s(["Tooltip",()=>j,"TooltipContent",()=>l,"TooltipProvider",()=>i,"TooltipTrigger",()=>k]),c()}catch(a){c(a)}},!1),584210,a=>{"use strict";var b=a.i(508171);let c=(0,a.i(564375).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["default",0,({imageUrl:a,alt:d,size:e="md"})=>{let f="sm"===e?"w-10 h-10":"w-12 h-12";return a?(0,b.jsx)("img",{src:a,alt:d,className:`${f} object-cover rounded-md`}):(0,b.jsx)("div",{className:`${f} bg-gray-100 flex items-center justify-center rounded-md`,children:(0,b.jsx)(c,{size:"sm"===e?16:18,className:"text-gray-400"})})}],584210)},283554,(a,b,c)=>{b.exports=a.x("html2canvas-2cd317ce0361f606",()=>require("html2canvas-2cd317ce0361f606"))},687989,(a,b,c)=>{b.exports=a.x("react-barcode-d3088eeb3fd8eaaf",()=>require("react-barcode-d3088eeb3fd8eaaf"))},550548,(a,b,c)=>{b.exports=a.x("react-dom/client",()=>require("react-dom/client"))},966643,a=>{"use strict";var b=a.i(127669),c=a.i(959866),d=a.i(283554),e=a.i(687989),f=a.i(550548);let g=async a=>{let{productName:c,barcodeValue:g,price:h,currency:i="KES",showPrice:j=!0}=a,k=document.createElement("div");k.style.position="absolute",k.style.left="-9999px",k.style.top="-9999px",k.style.width="300px",k.style.padding="15px",k.style.backgroundColor="white",k.style.fontFamily="Arial, sans-serif",document.body.appendChild(k);try{let a=document.createElement("div");a.style.display="flex",a.style.flexDirection="column",a.style.alignItems="center",a.style.gap="8px";let l=document.createElement("div");l.textContent=c.length>30?c.substring(0,27)+"...":c,l.style.fontSize="14px",l.style.fontWeight="bold",l.style.textAlign="center",l.style.maxWidth="100%",l.style.wordWrap="break-word",a.appendChild(l);let m=document.createElement("div");if(m.id="barcode-svg-container",a.appendChild(m),j&&void 0!==h){let b=document.createElement("div");b.textContent=`${i} ${h.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,b.style.fontSize="14px",b.style.fontWeight="bold",b.style.textAlign="center",a.appendChild(b)}k.appendChild(a);let n=(0,f.createRoot)(m);await new Promise(a=>{let c=e.default;n.render(b.default.createElement(c,{value:g,width:1.5,height:60,fontSize:12})),setTimeout(()=>a(),100)});let o=(await (0,d.default)(k,{backgroundColor:"#ffffff",scale:2})).toDataURL("image/jpeg",.95);return n.unmount(),document.body.removeChild(k),o}catch(a){throw document.body.removeChild(k),a}},h=async a=>{try{let b=await g(a),d=new c.default({orientation:"portrait",unit:"mm",format:"a4"});d.setFontSize(16),d.text("Product Barcode",105,20,{align:"center"}),d.addImage(b,"JPEG",82.5,40,45,30);let e=a.productName.replace(/[^a-z0-9]/gi,"_").toLowerCase();d.save(`barcode_${e}_${Date.now()}.pdf`)}catch(a){throw console.error("Error exporting barcode to PDF:",a),a}},i=async(a,b={})=>{let{showPrice:d=!0,currency:e="KES"}=b;try{let b=a.filter(a=>a.barcode);if(0===b.length)throw Error("No products with barcodes to export");let f=new c.default({orientation:"portrait",unit:"mm",format:"a4"}),h=Math.floor(4.085106382978723),i=Math.floor(8.71875),j=h*i,k=(210-(45*h+(h-1)*2))/2,l=(297-(30*i+(i-1)*2))/2,m=0;for(let a of b){m>0&&m%j==0&&f.addPage();let b=m%j,c=Math.floor(b/h),i=b%h,n=k+47*i,o=l+32*c,p=await g({productName:a.name,barcodeValue:a.barcode,price:a.sellingPrice,currency:e,showPrice:d});f.setDrawColor(200,200,200),f.rect(n,o,45,30);f.addImage(p,"JPEG",n+2,o+2,41,26),m++}f.setPage(1),f.setFontSize(10),f.setTextColor(100,100,100),f.text(`Total barcodes: ${b.length}`,105,5,{align:"center"});let n=new Date().toISOString().split("T")[0];f.save(`barcodes_bulk_${n}_${b.length}_items.pdf`)}catch(a){throw console.error("Error exporting bulk barcodes to PDF:",a),a}};a.s(["exportBulkBarcodesToPDF",0,i,"exportSingleBarcodeToPDF",0,h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ca930f36._.js.map