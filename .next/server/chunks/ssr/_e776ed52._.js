module.exports=[429246,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},292e3,a=>{"use strict";let b=(0,a.i(170106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],292e3)},124348,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c}));h.displayName="AlertTitle";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));i.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>i,"AlertTitle",()=>h])},462882,a=>{"use strict";var b=a.i(572131),c=a.i(470121),d=a.i(750104),e=a.i(507554),f=a.i(225152),g=a.i(77994),h=a.i(3688),i=a.i(777192),j=a.i(30553),k=a.i(187924),l="Checkbox",[m,n]=(0,d.createContextScope)(l),[o,p]=m(l);function q(a){let{__scopeCheckbox:c,checked:d,children:e,defaultChecked:g,disabled:h,form:i,name:j,onCheckedChange:m,required:n,value:p="on",internal_do_not_use_render:q}=a,[r,s]=(0,f.useControllableState)({prop:d,defaultProp:g??!1,onChange:m,caller:l}),[t,u]=b.useState(null),[v,w]=b.useState(null),x=b.useRef(!1),z=!t||!!i||!!t.closest("form"),A={checked:r,disabled:h,setChecked:s,control:t,setControl:u,name:j,form:i,value:p,hasConsumerStoppedPropagationRef:x,required:n,defaultChecked:!y(g)&&g,isFormControl:z,bubbleInput:v,setBubbleInput:w};return(0,k.jsx)(o,{scope:c,...A,children:"function"==typeof q?q(A):e})}var r="CheckboxTrigger",s=b.forwardRef(({__scopeCheckbox:a,onKeyDown:d,onClick:f,...g},h)=>{let{control:i,value:l,disabled:m,checked:n,required:o,setControl:q,setChecked:s,hasConsumerStoppedPropagationRef:t,isFormControl:u,bubbleInput:v}=p(r,a),w=(0,c.useComposedRefs)(h,q),x=b.useRef(n);return b.useEffect(()=>{let a=i?.form;if(a){let b=()=>s(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[i,s]),(0,k.jsx)(j.Primitive.button,{type:"button",role:"checkbox","aria-checked":y(n)?"mixed":n,"aria-required":o,"data-state":z(n),"data-disabled":m?"":void 0,disabled:m,value:l,...g,ref:w,onKeyDown:(0,e.composeEventHandlers)(d,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,e.composeEventHandlers)(f,a=>{s(a=>!!y(a)||!a),v&&u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})})});s.displayName=r;var t=b.forwardRef((a,b)=>{let{__scopeCheckbox:c,name:d,checked:e,defaultChecked:f,required:g,disabled:h,value:i,onCheckedChange:j,form:l,...m}=a;return(0,k.jsx)(q,{__scopeCheckbox:c,checked:e,defaultChecked:f,disabled:h,required:g,onCheckedChange:j,name:d,form:l,value:i,internal_do_not_use_render:({isFormControl:a})=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(s,{...m,ref:b,__scopeCheckbox:c}),a&&(0,k.jsx)(x,{__scopeCheckbox:c})]})})});t.displayName=l;var u="CheckboxIndicator",v=b.forwardRef((a,b)=>{let{__scopeCheckbox:c,forceMount:d,...e}=a,f=p(u,c);return(0,k.jsx)(i.Presence,{present:d||y(f.checked)||!0===f.checked,children:(0,k.jsx)(j.Primitive.span,{"data-state":z(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b,style:{pointerEvents:"none",...a.style}})})});v.displayName=u;var w="CheckboxBubbleInput",x=b.forwardRef(({__scopeCheckbox:a,...d},e)=>{let{control:f,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:m,required:n,disabled:o,name:q,value:r,form:s,bubbleInput:t,setBubbleInput:u}=p(w,a),v=(0,c.useComposedRefs)(e,u),x=(0,g.usePrevious)(l),z=(0,h.useSize)(f);b.useEffect(()=>{if(!t)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!i.current;if(x!==l&&a){let c=new Event("click",{bubbles:b});t.indeterminate=y(l),a.call(t,!y(l)&&l),t.dispatchEvent(c)}},[t,x,l,i]);let A=b.useRef(!y(l)&&l);return(0,k.jsx)(j.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??A.current,required:n,disabled:o,name:q,value:r,form:s,...d,tabIndex:-1,ref:v,style:{...d.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function y(a){return"indeterminate"===a}function z(a){return y(a)?"indeterminate":a?"checked":"unchecked"}x.displayName=w,a.s(["Checkbox",()=>t,"CheckboxIndicator",()=>v,"Indicator",()=>v,"Root",()=>t,"createCheckboxScope",()=>n,"unstable_BubbleInput",()=>x,"unstable_CheckboxBubbleInput",()=>x,"unstable_CheckboxProvider",()=>q,"unstable_CheckboxTrigger",()=>s,"unstable_Provider",()=>q,"unstable_Trigger",()=>s])},315055,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(462882),e=a.i(533441),f=a.i(368114);let g=c.forwardRef(({className:a,...c},g)=>(0,b.jsx)(d.Root,{ref:g,className:(0,f.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...c,children:(0,b.jsx)(d.Indicator,{className:(0,f.cn)("flex items-center justify-center text-current"),children:(0,b.jsx)(e.Check,{className:"h-4 w-4"})})}));g.displayName=d.Root.displayName,a.s(["Checkbox",()=>g])},291914,a=>{"use strict";var b=a.i(572131),c=a.i(478793),d=a.i(169819),e=a.i(391956),f=a.i(433217),g=a.i(937927),h=a.i(405050);let i=(0,h.createServerReference)("408055c65091de6e86656304d04a002881aed3acc6",h.callServer,void 0,h.findSourceMapURL,"getCashAccountsAction"),j=(0,h.createServerReference)("40fec0c16d5b967e0b7b13b4f39e9f33caa55d98fd",h.callServer,void 0,h.findSourceMapURL,"createCashAccountAction"),k=(0,h.createServerReference)("60cff6e1bde4cdde91ed3aaa29411ed65f1ac6b8ba",h.callServer,void 0,h.findSourceMapURL,"updateCashAccountAction"),l=(0,h.createServerReference)("609fff12b333f8481f6eaa00c9f6ed0ca7485d5f62",h.callServer,void 0,h.findSourceMapURL,"deleteCashAccountAction"),m=(0,h.createServerReference)("701a700c12f80accdeeab232d537f79439d8fe9e50",h.callServer,void 0,h.findSourceMapURL,"deleteCashAccountWithTransactionsAction"),n=(0,h.createServerReference)("60a22285198ef838d83b1b4a602809518cbd22267e",h.callServer,void 0,h.findSourceMapURL,"getCashAccountBalanceAction");a.s(["useCashAccounts",0,()=>{let[a,h]=(0,b.useState)([]),{toast:o}=(0,c.useToast)(),{currentBusiness:p}=(0,d.useBusiness)(),{user:q}=(0,e.useAuth)(),r=(0,g.useQueryClient)(),s=(0,b.useCallback)(async()=>{if(!p?.id)return[];try{let a=await i(p.id);if(!a.success||!a.data)throw Error(a.error||"Failed to fetch accounts");return a.data.map(a=>({...a,createdAt:new Date(a.createdAt),updatedAt:new Date(a.updatedAt)}))}catch(a){return console.error("Error loading cash accounts:",a),o({title:"Error",description:"Failed to load cash accounts",variant:"destructive"}),[]}},[p?.id,o]),t=["cash_accounts",p?.id],{data:u,isLoading:v}=(0,f.useQuery)({queryKey:t,queryFn:s,enabled:!!p?.id,staleTime:3e4});(0,b.useEffect)(()=>{u&&h(u)},[u]);let w=v&&!u,x=(0,b.useCallback)(()=>{r.invalidateQueries({queryKey:t})},[r,t]),y=(0,b.useCallback)(async a=>{if(!p?.id||!q?.id)return null;try{let b=await j({...a,userId:q.id,locationId:p.id});if(!b.success||!b.data)throw Error(b.error);return r.invalidateQueries({queryKey:t}),o({title:"Success",description:"Cash account created successfully"}),b.data}catch(a){return console.error("Error creating cash account:",a),o({title:"Error",description:"Failed to create cash account",variant:"destructive"}),null}},[p?.id,q?.id,r,t,o]),z=async(a,b)=>{if(!p?.id)return!1;try{let c=await k(a,{...b,locationId:p.id});if(!c.success)throw Error(c.error);return r.invalidateQueries({queryKey:t}),o({title:"Success",description:"Cash account updated successfully"}),!0}catch(a){return console.error("Error updating cash account:",a),o({title:"Error",description:"Failed to update cash account",variant:"destructive"}),!1}},A=async(a,b)=>{if(!p?.id)return{success:!1,hasTransactions:!1};try{let c=await l(a,p.id);return c.success&&(r.invalidateQueries({queryKey:t}),o({title:"Success",description:"Cash account deleted successfully"}),b&&b()),c}catch(a){return console.error("Error deleting cash account:",a),o({title:"Error",description:"Failed to delete cash account",variant:"destructive"}),{success:!1,hasTransactions:!1}}},B=async(a,b=!1,c)=>{if(!p?.id)return!1;try{let d=await m(a,p.id,b);if(!d.success)throw Error(d.error);return r.invalidateQueries({queryKey:t}),o({title:"Success",description:b?"Account and transactions deleted":"Account deleted (records unlinked)"}),c&&c(),!0}catch(a){return console.error("Error deleting cash account:",a),o({title:"Error",description:"Failed to delete cash account",variant:"destructive"}),!1}},C=(0,b.useCallback)(async a=>{if(!p?.id)return 0;try{let b=await n(a,p.id);if(b.success)return b.data;return 0}catch(a){return console.error("Error getting balance:",a),0}},[p?.id]);return(0,b.useMemo)(()=>({accounts:a,isLoading:w,createAccount:y,updateAccount:z,deleteAccount:A,deleteAccountWithTransactions:B,getAccountBalance:C,loadAccounts:s,refreshAccounts:x}),[a,w,y,z,A,B,C,s,x])}],291914)}];

//# sourceMappingURL=_e776ed52._.js.map