{"version":3,"sources":["../../../../src/components/ui/textarea.tsx","../../../../src/pages/DeletePersonalData.tsx","../../../../src/utils/emailService.ts"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n","\r\nimport React, { useState } from 'react';\r\nimport { z } from 'zod';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\r\nimport { Form, FormField, FormItem, FormLabel, FormControl, FormDescription, FormMessage } from '@/components/ui/form';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Link } from 'react-router-dom';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { sendDeletionRequest } from '@/utils/emailService';\r\n\r\n// Define form schema\r\nconst formSchema = z.object({\r\n  name: z.string().min(2, { message: \"Name must be at least 2 characters.\" }),\r\n  email: z.string().email({ message: \"Please enter a valid email address.\" }),\r\n  reason: z.string().min(10, { message: \"Please provide a detailed reason (min. 10 characters).\" }),\r\n});\r\n\r\ntype FormValues = z.infer<typeof formSchema>;\r\n\r\nconst DeletePersonalData = () => {\r\n  const { toast } = useToast();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  \r\n  // Initialize form\r\n  const form = useForm<FormValues>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      name: '',\r\n      email: '',\r\n      reason: '',\r\n    },\r\n  });\r\n\r\n  // Form submission handler\r\n  const onSubmit = async (data: FormValues) => {\r\n    setIsSubmitting(true);\r\n    \r\n    try {\r\n      // Send the deletion request email\r\n      await sendDeletionRequest({\r\n        name: data.name,\r\n        email: data.email,\r\n        reason: data.reason,\r\n      });\r\n      \r\n      toast({\r\n        title: \"Deletion request submitted\",\r\n        description: \"We've received your request and will contact you shortly.\",\r\n      });\r\n      \r\n      // Reset the form\r\n      form.reset();\r\n    } catch (error) {\r\n      console.error('Error submitting deletion request:', error);\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"There was a problem submitting your request. Please try again.\",\r\n        variant: \"destructive\",\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mx-auto max-w-2xl py-8\">\r\n      <div className=\"flex items-center mb-6\">\r\n        <Button variant=\"ghost\" asChild className=\"mr-2\">\r\n          <Link to=\"/privacy-policy\">‚Üê Back to Privacy Policy</Link>\r\n        </Button>\r\n      </div>\r\n      \r\n      <h1 className=\"text-3xl font-bold mb-6\">Request Data Deletion</h1>\r\n      \r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Personal Information Deletion Request</CardTitle>\r\n          <CardDescription>\r\n            Fill out this form to request deletion of your personal data. We will process your request\r\n            and contact you within 30 days.\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Form {...form}>\r\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\r\n              <FormField\r\n                control={form.control}\r\n                name=\"name\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Full Name</FormLabel>\r\n                    <FormControl>\r\n                      <Input placeholder=\"Enter your full name\" {...field} />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n              \r\n              <FormField\r\n                control={form.control}\r\n                name=\"email\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Email Address</FormLabel>\r\n                    <FormDescription>\r\n                      Please use the email address associated with your account.\r\n                    </FormDescription>\r\n                    <FormControl>\r\n                      <Input placeholder=\"your@email.com\" {...field} />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n              \r\n              <FormField\r\n                control={form.control}\r\n                name=\"reason\"\r\n                render={({ field }) => (\r\n                  <FormItem>\r\n                    <FormLabel>Reason for Deletion</FormLabel>\r\n                    <FormDescription>\r\n                      Please explain why you're requesting data deletion.\r\n                    </FormDescription>\r\n                    <FormControl>\r\n                      <Textarea \r\n                        placeholder=\"I would like my data deleted because...\" \r\n                        className=\"min-h-32\"\r\n                        {...field} \r\n                      />\r\n                    </FormControl>\r\n                    <FormMessage />\r\n                  </FormItem>\r\n                )}\r\n              />\r\n              \r\n              <div className=\"pt-4\">\r\n                <Button type=\"submit\" className=\"w-full\" disabled={isSubmitting}>\r\n                  {isSubmitting ? \"Submitting...\" : \"Submit Request\"}\r\n                </Button>\r\n              </div>\r\n              \r\n              <p className=\"text-sm text-gray-500 mt-4\">\r\n                By submitting this form, your request will be sent to gonzabrands@gmail.com for processing.\r\n                We will respond to your request within 30 days as required by applicable privacy laws.\r\n              </p>\r\n            </form>\r\n          </Form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeletePersonalData;\r\n","\r\n/**\r\n * Simulated email service for the application\r\n * In a production environment, this would connect to a real email service\r\n */\r\n\r\ninterface EmailOptions {\r\n  to: string;\r\n  subject: string;\r\n  body: string;\r\n}\r\n\r\ninterface DeletionRequestData {\r\n  name: string;\r\n  email: string;\r\n  reason: string;\r\n}\r\n\r\n/**\r\n * Send an email (simulation)\r\n */\r\nexport const sendEmail = async (options: EmailOptions): Promise<boolean> => {\r\n  console.log('Sending email:', options);\r\n  \r\n  // Simulate network delay\r\n  await new Promise(resolve => setTimeout(resolve, 1000));\r\n  \r\n  // Simulate success (in real app, this would connect to your email provider)\r\n  return true;\r\n};\r\n\r\n/**\r\n * Send a data deletion request email\r\n */\r\nexport const sendDeletionRequest = async (data: DeletionRequestData): Promise<boolean> => {\r\n  // Validate required fields\r\n  if (!data.name || !data.email || !data.reason) {\r\n    throw new Error('Missing required fields for deletion request');\r\n  }\r\n  \r\n  const emailOptions: EmailOptions = {\r\n    to: 'gonzabrands@gmail.com',\r\n    subject: `Data Deletion Request - ${data.name}`,\r\n    body: `\r\n      Data Deletion Request\r\n      \r\n      Name: ${data.name}\r\n      Email: ${data.email}\r\n      \r\n      Reason for deletion:\r\n      ${data.reason}\r\n      \r\n      This request was submitted on ${new Date().toLocaleDateString()}.\r\n    `\r\n  };\r\n  \r\n  return sendEmail(emailOptions);\r\n};\r\n"],"names":[],"mappings":"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"}