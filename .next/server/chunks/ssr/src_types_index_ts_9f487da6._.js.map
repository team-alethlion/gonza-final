{"version":3,"sources":["../../../../src/types/index.ts"],"sourcesContent":["// Sale item type definition\r\nexport interface SaleItem {\r\n  description: string;\r\n  quantity: number;\r\n  price: number;\r\n  cost: number;\r\n  productId?: string;\r\n  discountPercentage?: number;\r\n  discountType?: 'percentage' | 'amount';\r\n  discountAmount?: number;\r\n}\r\n\r\nexport interface SalesCategory {\r\n  id: string;\r\n  user_id: string;\r\n  location_id?: string;\r\n  name: string;\r\n  is_default: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface Sale {\r\n  id: string;\r\n  receiptNumber: string;\r\n  customerName: string;\r\n  customerAddress?: string;\r\n  customerContact?: string;\r\n  customerId?: string;\r\n  items: SaleItem[];\r\n  paymentStatus: 'Paid' | 'NOT PAID' | 'Quote' | 'Installment Sale';\r\n  profit: number;\r\n  date: Date;\r\n  taxRate?: number;\r\n  cashTransactionId?: string;\r\n  amountPaid?: number;\r\n  amountDue?: number;\r\n  notes?: string;\r\n  categoryId?: string;\r\n  installments?: Array<{\r\n    date?: string | Date;\r\n    amountPaid?: number;\r\n  }>;\r\n  createdAt: Date;\r\n}\r\n\r\n// Supabase database schema and Json type\r\nexport type Json =\r\n  | string\r\n  | number\r\n  | boolean\r\n  | null\r\n  | { [key: string]: Json | undefined }\r\n  | Json[];\r\n\r\n// Supabase database sale structure\r\nexport interface DbSale {\r\n  id: string;\r\n  user_id: string;\r\n  location_id: string;\r\n  receipt_number: string;\r\n  customer_name: string;\r\n  customer_address?: string | null;\r\n  customer_contact?: string | null;\r\n  customer_id?: string | null;\r\n  items: Json;\r\n  payment_status: string;\r\n  profit: number;\r\n  date: string;\r\n  tax_rate?: number | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n  cash_transaction_id?: string | null;\r\n  amount_paid?: number | null;\r\n  amount_due?: number | null;\r\n  notes?: string | null;\r\n  category_id?: string | null;\r\n}\r\n\r\n// Expense interface - add cashTransactionId field\r\nexport interface Expense {\r\n  id: string;\r\n  amount: number;\r\n  description: string;\r\n  category: string | null;\r\n  date: Date;\r\n  paymentMethod: string | null;\r\n  personInCharge: string | null;\r\n  receiptImage: string | null;\r\n  cashAccountId: string | null;\r\n  cashTransactionId: string | null; // Add this field\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\n// Supabase database expense structure\r\nexport interface DbExpense {\r\n  id: string;\r\n  user_id: string;\r\n  amount: number;\r\n  description: string;\r\n  category: string | null;\r\n  date: string;\r\n  payment_method: string | null;\r\n  person_in_charge: string | null;\r\n  receipt_image: string | null;\r\n  cash_account_id: string | null;\r\n  cash_transaction_id: string | null; // Add this field\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface SaleFormData {\r\n  customerName: string;\r\n  customerAddress: string;\r\n  customerContact: string;\r\n  customerId?: string; // Added customerId field\r\n  items: SaleItem[];\r\n  paymentStatus: \"Paid\" | \"NOT PAID\" | \"Quote\" | \"Installment Sale\";\r\n  receiptNumber?: string;\r\n  taxRate?: number | null;\r\n  amountPaid?: number;\r\n  amountDue?: number;\r\n  notes?: string;\r\n  categoryId?: string;\r\n}\r\n\r\n// Analytics data type\r\nexport interface AnalyticsData {\r\n  totalSales: number;\r\n  totalProfit: number;\r\n  totalCost: number;\r\n  paidSalesCount: number;\r\n  pendingSalesCount: number;\r\n}\r\n\r\n// Form validation errors\r\nexport interface FormErrors {\r\n  customerName?: string;\r\n  customerAddress?: string;\r\n  customerContact?: string;\r\n  itemDescription?: string;\r\n  quantity?: string;\r\n  salePrice?: string;\r\n  costOfProduction?: string;\r\n  taxRate?: string;\r\n}\r\n\r\n// BusinessSettings interface to include paymentInfo\r\nexport interface BusinessSettings {\r\n  businessName: string;\r\n  businessAddress: string;\r\n  businessPhone: string;\r\n  businessEmail: string;\r\n  businessLogo?: string;\r\n  currency: string;\r\n  signature?: string;\r\n  paymentInfo?: string; // Added payment information field\r\n  defaultPrintFormat?: 'standard' | 'thermal'; // Added default print format\r\n  defaultPrinterName?: string; // Added default printer name\r\n  defaultPrinterType?: 'USB' | 'Bluetooth'; // Added default printer type\r\n}\r\n\r\n// Database business settings structure\r\nexport interface DbBusinessSettings {\r\n  id?: string;\r\n  user_id: string; // Make sure this is required, not optional\r\n  business_name: string;\r\n  business_address: string;\r\n  business_phone: string;\r\n  business_email: string;\r\n  business_logo?: string;\r\n  currency: string;\r\n  signature?: string;\r\n  metadata?: Json | null; // Add metadata field\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\n// Updated UserProfile interface to match the Supabase database structure\r\nexport interface UserProfile {\r\n  id: string;\r\n  full_name: string | null;\r\n  display_name: string | null;\r\n  avatar_url: string | null;\r\n  created_at: string | null;\r\n  updated_at: string | null;\r\n}\r\n\r\n// New interfaces for Product management - ADDED itemNumber\r\nexport interface Product {\r\n  id: string;\r\n  itemNumber: string; // Added item number field\r\n  barcode: string | null; // Added barcode field\r\n  manufacturerBarcode: string | null; // Added manufacturer barcode field\r\n  name: string;\r\n  description: string | null;\r\n  category: string;\r\n  quantity: number;\r\n  costPrice: number;\r\n  sellingPrice: number;\r\n  supplier: string | null;\r\n  imageUrl: string | null;\r\n  minimumStock: number;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nexport interface DbProduct {\r\n  id: string;\r\n  user_id: string;\r\n  item_number: string; // Added item number field\r\n  barcode: string | null; // Added barcode field\r\n  manufacturer_barcode: string | null; // Added manufacturer barcode field\r\n  name: string;\r\n  description: string | null;\r\n  category: string;\r\n  quantity: number;\r\n  cost_price: number;\r\n  selling_price: number;\r\n  supplier: string | null;\r\n  image_url: string | null;\r\n  minimum_stock: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface ProductFormData {\r\n  name: string;\r\n  barcode?: string; // Added barcode field\r\n  manufacturerBarcode?: string; // Added manufacturer barcode field\r\n  description?: string;\r\n  category?: string;\r\n  quantity: number; // Always a number, never undefined\r\n  costPrice?: number;\r\n  sellingPrice?: number;\r\n  supplier?: string;\r\n  minimumStock?: number;\r\n  imageFile?: File | null;\r\n  imageUrl?: string | null;\r\n  createdAt?: Date; // Added created date field\r\n}\r\n\r\nexport interface ProductCategory {\r\n  id: string;\r\n  name: string;\r\n  createdAt?: Date;\r\n}\r\n\r\nexport interface DbProductCategory {\r\n  id: string;\r\n  user_id: string;\r\n  name: string;\r\n  created_at: string;\r\n}\r\n\r\nexport interface StockHistoryEntry {\r\n  id: string;\r\n  productId: string;\r\n  oldQuantity: number;\r\n  newQuantity: number;\r\n  changeReason: string;\r\n  referenceId?: string | null;\r\n  receiptNumber?: string;\r\n  createdAt: Date;\r\n  product?: {\r\n    name: string;\r\n    costPrice: number;\r\n    sellingPrice: number;\r\n    itemNumber: string;\r\n  };\r\n}\r\n\r\nexport interface DbStockHistoryEntry {\r\n  id: string;\r\n  user_id: string;\r\n  product_id: string;\r\n  previous_quantity: number;\r\n  new_quantity: number;\r\n  change_reason: string;\r\n  reference_id?: string | null;\r\n  created_at: string;\r\n}\r\n\r\nexport interface ProductFilters {\r\n  search: string;\r\n  category: string;\r\n  stockStatus: 'all' | 'inStock' | 'lowStock' | 'outOfStock';\r\n}\r\n\r\n// Customer management types\r\nexport interface Customer {\r\n  id: string;\r\n  fullName: string;\r\n  email: string | null;\r\n  phoneNumber: string | null;\r\n  birthday: Date | null;\r\n  location: string | null;\r\n  categoryId: string | null; // Added category relationship\r\n  socialMedia: {\r\n    facebook?: string;\r\n    instagram?: string;\r\n    twitter?: string;\r\n    linkedin?: string;\r\n    other?: string;\r\n  } | null;\r\n  gender: string | null;\r\n  tags: string[] | null;\r\n  notes: string | null;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nexport interface DbCustomer {\r\n  id: string;\r\n  user_id: string;\r\n  full_name: string;\r\n  email: string | null;\r\n  phone_number: string | null;\r\n  birthday: string | null;\r\n  location: string | null;\r\n  category_id: string | null; // Added category relationship\r\n  social_media: Json | null;\r\n  gender: string | null;\r\n  tags: string[] | null;\r\n  notes: string | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface CustomerFormData {\r\n  fullName: string;\r\n  email: string;\r\n  phoneNumber: string;\r\n  birthday: Date | null;\r\n  location: string;\r\n  categoryId: string | null; // Added category field\r\n  socialMedia: {\r\n    facebook?: string;\r\n    instagram?: string;\r\n    twitter?: string;\r\n    linkedin?: string;\r\n    other?: string;\r\n  };\r\n  gender: string;\r\n  tags: string[];\r\n  notes: string;\r\n}\r\n\r\n// Utility functions for database conversions\r\nexport const mapDbSaleToSale = (dbSale: DbSale): Sale => {\r\n  // Parse items and ensure numeric fields are numbers, not strings\r\n  // This is critical for discount calculations to work correctly\r\n  const items = (Array.isArray(dbSale.items) ? dbSale.items : []).map((item: any) => {\r\n    const discountPercentage = item.discountPercentage !== undefined ? Number(item.discountPercentage) : undefined;\r\n    const discountAmount = item.discountAmount !== undefined ? Number(item.discountAmount) : undefined;\r\n\r\n    // Infer discountType if missing (for legacy data)\r\n    let discountType = item.discountType as 'percentage' | 'amount' | undefined;\r\n    if (!discountType) {\r\n      if (discountPercentage && discountPercentage > 0) {\r\n        discountType = 'percentage';\r\n      } else if (discountAmount && discountAmount > 0) {\r\n        discountType = 'amount';\r\n      }\r\n    }\r\n\r\n    return {\r\n      description: item.description || '',\r\n      quantity: Number(item.quantity) || 0,\r\n      price: Number(item.price) || 0,\r\n      cost: Number(item.cost) || 0,\r\n      productId: item.productId || undefined,\r\n      discountType,\r\n      discountPercentage,\r\n      discountAmount,\r\n      createdAt: item.createdAt || undefined,\r\n    };\r\n  }) as SaleItem[];\r\n\r\n  return {\r\n    id: dbSale.id,\r\n    receiptNumber: dbSale.receipt_number,\r\n    customerName: dbSale.customer_name,\r\n    customerAddress: dbSale.customer_address || '',\r\n    customerContact: dbSale.customer_contact || '',\r\n    customerId: dbSale.customer_id || undefined,\r\n    items,\r\n    paymentStatus: dbSale.payment_status as 'Paid' | 'NOT PAID' | 'Quote' | 'Installment Sale',\r\n    profit: Number(dbSale.profit),\r\n    date: new Date(dbSale.date),\r\n    taxRate: dbSale.tax_rate ? Number(dbSale.tax_rate) : 0,\r\n    cashTransactionId: dbSale.cash_transaction_id || undefined,\r\n    amountPaid: dbSale.amount_paid ? Number(dbSale.amount_paid) : undefined,\r\n    amountDue: dbSale.amount_due ? Number(dbSale.amount_due) : undefined,\r\n    notes: dbSale.notes || '',\r\n    categoryId: dbSale.category_id || undefined,\r\n    createdAt: new Date(dbSale.created_at),\r\n  };\r\n};\r\n\r\nexport const mapSaleToDbSale = (\r\n  saleData: SaleFormData,\r\n  selectedDate: Date,\r\n  profit: number,\r\n  receiptNumber: string,\r\n  userId: string,\r\n  locationId: string,\r\n  cashTransactionId?: string | null\r\n): Omit<DbSale, 'id' | 'created_at' | 'updated_at'> => {\r\n  return {\r\n    user_id: userId,\r\n    location_id: locationId,\r\n    receipt_number: receiptNumber,\r\n    customer_name: saleData.customerName,\r\n    customer_address: saleData.customerAddress || null,\r\n    customer_contact: saleData.customerContact || null,\r\n    customer_id: saleData.customerId || null, // Include customer_id\r\n    items: (saleData.items as unknown) as Json,\r\n    payment_status: saleData.paymentStatus,\r\n    profit: profit,\r\n    date: selectedDate.toISOString().split('T')[0],\r\n    tax_rate: saleData.taxRate || 0,\r\n    cash_transaction_id: cashTransactionId || null,\r\n    amount_paid: saleData.amountPaid || null,\r\n    amount_due: saleData.amountDue || null,\r\n    notes: saleData.notes || null,\r\n    category_id: saleData.categoryId || null,\r\n  };\r\n};\r\n\r\n// Conversion functions for business settings\r\nexport const mapDbBusinessSettingsToBusinessSettings = (dbSettings: DbBusinessSettings): BusinessSettings => {\r\n  return {\r\n    businessName: dbSettings.business_name,\r\n    businessAddress: dbSettings.business_address,\r\n    businessPhone: dbSettings.business_phone,\r\n    businessEmail: dbSettings.business_email,\r\n    businessLogo: dbSettings.business_logo,\r\n    currency: dbSettings.currency,\r\n    signature: dbSettings.signature,\r\n    paymentInfo: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).payment_info as string || '' : '',\r\n    defaultPrintFormat: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).default_print_format as 'standard' | 'thermal' || 'standard' : 'standard',\r\n    defaultPrinterName: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).default_printer_name as string || '' : '',\r\n    defaultPrinterType: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).default_printer_type as 'USB' | 'Bluetooth' || 'USB' : 'USB'\r\n  };\r\n};\r\n\r\nexport const mapBusinessSettingsToDbBusinessSettings = (\r\n  settings: BusinessSettings,\r\n  userId: string\r\n): DbBusinessSettings => {\r\n  // Create metadata object with payment_info\r\n  const metadata: Json = {\r\n    payment_info: settings.paymentInfo || '',\r\n    default_print_format: settings.defaultPrintFormat || 'standard',\r\n    default_printer_name: settings.defaultPrinterName || '',\r\n    default_printer_type: settings.defaultPrinterType || 'USB'\r\n  };\r\n\r\n  return {\r\n    user_id: userId,\r\n    business_name: settings.businessName,\r\n    business_address: settings.businessAddress,\r\n    business_phone: settings.businessPhone,\r\n    business_email: settings.businessEmail,\r\n    business_logo: settings.businessLogo,\r\n    currency: settings.currency,\r\n    signature: settings.signature,\r\n    metadata: metadata, // Include metadata in the return object\r\n    updated_at: new Date().toISOString()\r\n  };\r\n};\r\n\r\n// Conversion functions for products and categories - ADDED itemNumber\r\nexport const mapDbProductToProduct = (dbProduct: DbProduct): Product => {\r\n  return {\r\n    id: dbProduct.id,\r\n    itemNumber: dbProduct.item_number, // Added item number mapping\r\n    barcode: dbProduct.barcode, // Added barcode mapping\r\n    manufacturerBarcode: dbProduct.manufacturer_barcode, // Added manufacturer barcode mapping\r\n    name: dbProduct.name,\r\n    description: dbProduct.description,\r\n    category: dbProduct.category,\r\n    quantity: dbProduct.quantity,\r\n    costPrice: Number(dbProduct.cost_price),\r\n    sellingPrice: Number(dbProduct.selling_price),\r\n    supplier: dbProduct.supplier,\r\n    imageUrl: dbProduct.image_url,\r\n    minimumStock: dbProduct.minimum_stock,\r\n    createdAt: new Date(dbProduct.created_at),\r\n    updatedAt: new Date(dbProduct.updated_at)\r\n  };\r\n};\r\n\r\nexport const mapProductToDbProduct = (product: Partial<Product>, userId: string): Partial<DbProduct> => {\r\n  const result: Partial<DbProduct> = {\r\n    user_id: userId\r\n  };\r\n\r\n  if (product.id) result.id = product.id;\r\n  if (product.itemNumber) result.item_number = product.itemNumber; // Added item number mapping\r\n  if (product.barcode !== undefined) result.barcode = product.barcode; // Added barcode mapping\r\n  if (product.manufacturerBarcode !== undefined) result.manufacturer_barcode = product.manufacturerBarcode; // Added manufacturer barcode mapping\r\n  if (product.name) result.name = product.name;\r\n  result.description = product.description;\r\n  if (product.category) result.category = product.category;\r\n  if (product.quantity !== undefined) result.quantity = product.quantity;\r\n  if (product.costPrice !== undefined) {\r\n    result.cost_price = product.costPrice;\r\n    console.log(`DEBUG: Mapping costPrice ${product.costPrice} to cost_price`);\r\n  }\r\n  if (product.sellingPrice !== undefined) {\r\n    result.selling_price = product.sellingPrice;\r\n    console.log(`DEBUG: Mapping sellingPrice ${product.sellingPrice} to selling_price`);\r\n  }\r\n  result.supplier = product.supplier;\r\n  result.image_url = product.imageUrl;\r\n  if (product.minimumStock !== undefined) result.minimum_stock = product.minimumStock;\r\n\r\n  return result;\r\n};\r\n\r\nexport const mapDbProductCategoryToProductCategory = (dbCategory: DbProductCategory): ProductCategory => {\r\n  return {\r\n    id: dbCategory.id,\r\n    name: dbCategory.name\r\n  };\r\n};\r\n\r\nexport const mapDbStockHistoryToStockHistory = (dbHistory: DbStockHistoryEntry): StockHistoryEntry => {\r\n  return {\r\n    id: dbHistory.id,\r\n    productId: dbHistory.product_id,\r\n    oldQuantity: dbHistory.previous_quantity,\r\n    newQuantity: dbHistory.new_quantity,\r\n    changeReason: dbHistory.change_reason,\r\n    referenceId: dbHistory.reference_id || null,\r\n    createdAt: new Date(dbHistory.created_at)\r\n  };\r\n};\r\n\r\n// Updated Customer mapping functions to include categoryId\r\nexport const mapDbCustomerToCustomer = (dbCustomer: DbCustomer): Customer => {\r\n  let birthday = null;\r\n\r\n  if (dbCustomer.birthday) {\r\n    try {\r\n      const birthdayStr = String(dbCustomer.birthday);\r\n      const [year, month, day] = birthdayStr.split('-').map(Number);\r\n\r\n      if (!isNaN(year) && !isNaN(month) && !isNaN(day)) {\r\n        birthday = new Date(Date.UTC(year, month - 1, day, 12, 0, 0));\r\n\r\n        console.log(\r\n          'Converting DB birthday to Date object:',\r\n          dbCustomer.birthday,\r\n          'â†’',\r\n          birthday,\r\n          '(UTC string:',\r\n          birthday.toISOString(),\r\n          ')'\r\n        );\r\n      } else {\r\n        console.error('Invalid date components in birthday:', dbCustomer.birthday);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error parsing birthday:', error, dbCustomer.birthday);\r\n    }\r\n  }\r\n\r\n  return {\r\n    id: dbCustomer.id,\r\n    fullName: dbCustomer.full_name,\r\n    email: dbCustomer.email,\r\n    phoneNumber: dbCustomer.phone_number,\r\n    birthday: birthday,\r\n    location: dbCustomer.location,\r\n    categoryId: dbCustomer.category_id, // Added category mapping\r\n    socialMedia: dbCustomer.social_media as any,\r\n    gender: dbCustomer.gender,\r\n    tags: dbCustomer.tags,\r\n    notes: dbCustomer.notes,\r\n    createdAt: new Date(dbCustomer.created_at),\r\n    updatedAt: new Date(dbCustomer.updated_at)\r\n  };\r\n};\r\n\r\nexport const mapCustomerToDbCustomer = (customer: Partial<Customer>, userId: string): Partial<DbCustomer> => {\r\n  const result: Partial<DbCustomer> = {\r\n    user_id: userId\r\n  };\r\n\r\n  if (customer.id) result.id = customer.id;\r\n  if (customer.fullName) result.full_name = customer.fullName;\r\n  result.email = customer.email;\r\n  result.phone_number = customer.phoneNumber;\r\n  if (customer.birthday) result.birthday = customer.birthday.toISOString().split('T')[0];\r\n  result.location = customer.location;\r\n  result.category_id = customer.categoryId; // Added category mapping\r\n  result.social_media = customer.socialMedia as Json;\r\n  result.gender = customer.gender;\r\n  result.tags = customer.tags;\r\n  result.notes = customer.notes;\r\n\r\n  return result;\r\n};\r\n\r\n// Conversion functions for expenses\r\nexport const mapDbExpenseToExpense = (dbExpense: DbExpense): Expense => {\r\n  return {\r\n    id: dbExpense.id,\r\n    amount: Number(dbExpense.amount),\r\n    description: dbExpense.description,\r\n    category: dbExpense.category,\r\n    date: new Date(dbExpense.date),\r\n    paymentMethod: dbExpense.payment_method,\r\n    personInCharge: dbExpense.person_in_charge,\r\n    receiptImage: dbExpense.receipt_image,\r\n    cashAccountId: dbExpense.cash_account_id,\r\n    cashTransactionId: dbExpense.cash_transaction_id,\r\n    createdAt: new Date(dbExpense.created_at),\r\n    updatedAt: new Date(dbExpense.updated_at)\r\n  };\r\n};\r\n\r\nexport const mapExpenseToDbExpense = (expense: Partial<Expense>, userId: string): Partial<DbExpense> => {\r\n  const result: Partial<DbExpense> = {\r\n    user_id: userId\r\n  };\r\n\r\n  if (expense.id) result.id = expense.id;\r\n  if (expense.amount !== undefined) result.amount = expense.amount;\r\n  if (expense.description) result.description = expense.description;\r\n  result.category = expense.category;\r\n  if (expense.date) result.date = expense.date.toISOString().split('T')[0];\r\n  result.payment_method = expense.paymentMethod;\r\n  result.person_in_charge = expense.personInCharge;\r\n  result.receipt_image = expense.receiptImage;\r\n  result.cash_account_id = expense.cashAccountId;\r\n  result.cash_transaction_id = expense.cashTransactionId;\r\n\r\n  return result;\r\n};\r\n"],"names":[],"mappings":"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"}