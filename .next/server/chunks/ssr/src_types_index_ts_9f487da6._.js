module.exports=[257288,a=>{"use strict";a.s(["mapBusinessSettingsToDbBusinessSettings",0,(a,b)=>{let c={payment_info:a.paymentInfo||"",default_print_format:a.defaultPrintFormat||"standard",default_printer_name:a.defaultPrinterName||"",default_printer_type:a.defaultPrinterType||"USB"};return{user_id:b,business_name:a.businessName,business_address:a.businessAddress,business_phone:a.businessPhone,business_email:a.businessEmail,business_logo:a.businessLogo,currency:a.currency,signature:a.signature,metadata:c,updated_at:new Date().toISOString()}},"mapCustomerToDbCustomer",0,(a,b)=>{let c={user_id:b};return a.id&&(c.id=a.id),a.fullName&&(c.full_name=a.fullName),c.email=a.email,c.phone_number=a.phoneNumber,a.birthday&&(c.birthday=a.birthday.toISOString().split("T")[0]),c.location=a.location,c.category_id=a.categoryId,c.social_media=a.socialMedia,c.gender=a.gender,c.tags=a.tags,c.notes=a.notes,c},"mapDbBusinessSettingsToBusinessSettings",0,a=>({businessName:a.business_name,businessAddress:a.business_address,businessPhone:a.business_phone,businessEmail:a.business_email,businessLogo:a.business_logo,currency:a.currency,signature:a.signature,paymentInfo:a.metadata&&"object"==typeof a.metadata&&a.metadata.payment_info||"",defaultPrintFormat:a.metadata&&"object"==typeof a.metadata&&a.metadata.default_print_format||"standard",defaultPrinterName:a.metadata&&"object"==typeof a.metadata&&a.metadata.default_printer_name||"",defaultPrinterType:a.metadata&&"object"==typeof a.metadata&&a.metadata.default_printer_type||"USB"}),"mapDbCustomerToCustomer",0,a=>{let b=null;if(a.birthday)try{let[c,d,e]=String(a.birthday).split("-").map(Number);isNaN(c)||isNaN(d)||isNaN(e)?console.error("Invalid date components in birthday:",a.birthday):(b=new Date(Date.UTC(c,d-1,e,12,0,0)),console.log("Converting DB birthday to Date object:",a.birthday,"â†’",b,"(UTC string:",b.toISOString(),")"))}catch(b){console.error("Error parsing birthday:",b,a.birthday)}return{id:a.id,fullName:a.full_name,email:a.email,phoneNumber:a.phone_number,birthday:b,location:a.location,categoryId:a.category_id,socialMedia:a.social_media,gender:a.gender,tags:a.tags,notes:a.notes,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}},"mapDbExpenseToExpense",0,a=>({id:a.id,amount:Number(a.amount),description:a.description,category:a.category,date:new Date(a.date),paymentMethod:a.payment_method,personInCharge:a.person_in_charge,receiptImage:a.receipt_image,cashAccountId:a.cash_account_id,cashTransactionId:a.cash_transaction_id,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}),"mapDbProductCategoryToProductCategory",0,a=>({id:a.id,name:a.name}),"mapDbProductToProduct",0,a=>({id:a.id,itemNumber:a.item_number,barcode:a.barcode,manufacturerBarcode:a.manufacturer_barcode,name:a.name,description:a.description,category:a.category,quantity:a.quantity,costPrice:Number(a.cost_price),sellingPrice:Number(a.selling_price),supplier:a.supplier,imageUrl:a.image_url,minimumStock:a.minimum_stock,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}),"mapDbSaleToSale",0,a=>{let b=(Array.isArray(a.items)?a.items:[]).map(a=>{let b=void 0!==a.discountPercentage?Number(a.discountPercentage):void 0,c=void 0!==a.discountAmount?Number(a.discountAmount):void 0,d=a.discountType;return!d&&(b&&b>0?d="percentage":c&&c>0&&(d="amount")),{description:a.description||"",quantity:Number(a.quantity)||0,price:Number(a.price)||0,cost:Number(a.cost)||0,productId:a.productId||void 0,discountType:d,discountPercentage:b,discountAmount:c,createdAt:a.createdAt||void 0}});return{id:a.id,receiptNumber:a.receipt_number,customerName:a.customer_name,customerAddress:a.customer_address||"",customerContact:a.customer_contact||"",customerId:a.customer_id||void 0,items:b,paymentStatus:a.payment_status,profit:Number(a.profit),date:new Date(a.date),taxRate:a.tax_rate?Number(a.tax_rate):0,cashTransactionId:a.cash_transaction_id||void 0,amountPaid:a.amount_paid?Number(a.amount_paid):void 0,amountDue:a.amount_due?Number(a.amount_due):void 0,notes:a.notes||"",categoryId:a.category_id||void 0,createdAt:new Date(a.created_at)}},"mapDbStockHistoryToStockHistory",0,a=>({id:a.id,productId:a.product_id,oldQuantity:a.previous_quantity,newQuantity:a.new_quantity,changeReason:a.change_reason,referenceId:a.reference_id||null,createdAt:new Date(a.created_at)}),"mapExpenseToDbExpense",0,(a,b)=>{let c={user_id:b};return a.id&&(c.id=a.id),void 0!==a.amount&&(c.amount=a.amount),a.description&&(c.description=a.description),c.category=a.category,a.date&&(c.date=a.date.toISOString().split("T")[0]),c.payment_method=a.paymentMethod,c.person_in_charge=a.personInCharge,c.receipt_image=a.receiptImage,c.cash_account_id=a.cashAccountId,c.cash_transaction_id=a.cashTransactionId,c},"mapProductToDbProduct",0,(a,b)=>{let c={user_id:b};return a.id&&(c.id=a.id),a.itemNumber&&(c.item_number=a.itemNumber),void 0!==a.barcode&&(c.barcode=a.barcode),void 0!==a.manufacturerBarcode&&(c.manufacturer_barcode=a.manufacturerBarcode),a.name&&(c.name=a.name),c.description=a.description,a.category&&(c.category=a.category),void 0!==a.quantity&&(c.quantity=a.quantity),void 0!==a.costPrice&&(c.cost_price=a.costPrice,console.log(`DEBUG: Mapping costPrice ${a.costPrice} to cost_price`)),void 0!==a.sellingPrice&&(c.selling_price=a.sellingPrice,console.log(`DEBUG: Mapping sellingPrice ${a.sellingPrice} to selling_price`)),c.supplier=a.supplier,c.image_url=a.imageUrl,void 0!==a.minimumStock&&(c.minimum_stock=a.minimumStock),c},"mapSaleToDbSale",0,(a,b,c,d,e,f,g)=>({user_id:e,location_id:f,receipt_number:d,customer_name:a.customerName,customer_address:a.customerAddress||null,customer_contact:a.customerContact||null,customer_id:a.customerId||null,items:a.items,payment_status:a.paymentStatus,profit:c,date:b.toISOString().split("T")[0],tax_rate:a.taxRate||0,cash_transaction_id:g||null,amount_paid:a.amountPaid||null,amount_due:a.amountDue||null,notes:a.notes||null,category_id:a.categoryId||null})])}];

//# sourceMappingURL=src_types_index_ts_9f487da6._.js.map