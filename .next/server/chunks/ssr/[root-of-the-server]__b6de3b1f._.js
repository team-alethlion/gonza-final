module.exports=[463021,(a,b,c)=>{b.exports=a.x("@prisma/client-2c3a283f134fdcb6",()=>require("@prisma/client-2c3a283f134fdcb6"))},723862,a=>a.a(async(b,c)=>{try{let b=await a.y("pg-587764f78a6c7a9c");a.n(b),c()}catch(a){c(a)}},!0),180490,a=>{a.v({name:"dotenv",version:"16.6.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}})},522734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},632502,a=>a.a(async(b,c)=>{try{var d=a.i(137936),e=a.i(319343),f=a.i(713095),g=b([e]);async function h(a){try{let b=await e.db.branchSettings.findUnique({where:{branchId:a}});if(!b)return null;return{id:b.id,business_name:b.businessName,business_address:b.address,business_phone:b.phone,business_email:b.email,business_logo:b.logo,currency:b.currency,signature:b.signatureImage,metadata:b.metadata||{}}}catch(a){return console.error("Error fetching business settings:",a),null}}async function i(a,b,c){try{if(!await e.db.branch.findFirst({where:{id:a,OR:[{adminId:b},{users:{some:{id:b}}}]}}))return{success:!1,error:"Unauthorized to update branch settings"};let d={businessName:c.business_name,address:c.business_address,phone:c.business_phone,email:c.business_email,logo:c.business_logo,currency:c.currency,signatureImage:c.signature,metadata:c.metadata},f=await e.db.branchSettings.upsert({where:{branchId:a},update:d,create:{branchId:a,...d}});return{success:!0,data:{id:f.id,business_name:f.businessName,business_address:f.address,business_phone:f.phone,business_email:f.email,business_logo:f.logo,currency:f.currency,signature:f.signatureImage,metadata:f.metadata}}}catch(a){return console.error("Error upserting business settings:",a),{success:!1,error:a.message||"Failed to update settings"}}}async function j(a){try{let b=await e.db.user.findUnique({where:{id:a},select:{isFrozen:!0,createdAt:!0,subscriptions:{where:{status:"active"},orderBy:{endDate:"desc"},take:1},branches:{select:{id:!0}}}});if(!b)return null;let c=b.subscriptions[0],d=new Date,f=c?Math.ceil((c.endDate.getTime()-d.getTime())/864e5):0;return{is_frozen:b.isFrozen,location_limit:1,billing_amount:c?Number(c.amount):5e4,billing_duration:"Monthly",days_remaining:Math.max(0,f),next_billing_date:c?.endDate.toISOString()||""}}catch(a){return console.error("Error fetching account status:",a),{is_frozen:!1,location_limit:1,billing_amount:5e4,billing_duration:"Monthly",days_remaining:30,next_billing_date:""}}}async function k(a){try{let b=await e.db.branchSettings.findUnique({where:{branchId:a}});if(!b)return null;return{id:b.id,location_id:b.branchId,business_name:b.businessName,business_address:b.address,business_phone:b.phone,business_email:b.email,business_logo:b.logo,completed:!!b.businessName&&!!b.phone,is_frozen:!1}}catch(a){return console.error("Error fetching onboarding status:",a),null}}[e]=g.then?(await g)():g,(0,f.ensureServerEntryExports)([h,i,j,k]),(0,d.registerServerReference)(h,"40290a4fc6b8571a026afeb877566edb807919e482",null),(0,d.registerServerReference)(i,"70837cf9b9b85e45a6367e7e3a592457c34a990d2e",null),(0,d.registerServerReference)(j,"4011d3f24165a1ff4c6519d47357cf1974ec9d298f",null),(0,d.registerServerReference)(k,"40ee1dba433f3b3dc0f2791052194d1420c0946197",null),a.s(["getAccountStatusAction",()=>j,"getBusinessSettingsAction",()=>h,"getOnboardingStatusAction",()=>k,"upsertBusinessSettingsAction",()=>i]),c()}catch(a){c(a)}},!1),281760,a=>a.a(async(b,c)=>{try{var d=a.i(719789),e=a.i(657141),f=a.i(480453),g=a.i(878274),h=a.i(849664),i=a.i(632502),j=a.i(971358),k=a.i(419447),l=a.i(404123),m=b([d,e,f,g,h,i,j,k,l]);[d,e,f,g,h,i,j,k,l]=m.then?(await m)():m,a.s([]),c()}catch(a){c(a)}},!1),658927,a=>a.a(async(b,c)=>{try{var d=a.i(281760),e=a.i(719789),f=a.i(657141),g=a.i(480453),h=a.i(878274),i=a.i(849664),j=a.i(632502),k=a.i(971358),l=a.i(419447),m=a.i(404123),n=b([d,e,f,g,h,i,j,k,l,m]);[d,e,f,g,h,i,j,k,l,m]=n.then?(await n)():n,a.s(["4001af3a742114ad88aa5fa65b77c9b0daf7714c0e",()=>l.unlinkInstallmentFromCashAction,"40112c882b84370baebfbdd88b55390cbebe0d524d",()=>l.createInstallmentPaymentAction,"40193ce83d40b7dbf7c2991866f6d090da71bf2f59",()=>m.createStockHistoryAction,"401d907b5cd7e0b2f207e9b555ac4fe2e14de08444",()=>h.logActivityAction,"40227d1c2ed5cbf6324cf519682235031f0a3138a5",()=>i.getCustomersAction,"40290a4fc6b8571a026afeb877566edb807919e482",()=>j.getBusinessSettingsAction,"4032dd367fa6b4bfc08062e47a1ca2ffb5e5eb04b0",()=>i.deleteCustomerCategoryAction,"4035262824370ccd2af8788671f3cc8435d165a93b",()=>m.getActivityByEntityIdsAction,"40696a4456c7690d29b12ef602356cbc9be3c34a97",()=>i.getCustomerCategoriesAction,"406e0d925bc965618c40bddb0b2011bea951e9b025",()=>m.getStockRepairsPreviewAction,"4071ca673ee83cf4e327275e6cacdae94950b7fa0e",()=>g.getProfilesAction,"40786257b46b845f51e5b90ff2502c389af049cc70",()=>l.getInstallmentPaymentsAction,"4085da50dd0bf206cb5893edda258b1fb6087fb94b",()=>e.signUpAction,"408ffa5a6991ba3e64aa45862bed880555b1e6c2ac",()=>f.removeBusinessPasswordAction,"409394b83f001d081510671555a3855b10e38d2c72",()=>l.deleteInstallmentPaymentAction,"4097618b1feff5bb1f466d7ef73901ab8f5cb1ab7d",()=>f.getBusinessLocationsAction,"40a4b8447ff959c91ed080f8a56d7de9480694b288",()=>g.deleteProfileAction,"40d9064371ce5c0811194879498fdc849fbf872b8a",()=>k.deleteSaleAction,"40e343dbe89cc3fb8304b10c9c62480d17ad426333",()=>m.createRequisitionAction,"40f9d32b0ea15e5c8f0b3441eec79ddb30815f1c83",()=>i.deleteCustomerAction,"60048cacdf8f6ab02d12e637338fb3a82838e3ab18",()=>m.getRequisitionsAction,"600ac80e87b60a5c02e2c4c1f0b6a0a7dc2d33be23",()=>i.getCustomerStatsAction,"600c0285b1a230950447aea12ad4361b35b7957acf",()=>f.deleteBusinessAction,"601c2e81e5452f88769b0bfbde3086892068006dee",()=>i.mergeCustomersAction,"601f435e1ee906932885a36b02b1480071685e0cc2",()=>e.signInAction,"6021a6dd25147899fbda211078cd44cca985d89362",()=>l.updateInstallmentPaymentAction,"6028252923753001f049a6422f229f06bbec8b1f79",()=>g.updateProfileAction,"60364422a73402f3b5e59fb0aa7bbc8b9374b14ab5",()=>f.verifyBusinessPasswordAction,"60428e59105c2448bb202e52e31bf2d4492d8468f7",()=>m.deleteStockHistoryEntriesByReferenceAction,"6055d418bbb34217108fb09f6c6e07a1977765bffb",()=>m.getStockHistoryAction,"605622308fa711a2f7465dc0a63c7e00dbe7c0418e",()=>m.deleteRequisitionAction,"605890db4ca201299b68a3100db491232317cf530d",()=>i.updateCustomerCategoryAction,"605a5ac8c70aa01eb0dd29483cb3c24316ae309de0",()=>m.getProductReconciliationAction,"606359dfb6b88f4f4b756b5c416007efbe2fcb1fcc",()=>f.setBusinessPasswordAction,"608339c001209003cae74bf0c032c55c8444c1ef85",()=>g.createProfileAction,"609ad415d8b556837c750a19320a30ea6d4beaf896",()=>i.updateCustomerAction,"60a33152b65e6ef5593ff2b5c1d0a77d09216fe7e5",()=>m.repairStockChainsAction,"60b4fb287dfbc2b628cca363587f00d76a36f3623b",()=>m.recalculateStockChainAction,"60b753a09691b4217e6751307f35f59cee17dc35d7",()=>f.resetBusinessAction,"60d7c3d2a9fae9e08d24867d93fe36b7505e38a2e0",()=>f.createBusinessAction,"60eb8a3f21a0957ca35a2a3606c2b8e1d21977469d",()=>m.updateStockHistoryDatesAction,"701e152aafbc4d4daee38965467b93e083a6e967b4",()=>m.updateRequisitionAction,"701e1ec289530654c83844b4eaf8773c09a902523e",()=>k.createReceiptAction,"7022b270c26116cc720c0fe09926fa8749c32b0ea9",()=>m.getStockSummaryReportAction,"703e9376bfaf2adbf9aba886e70ba6b561f6bf5e0c",()=>k.getSalesAction,"70837cf9b9b85e45a6367e7e3a592457c34a990d2e",()=>j.upsertBusinessSettingsAction,"708938753470d59bd6fa4ddf41a8a3581263dd393b",()=>i.createCustomerAction,"70b04375c8b1e7a5a64b19d8153628c90f1150c267",()=>i.createCustomerCategoryAction,"70dd23d5987603253209c3c012d3079124803d1be2",()=>f.updateBusinessAction,"70e0c90d8c965637b3ae61b1f0dd8fc9a41ea083d6",()=>m.updateStockHistoryDatesByReferenceAction,"78ab6573748e58002b49a105ac9332c6ce6438d0d6",()=>l.linkInstallmentToCashAction]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__b6de3b1f._.js.map