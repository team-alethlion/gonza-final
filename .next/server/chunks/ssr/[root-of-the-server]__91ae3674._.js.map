{"version":3,"sources":["../../../../node_modules/%40capacitor/core/build/util.js","../../../../node_modules/%40capacitor/core/build/runtime.js","../../../../node_modules/%40capacitor/core/build/global.js","../../../../node_modules/%40capacitor/core/build/web-plugin.js","../../../../node_modules/%40capacitor/core/build/core-plugins.js","../../../../node_modules/date-fns/constants.js","../../../../node_modules/date-fns/constructFrom.js","../../../../node_modules/date-fns/toDate.js","../../../../node_modules/date-fns/addDays.js","../../../../node_modules/date-fns/addWeeks.js","../../../../node_modules/date-fns/addMonths.js","../../../../src/types/index.ts","../../../../src/utils/generateReceiptVectorPDF.ts"],"sourcesContent":["export var ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nexport class CapacitorException extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.message = message;\n        this.code = code;\n        this.data = data;\n    }\n}\nexport const getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n//# sourceMappingURL=util.js.map","import { CapacitorException, getPlatformId, ExceptionCode } from './util';\nexport const createCapacitor = (win) => {\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    const getPlatform = () => {\n        return capCustomPlatform !== null ? capCustomPlatform.name : getPlatformId(win);\n    };\n    const isNativePlatform = () => getPlatform() !== 'web';\n    const isPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const getPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find((h) => h.name === pluginName); };\n    const handleError = (err) => win.console.error(err);\n    const registeredPlugins = new Map();\n    const registerPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null && !jsImplementation && 'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find((m) => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then((impl) => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair âœ¨\n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise((resolve) => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([...Object.keys(jsImplementations), ...(pluginHeader ? [platform] : [])]),\n        });\n        return proxy;\n    };\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = (filePath) => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    return cap;\n};\nexport const initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n//# sourceMappingURL=runtime.js.map","import { initCapacitorGlobal } from './runtime';\nexport const Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nexport const registerPlugin = Capacitor.registerPlugin;\n//# sourceMappingURL=global.js.map","import { Capacitor } from './global';\nimport { ExceptionCode } from './util';\n/**\n * Base class web plugins should extend.\n */\nexport class WebPlugin {\n    constructor() {\n        this.listeners = {};\n        this.retainedEventArguments = {};\n        this.windowListeners = {};\n    }\n    addListener(eventName, listenerFunc) {\n        let firstListener = false;\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n            firstListener = true;\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        if (firstListener) {\n            this.sendRetainedArgumentsForEvent(eventName);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data, retainUntilConsumed) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            if (retainUntilConsumed) {\n                let args = this.retainedEventArguments[eventName];\n                if (!args) {\n                    args = [];\n                }\n                args.push(data);\n                this.retainedEventArguments[eventName] = args;\n            }\n            return;\n        }\n        listeners.forEach((listener) => listener(data));\n    }\n    hasListeners(eventName) {\n        var _a;\n        return !!((_a = this.listeners[eventName]) === null || _a === void 0 ? void 0 : _a.length);\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: (event) => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n    sendRetainedArgumentsForEvent(eventName) {\n        const args = this.retainedEventArguments[eventName];\n        if (!args) {\n            return;\n        }\n        delete this.retainedEventArguments[eventName];\n        args.forEach((arg) => {\n            this.notifyListeners(eventName, arg);\n        });\n    }\n}\n//# sourceMappingURL=web-plugin.js.map","import { registerPlugin } from './global';\nimport { WebPlugin } from './web-plugin';\nexport const WebView = /*#__PURE__*/ registerPlugin('WebView');\n/******** END WEB VIEW PLUGIN ********/\n/******** COOKIES PLUGIN ********/\n/**\n * Safely web encode a string value (inspired by js-cookie)\n * @param str The string value to encode\n */\nconst encode = (str) => encodeURIComponent(str)\n    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n    .replace(/[()]/g, escape);\n/**\n * Safely web decode a string value (inspired by js-cookie)\n * @param str The string value to decode\n */\nconst decode = (str) => str.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\nexport class CapacitorCookiesPluginWeb extends WebPlugin {\n    async getCookies() {\n        const cookies = document.cookie;\n        const cookieMap = {};\n        cookies.split(';').forEach((cookie) => {\n            if (cookie.length <= 0)\n                return;\n            // Replace first \"=\" with CAP_COOKIE to prevent splitting on additional \"=\"\n            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');\n            key = decode(key).trim();\n            value = decode(value).trim();\n            cookieMap[key] = value;\n        });\n        return cookieMap;\n    }\n    async setCookie(options) {\n        try {\n            // Safely Encoded Key/Value\n            const encodedKey = encode(options.key);\n            const encodedValue = encode(options.value);\n            // Clean & sanitize options\n            const expires = options.expires ? `; expires=${options.expires.replace('expires=', '')}` : '';\n            const path = (options.path || '/').replace('path=', ''); // Default is \"path=/\"\n            const domain = options.url != null && options.url.length > 0 ? `domain=${options.url}` : '';\n            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async deleteCookie(options) {\n        try {\n            document.cookie = `${options.key}=; Max-Age=0`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearCookies() {\n        try {\n            const cookies = document.cookie.split(';') || [];\n            for (const cookie of cookies) {\n                document.cookie = cookie.replace(/^ +/, '').replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearAllCookies() {\n        try {\n            await this.clearCookies();\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n}\nexport const CapacitorCookies = registerPlugin('CapacitorCookies', {\n    web: () => new CapacitorCookiesPluginWeb(),\n});\n// UTILITY FUNCTIONS\n/**\n * Read in a Blob value and return it as a base64 string\n * @param blob The blob value to convert to a base64 string\n */\nexport const readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n        const base64String = reader.result;\n        // remove prefix \"data:application/pdf;base64,\"\n        resolve(base64String.indexOf(',') >= 0 ? base64String.split(',')[1] : base64String);\n    };\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(blob);\n});\n/**\n * Normalize an HttpHeaders map by lowercasing all of the values\n * @param headers The HttpHeaders object to normalize\n */\nconst normalizeHttpHeaders = (headers = {}) => {\n    const originalKeys = Object.keys(headers);\n    const loweredKeys = Object.keys(headers).map((k) => k.toLocaleLowerCase());\n    const normalized = loweredKeys.reduce((acc, key, index) => {\n        acc[key] = headers[originalKeys[index]];\n        return acc;\n    }, {});\n    return normalized;\n};\n/**\n * Builds a string of url parameters that\n * @param params A map of url parameters\n * @param shouldEncode true if you should encodeURIComponent() the values (true by default)\n */\nconst buildUrlParams = (params, shouldEncode = true) => {\n    if (!params)\n        return null;\n    const output = Object.entries(params).reduce((accumulator, entry) => {\n        const [key, value] = entry;\n        let encodedValue;\n        let item;\n        if (Array.isArray(value)) {\n            item = '';\n            value.forEach((str) => {\n                encodedValue = shouldEncode ? encodeURIComponent(str) : str;\n                item += `${key}=${encodedValue}&`;\n            });\n            // last character will always be \"&\" so slice it off\n            item.slice(0, -1);\n        }\n        else {\n            encodedValue = shouldEncode ? encodeURIComponent(value) : value;\n            item = `${key}=${encodedValue}`;\n        }\n        return `${accumulator}&${item}`;\n    }, '');\n    // Remove initial \"&\" from the reduce\n    return output.substr(1);\n};\n/**\n * Build the RequestInit object based on the options passed into the initial request\n * @param options The Http plugin options\n * @param extra Any extra RequestInit values\n */\nexport const buildRequestInit = (options, extra = {}) => {\n    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);\n    // Get the content-type\n    const headers = normalizeHttpHeaders(options.headers);\n    const type = headers['content-type'] || '';\n    // If body is already a string, then pass it through as-is.\n    if (typeof options.data === 'string') {\n        output.body = options.data;\n    }\n    // Build request initializers based off of content-type\n    else if (type.includes('application/x-www-form-urlencoded')) {\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(options.data || {})) {\n            params.set(key, value);\n        }\n        output.body = params.toString();\n    }\n    else if (type.includes('multipart/form-data') || options.data instanceof FormData) {\n        const form = new FormData();\n        if (options.data instanceof FormData) {\n            options.data.forEach((value, key) => {\n                form.append(key, value);\n            });\n        }\n        else {\n            for (const key of Object.keys(options.data)) {\n                form.append(key, options.data[key]);\n            }\n        }\n        output.body = form;\n        const headers = new Headers(output.headers);\n        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary\n        output.headers = headers;\n    }\n    else if (type.includes('application/json') || typeof options.data === 'object') {\n        output.body = JSON.stringify(options.data);\n    }\n    return output;\n};\n// WEB IMPLEMENTATION\nexport class CapacitorHttpPluginWeb extends WebPlugin {\n    /**\n     * Perform an Http request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async request(options) {\n        const requestInit = buildRequestInit(options, options.webFetchExtra);\n        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);\n        const url = urlParams ? `${options.url}?${urlParams}` : options.url;\n        const response = await fetch(url, requestInit);\n        const contentType = response.headers.get('content-type') || '';\n        // Default to 'text' responseType so no parsing happens\n        let { responseType = 'text' } = response.ok ? options : {};\n        // If the response content-type is json, force the response to be json\n        if (contentType.includes('application/json')) {\n            responseType = 'json';\n        }\n        let data;\n        let blob;\n        switch (responseType) {\n            case 'arraybuffer':\n            case 'blob':\n                blob = await response.blob();\n                data = await readBlobAsBase64(blob);\n                break;\n            case 'json':\n                data = await response.json();\n                break;\n            case 'document':\n            case 'text':\n            default:\n                data = await response.text();\n        }\n        // Convert fetch headers to Capacitor HttpHeaders\n        const headers = {};\n        response.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            data,\n            headers,\n            status: response.status,\n            url: response.url,\n        };\n    }\n    /**\n     * Perform an Http GET request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async get(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));\n    }\n    /**\n     * Perform an Http POST request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async post(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));\n    }\n    /**\n     * Perform an Http PUT request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async put(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));\n    }\n    /**\n     * Perform an Http PATCH request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async patch(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));\n    }\n    /**\n     * Perform an Http DELETE request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async delete(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));\n    }\n}\nexport const CapacitorHttp = registerPlugin('CapacitorHttp', {\n    web: () => new CapacitorHttpPluginWeb(),\n});\n/******** END HTTP PLUGIN ********/\n//# sourceMappingURL=core-plugins.js.map","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","import { addDays } from \"./addDays.js\";\n\n/**\n * The {@link addWeeks} function options.\n */\n\n/**\n * @name addWeeks\n * @category Week Helpers\n * @summary Add the specified number of weeks to the given date.\n *\n * @description\n * Add the specified number of weeks to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of weeks to be added.\n * @param options - An object with options\n *\n * @returns The new date with the weeks added\n *\n * @example\n * // Add 4 weeks to 1 September 2014:\n * const result = addWeeks(new Date(2014, 8, 1), 4)\n * //=> Mon Sep 29 2014 00:00:00\n */\nexport function addWeeks(date, amount, options) {\n  return addDays(date, amount * 7, options);\n}\n\n// Fallback for modularized imports:\nexport default addWeeks;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n","// Sale item type definition\r\nexport interface SaleItem {\r\n  description: string;\r\n  quantity: number;\r\n  price: number;\r\n  cost: number;\r\n  productId?: string;\r\n  discountPercentage?: number;\r\n  discountType?: 'percentage' | 'amount';\r\n  discountAmount?: number;\r\n}\r\n\r\nexport interface SalesCategory {\r\n  id: string;\r\n  user_id: string;\r\n  location_id?: string;\r\n  name: string;\r\n  is_default: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface Sale {\r\n  id: string;\r\n  receiptNumber: string;\r\n  customerName: string;\r\n  customerAddress?: string;\r\n  customerContact?: string;\r\n  customerId?: string;\r\n  items: SaleItem[];\r\n  paymentStatus: 'Paid' | 'NOT PAID' | 'Quote' | 'Installment Sale';\r\n  profit: number;\r\n  date: Date;\r\n  taxRate?: number;\r\n  cashTransactionId?: string;\r\n  amountPaid?: number;\r\n  amountDue?: number;\r\n  notes?: string;\r\n  categoryId?: string;\r\n  installments?: Array<{\r\n    date?: string | Date;\r\n    amountPaid?: number;\r\n  }>;\r\n  createdAt: Date;\r\n}\r\n\r\n// Supabase database schema and Json type\r\nexport type Json =\r\n  | string\r\n  | number\r\n  | boolean\r\n  | null\r\n  | { [key: string]: Json | undefined }\r\n  | Json[];\r\n\r\n// Supabase database sale structure\r\nexport interface DbSale {\r\n  id: string;\r\n  user_id: string;\r\n  location_id: string;\r\n  receipt_number: string;\r\n  customer_name: string;\r\n  customer_address?: string | null;\r\n  customer_contact?: string | null;\r\n  customer_id?: string | null;\r\n  items: Json;\r\n  payment_status: string;\r\n  profit: number;\r\n  date: string;\r\n  tax_rate?: number | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n  cash_transaction_id?: string | null;\r\n  amount_paid?: number | null;\r\n  amount_due?: number | null;\r\n  notes?: string | null;\r\n  category_id?: string | null;\r\n}\r\n\r\n// Expense interface - add cashTransactionId field\r\nexport interface Expense {\r\n  id: string;\r\n  amount: number;\r\n  description: string;\r\n  category: string | null;\r\n  date: Date;\r\n  paymentMethod: string | null;\r\n  personInCharge: string | null;\r\n  receiptImage: string | null;\r\n  cashAccountId: string | null;\r\n  cashTransactionId: string | null; // Add this field\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\n// Supabase database expense structure\r\nexport interface DbExpense {\r\n  id: string;\r\n  user_id: string;\r\n  amount: number;\r\n  description: string;\r\n  category: string | null;\r\n  date: string;\r\n  payment_method: string | null;\r\n  person_in_charge: string | null;\r\n  receipt_image: string | null;\r\n  cash_account_id: string | null;\r\n  cash_transaction_id: string | null; // Add this field\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface SaleFormData {\r\n  customerName: string;\r\n  customerAddress: string;\r\n  customerContact: string;\r\n  customerId?: string; // Added customerId field\r\n  items: SaleItem[];\r\n  paymentStatus: \"Paid\" | \"NOT PAID\" | \"Quote\" | \"Installment Sale\";\r\n  receiptNumber?: string;\r\n  taxRate?: number | null;\r\n  amountPaid?: number;\r\n  amountDue?: number;\r\n  notes?: string;\r\n  categoryId?: string;\r\n}\r\n\r\n// Analytics data type\r\nexport interface AnalyticsData {\r\n  totalSales: number;\r\n  totalProfit: number;\r\n  totalCost: number;\r\n  paidSalesCount: number;\r\n  pendingSalesCount: number;\r\n}\r\n\r\n// Form validation errors\r\nexport interface FormErrors {\r\n  customerName?: string;\r\n  customerAddress?: string;\r\n  customerContact?: string;\r\n  itemDescription?: string;\r\n  quantity?: string;\r\n  salePrice?: string;\r\n  costOfProduction?: string;\r\n  taxRate?: string;\r\n}\r\n\r\n// BusinessSettings interface to include paymentInfo\r\nexport interface BusinessSettings {\r\n  businessName: string;\r\n  businessAddress: string;\r\n  businessPhone: string;\r\n  businessEmail: string;\r\n  businessLogo?: string;\r\n  currency: string;\r\n  signature?: string;\r\n  paymentInfo?: string; // Added payment information field\r\n  defaultPrintFormat?: 'standard' | 'thermal'; // Added default print format\r\n  defaultPrinterName?: string; // Added default printer name\r\n  defaultPrinterType?: 'USB' | 'Bluetooth'; // Added default printer type\r\n}\r\n\r\n// Database business settings structure\r\nexport interface DbBusinessSettings {\r\n  id?: string;\r\n  user_id: string; // Make sure this is required, not optional\r\n  business_name: string;\r\n  business_address: string;\r\n  business_phone: string;\r\n  business_email: string;\r\n  business_logo?: string;\r\n  currency: string;\r\n  signature?: string;\r\n  metadata?: Json | null; // Add metadata field\r\n  created_at?: string;\r\n  updated_at?: string;\r\n}\r\n\r\n// Updated UserProfile interface to match the Supabase database structure\r\nexport interface UserProfile {\r\n  id: string;\r\n  full_name: string | null;\r\n  display_name: string | null;\r\n  avatar_url: string | null;\r\n  created_at: string | null;\r\n  updated_at: string | null;\r\n}\r\n\r\n// New interfaces for Product management - ADDED itemNumber\r\nexport interface Product {\r\n  id: string;\r\n  itemNumber: string; // Added item number field\r\n  barcode: string | null; // Added barcode field\r\n  manufacturerBarcode: string | null; // Added manufacturer barcode field\r\n  name: string;\r\n  description: string | null;\r\n  category: string;\r\n  quantity: number;\r\n  costPrice: number;\r\n  sellingPrice: number;\r\n  supplier: string | null;\r\n  imageUrl: string | null;\r\n  minimumStock: number;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nexport interface DbProduct {\r\n  id: string;\r\n  user_id: string;\r\n  item_number: string; // Added item number field\r\n  barcode: string | null; // Added barcode field\r\n  manufacturer_barcode: string | null; // Added manufacturer barcode field\r\n  name: string;\r\n  description: string | null;\r\n  category: string;\r\n  quantity: number;\r\n  cost_price: number;\r\n  selling_price: number;\r\n  supplier: string | null;\r\n  image_url: string | null;\r\n  minimum_stock: number;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface ProductFormData {\r\n  name: string;\r\n  barcode?: string; // Added barcode field\r\n  manufacturerBarcode?: string; // Added manufacturer barcode field\r\n  description?: string;\r\n  category?: string;\r\n  quantity: number; // Always a number, never undefined\r\n  costPrice?: number;\r\n  sellingPrice?: number;\r\n  supplier?: string;\r\n  minimumStock?: number;\r\n  imageFile?: File | null;\r\n  imageUrl?: string | null;\r\n  createdAt?: Date; // Added created date field\r\n}\r\n\r\nexport interface ProductCategory {\r\n  id: string;\r\n  name: string;\r\n  createdAt?: Date;\r\n}\r\n\r\nexport interface DbProductCategory {\r\n  id: string;\r\n  user_id: string;\r\n  name: string;\r\n  created_at: string;\r\n}\r\n\r\nexport interface StockHistoryEntry {\r\n  id: string;\r\n  productId: string;\r\n  oldQuantity: number;\r\n  newQuantity: number;\r\n  changeReason: string;\r\n  referenceId?: string | null;\r\n  receiptNumber?: string;\r\n  createdAt: Date;\r\n  product?: {\r\n    name: string;\r\n    costPrice: number;\r\n    sellingPrice: number;\r\n    itemNumber: string;\r\n  };\r\n}\r\n\r\nexport interface DbStockHistoryEntry {\r\n  id: string;\r\n  user_id: string;\r\n  product_id: string;\r\n  previous_quantity: number;\r\n  new_quantity: number;\r\n  change_reason: string;\r\n  reference_id?: string | null;\r\n  created_at: string;\r\n}\r\n\r\nexport interface ProductFilters {\r\n  search: string;\r\n  category: string;\r\n  stockStatus: 'all' | 'inStock' | 'lowStock' | 'outOfStock';\r\n}\r\n\r\n// Customer management types\r\nexport interface Customer {\r\n  id: string;\r\n  fullName: string;\r\n  email: string | null;\r\n  phoneNumber: string | null;\r\n  birthday: Date | null;\r\n  location: string | null;\r\n  categoryId: string | null; // Added category relationship\r\n  socialMedia: {\r\n    facebook?: string;\r\n    instagram?: string;\r\n    twitter?: string;\r\n    linkedin?: string;\r\n    other?: string;\r\n  } | null;\r\n  gender: string | null;\r\n  tags: string[] | null;\r\n  notes: string | null;\r\n  createdAt: Date;\r\n  updatedAt: Date;\r\n}\r\n\r\nexport interface DbCustomer {\r\n  id: string;\r\n  user_id: string;\r\n  full_name: string;\r\n  email: string | null;\r\n  phone_number: string | null;\r\n  birthday: string | null;\r\n  location: string | null;\r\n  category_id: string | null; // Added category relationship\r\n  social_media: Json | null;\r\n  gender: string | null;\r\n  tags: string[] | null;\r\n  notes: string | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport interface CustomerFormData {\r\n  fullName: string;\r\n  email: string;\r\n  phoneNumber: string;\r\n  birthday: Date | null;\r\n  location: string;\r\n  categoryId: string | null; // Added category field\r\n  socialMedia: {\r\n    facebook?: string;\r\n    instagram?: string;\r\n    twitter?: string;\r\n    linkedin?: string;\r\n    other?: string;\r\n  };\r\n  gender: string;\r\n  tags: string[];\r\n  notes: string;\r\n}\r\n\r\n// Utility functions for database conversions\r\nexport const mapDbSaleToSale = (dbSale: DbSale): Sale => {\r\n  // Parse items and ensure numeric fields are numbers, not strings\r\n  // This is critical for discount calculations to work correctly\r\n  const items = (Array.isArray(dbSale.items) ? dbSale.items : []).map((item: any) => {\r\n    const discountPercentage = item.discountPercentage !== undefined ? Number(item.discountPercentage) : undefined;\r\n    const discountAmount = item.discountAmount !== undefined ? Number(item.discountAmount) : undefined;\r\n\r\n    // Infer discountType if missing (for legacy data)\r\n    let discountType = item.discountType as 'percentage' | 'amount' | undefined;\r\n    if (!discountType) {\r\n      if (discountPercentage && discountPercentage > 0) {\r\n        discountType = 'percentage';\r\n      } else if (discountAmount && discountAmount > 0) {\r\n        discountType = 'amount';\r\n      }\r\n    }\r\n\r\n    return {\r\n      description: item.description || '',\r\n      quantity: Number(item.quantity) || 0,\r\n      price: Number(item.price) || 0,\r\n      cost: Number(item.cost) || 0,\r\n      productId: item.productId || undefined,\r\n      discountType,\r\n      discountPercentage,\r\n      discountAmount,\r\n      createdAt: item.createdAt || undefined,\r\n    };\r\n  }) as SaleItem[];\r\n\r\n  return {\r\n    id: dbSale.id,\r\n    receiptNumber: dbSale.receipt_number,\r\n    customerName: dbSale.customer_name,\r\n    customerAddress: dbSale.customer_address || '',\r\n    customerContact: dbSale.customer_contact || '',\r\n    customerId: dbSale.customer_id || undefined,\r\n    items,\r\n    paymentStatus: dbSale.payment_status as 'Paid' | 'NOT PAID' | 'Quote' | 'Installment Sale',\r\n    profit: Number(dbSale.profit),\r\n    date: new Date(dbSale.date),\r\n    taxRate: dbSale.tax_rate ? Number(dbSale.tax_rate) : 0,\r\n    cashTransactionId: dbSale.cash_transaction_id || undefined,\r\n    amountPaid: dbSale.amount_paid ? Number(dbSale.amount_paid) : undefined,\r\n    amountDue: dbSale.amount_due ? Number(dbSale.amount_due) : undefined,\r\n    notes: dbSale.notes || '',\r\n    categoryId: dbSale.category_id || undefined,\r\n    createdAt: new Date(dbSale.created_at),\r\n  };\r\n};\r\n\r\nexport const mapSaleToDbSale = (\r\n  saleData: SaleFormData,\r\n  selectedDate: Date,\r\n  profit: number,\r\n  receiptNumber: string,\r\n  userId: string,\r\n  locationId: string,\r\n  cashTransactionId?: string | null\r\n): Omit<DbSale, 'id' | 'created_at' | 'updated_at'> => {\r\n  return {\r\n    user_id: userId,\r\n    location_id: locationId,\r\n    receipt_number: receiptNumber,\r\n    customer_name: saleData.customerName,\r\n    customer_address: saleData.customerAddress || null,\r\n    customer_contact: saleData.customerContact || null,\r\n    customer_id: saleData.customerId || null, // Include customer_id\r\n    items: (saleData.items as unknown) as Json,\r\n    payment_status: saleData.paymentStatus,\r\n    profit: profit,\r\n    date: selectedDate.toISOString().split('T')[0],\r\n    tax_rate: saleData.taxRate || 0,\r\n    cash_transaction_id: cashTransactionId || null,\r\n    amount_paid: saleData.amountPaid || null,\r\n    amount_due: saleData.amountDue || null,\r\n    notes: saleData.notes || null,\r\n    category_id: saleData.categoryId || null,\r\n  };\r\n};\r\n\r\n// Conversion functions for business settings\r\nexport const mapDbBusinessSettingsToBusinessSettings = (dbSettings: DbBusinessSettings): BusinessSettings => {\r\n  return {\r\n    businessName: dbSettings.business_name,\r\n    businessAddress: dbSettings.business_address,\r\n    businessPhone: dbSettings.business_phone,\r\n    businessEmail: dbSettings.business_email,\r\n    businessLogo: dbSettings.business_logo,\r\n    currency: dbSettings.currency,\r\n    signature: dbSettings.signature,\r\n    paymentInfo: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).payment_info as string || '' : '',\r\n    defaultPrintFormat: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).default_print_format as 'standard' | 'thermal' || 'standard' : 'standard',\r\n    defaultPrinterName: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).default_printer_name as string || '' : '',\r\n    defaultPrinterType: dbSettings.metadata && typeof dbSettings.metadata === 'object' ?\r\n      (dbSettings.metadata as Record<string, unknown>).default_printer_type as 'USB' | 'Bluetooth' || 'USB' : 'USB'\r\n  };\r\n};\r\n\r\nexport const mapBusinessSettingsToDbBusinessSettings = (\r\n  settings: BusinessSettings,\r\n  userId: string\r\n): DbBusinessSettings => {\r\n  // Create metadata object with payment_info\r\n  const metadata: Json = {\r\n    payment_info: settings.paymentInfo || '',\r\n    default_print_format: settings.defaultPrintFormat || 'standard',\r\n    default_printer_name: settings.defaultPrinterName || '',\r\n    default_printer_type: settings.defaultPrinterType || 'USB'\r\n  };\r\n\r\n  return {\r\n    user_id: userId,\r\n    business_name: settings.businessName,\r\n    business_address: settings.businessAddress,\r\n    business_phone: settings.businessPhone,\r\n    business_email: settings.businessEmail,\r\n    business_logo: settings.businessLogo,\r\n    currency: settings.currency,\r\n    signature: settings.signature,\r\n    metadata: metadata, // Include metadata in the return object\r\n    updated_at: new Date().toISOString()\r\n  };\r\n};\r\n\r\n// Conversion functions for products and categories - ADDED itemNumber\r\nexport const mapDbProductToProduct = (dbProduct: DbProduct): Product => {\r\n  return {\r\n    id: dbProduct.id,\r\n    itemNumber: dbProduct.item_number, // Added item number mapping\r\n    barcode: dbProduct.barcode, // Added barcode mapping\r\n    manufacturerBarcode: dbProduct.manufacturer_barcode, // Added manufacturer barcode mapping\r\n    name: dbProduct.name,\r\n    description: dbProduct.description,\r\n    category: dbProduct.category,\r\n    quantity: dbProduct.quantity,\r\n    costPrice: Number(dbProduct.cost_price),\r\n    sellingPrice: Number(dbProduct.selling_price),\r\n    supplier: dbProduct.supplier,\r\n    imageUrl: dbProduct.image_url,\r\n    minimumStock: dbProduct.minimum_stock,\r\n    createdAt: new Date(dbProduct.created_at),\r\n    updatedAt: new Date(dbProduct.updated_at)\r\n  };\r\n};\r\n\r\nexport const mapProductToDbProduct = (product: Partial<Product>, userId: string): Partial<DbProduct> => {\r\n  const result: Partial<DbProduct> = {\r\n    user_id: userId\r\n  };\r\n\r\n  if (product.id) result.id = product.id;\r\n  if (product.itemNumber) result.item_number = product.itemNumber; // Added item number mapping\r\n  if (product.barcode !== undefined) result.barcode = product.barcode; // Added barcode mapping\r\n  if (product.manufacturerBarcode !== undefined) result.manufacturer_barcode = product.manufacturerBarcode; // Added manufacturer barcode mapping\r\n  if (product.name) result.name = product.name;\r\n  result.description = product.description;\r\n  if (product.category) result.category = product.category;\r\n  if (product.quantity !== undefined) result.quantity = product.quantity;\r\n  if (product.costPrice !== undefined) {\r\n    result.cost_price = product.costPrice;\r\n    console.log(`DEBUG: Mapping costPrice ${product.costPrice} to cost_price`);\r\n  }\r\n  if (product.sellingPrice !== undefined) {\r\n    result.selling_price = product.sellingPrice;\r\n    console.log(`DEBUG: Mapping sellingPrice ${product.sellingPrice} to selling_price`);\r\n  }\r\n  result.supplier = product.supplier;\r\n  result.image_url = product.imageUrl;\r\n  if (product.minimumStock !== undefined) result.minimum_stock = product.minimumStock;\r\n\r\n  return result;\r\n};\r\n\r\nexport const mapDbProductCategoryToProductCategory = (dbCategory: DbProductCategory): ProductCategory => {\r\n  return {\r\n    id: dbCategory.id,\r\n    name: dbCategory.name\r\n  };\r\n};\r\n\r\nexport const mapDbStockHistoryToStockHistory = (dbHistory: DbStockHistoryEntry): StockHistoryEntry => {\r\n  return {\r\n    id: dbHistory.id,\r\n    productId: dbHistory.product_id,\r\n    oldQuantity: dbHistory.previous_quantity,\r\n    newQuantity: dbHistory.new_quantity,\r\n    changeReason: dbHistory.change_reason,\r\n    referenceId: dbHistory.reference_id || null,\r\n    createdAt: new Date(dbHistory.created_at)\r\n  };\r\n};\r\n\r\n// Updated Customer mapping functions to include categoryId\r\nexport const mapDbCustomerToCustomer = (dbCustomer: DbCustomer): Customer => {\r\n  let birthday = null;\r\n\r\n  if (dbCustomer.birthday) {\r\n    try {\r\n      const birthdayStr = String(dbCustomer.birthday);\r\n      const [year, month, day] = birthdayStr.split('-').map(Number);\r\n\r\n      if (!isNaN(year) && !isNaN(month) && !isNaN(day)) {\r\n        birthday = new Date(Date.UTC(year, month - 1, day, 12, 0, 0));\r\n\r\n        console.log(\r\n          'Converting DB birthday to Date object:',\r\n          dbCustomer.birthday,\r\n          'â†’',\r\n          birthday,\r\n          '(UTC string:',\r\n          birthday.toISOString(),\r\n          ')'\r\n        );\r\n      } else {\r\n        console.error('Invalid date components in birthday:', dbCustomer.birthday);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error parsing birthday:', error, dbCustomer.birthday);\r\n    }\r\n  }\r\n\r\n  return {\r\n    id: dbCustomer.id,\r\n    fullName: dbCustomer.full_name,\r\n    email: dbCustomer.email,\r\n    phoneNumber: dbCustomer.phone_number,\r\n    birthday: birthday,\r\n    location: dbCustomer.location,\r\n    categoryId: dbCustomer.category_id, // Added category mapping\r\n    socialMedia: dbCustomer.social_media as any,\r\n    gender: dbCustomer.gender,\r\n    tags: dbCustomer.tags,\r\n    notes: dbCustomer.notes,\r\n    createdAt: new Date(dbCustomer.created_at),\r\n    updatedAt: new Date(dbCustomer.updated_at)\r\n  };\r\n};\r\n\r\nexport const mapCustomerToDbCustomer = (customer: Partial<Customer>, userId: string): Partial<DbCustomer> => {\r\n  const result: Partial<DbCustomer> = {\r\n    user_id: userId\r\n  };\r\n\r\n  if (customer.id) result.id = customer.id;\r\n  if (customer.fullName) result.full_name = customer.fullName;\r\n  result.email = customer.email;\r\n  result.phone_number = customer.phoneNumber;\r\n  if (customer.birthday) result.birthday = customer.birthday.toISOString().split('T')[0];\r\n  result.location = customer.location;\r\n  result.category_id = customer.categoryId; // Added category mapping\r\n  result.social_media = customer.socialMedia as Json;\r\n  result.gender = customer.gender;\r\n  result.tags = customer.tags;\r\n  result.notes = customer.notes;\r\n\r\n  return result;\r\n};\r\n\r\n// Conversion functions for expenses\r\nexport const mapDbExpenseToExpense = (dbExpense: DbExpense): Expense => {\r\n  return {\r\n    id: dbExpense.id,\r\n    amount: Number(dbExpense.amount),\r\n    description: dbExpense.description,\r\n    category: dbExpense.category,\r\n    date: new Date(dbExpense.date),\r\n    paymentMethod: dbExpense.payment_method,\r\n    personInCharge: dbExpense.person_in_charge,\r\n    receiptImage: dbExpense.receipt_image,\r\n    cashAccountId: dbExpense.cash_account_id,\r\n    cashTransactionId: dbExpense.cash_transaction_id,\r\n    createdAt: new Date(dbExpense.created_at),\r\n    updatedAt: new Date(dbExpense.updated_at)\r\n  };\r\n};\r\n\r\nexport const mapExpenseToDbExpense = (expense: Partial<Expense>, userId: string): Partial<DbExpense> => {\r\n  const result: Partial<DbExpense> = {\r\n    user_id: userId\r\n  };\r\n\r\n  if (expense.id) result.id = expense.id;\r\n  if (expense.amount !== undefined) result.amount = expense.amount;\r\n  if (expense.description) result.description = expense.description;\r\n  result.category = expense.category;\r\n  if (expense.date) result.date = expense.date.toISOString().split('T')[0];\r\n  result.payment_method = expense.paymentMethod;\r\n  result.person_in_charge = expense.personInCharge;\r\n  result.receipt_image = expense.receiptImage;\r\n  result.cash_account_id = expense.cashAccountId;\r\n  result.cash_transaction_id = expense.cashTransactionId;\r\n\r\n  return result;\r\n};\r\n","import jsPDF from 'jspdf';\r\nimport { ReceiptData } from '@/types/receipt';\r\n\r\ninterface VectorPDFOptions {\r\n  filename?: string;\r\n  orientation?: 'portrait' | 'landscape';\r\n  format?: 'a4' | 'letter';\r\n  margins?: {\r\n    top: number;\r\n    right: number;\r\n    bottom: number;\r\n    left: number;\r\n  };\r\n  returnBlob?: boolean;\r\n}\r\n\r\n// Helper function to format currency properly (e.g., \"Ush 25,000\")\r\nconst formatCurrency = (amount: number, currency: string = 'Ush'): string => {\r\n  const formatted = Math.round(amount).toLocaleString();\r\n  return `${currency} ${formatted}`;\r\n};\r\n\r\nexport const generateReceiptVectorPDF = async (\r\n  receiptData: ReceiptData,\r\n  options: VectorPDFOptions\r\n): Promise<void | Blob> => {\r\n  const {\r\n    filename,\r\n    orientation = 'portrait',\r\n    format = 'a4',\r\n    margins = { top: 20, right: 20, bottom: 20, left: 20 },\r\n    returnBlob = false\r\n  } = options;\r\n\r\n  const pdf = new jsPDF({\r\n    orientation,\r\n    unit: 'mm',\r\n    format,\r\n    compress: true\r\n  });\r\n\r\n  const pageWidth = pdf.internal.pageSize.getWidth();\r\n  const pageHeight = pdf.internal.pageSize.getHeight();\r\n  const contentWidth = pageWidth - margins.left - margins.right;\r\n  let currentY = margins.top;\r\n\r\n  // Define thinner line width\r\n  const STANDARD_LINE_WIDTH = 0.2;\r\n\r\n  // Helper functions\r\n  const setStandardLineWidth = () => {\r\n    pdf.setLineWidth(STANDARD_LINE_WIDTH);\r\n  };\r\n\r\n  const addText = (text: string, x: number, y: number, options: any = {}) => {\r\n    const { fontSize = 10, fontStyle = 'normal', align = 'left', maxWidth } = options;\r\n    pdf.setFontSize(fontSize);\r\n    pdf.setFont('helvetica', fontStyle);\r\n    \r\n    if (maxWidth) {\r\n      const lines = pdf.splitTextToSize(text, maxWidth);\r\n      pdf.text(lines, x, y, { align });\r\n      return lines.length * (fontSize * 0.35);\r\n    } else {\r\n      pdf.text(text, x, y, { align });\r\n      return fontSize * 0.35;\r\n    }\r\n  };\r\n\r\n  const addMultilineText = (text: string, x: number, y: number, maxWidth: number, options: any = {}) => {\r\n    const { fontSize = 10, fontStyle = 'normal', align = 'left', lineHeight = 1.2 } = options;\r\n    pdf.setFontSize(fontSize);\r\n    pdf.setFont('helvetica', fontStyle);\r\n    \r\n    const lines = pdf.splitTextToSize(text, maxWidth);\r\n    const lineSpacing = fontSize * 0.35 * lineHeight;\r\n    \r\n    lines.forEach((line: string, index: number) => {\r\n      pdf.text(line, x, y + (index * lineSpacing), { align });\r\n    });\r\n    \r\n    return lines.length * lineSpacing;\r\n  };\r\n\r\n  const addLine = (x1: number, y1: number, x2: number, y2: number) => {\r\n    setStandardLineWidth();\r\n    pdf.line(x1, y1, x2, y2);\r\n  };\r\n\r\n  const addRect = (x: number, y: number, width: number, height: number, style: 'S' | 'F' | 'FD' = 'S') => {\r\n    setStandardLineWidth();\r\n    pdf.rect(x, y, width, height, style);\r\n  };\r\n\r\n  // Function to draw page border\r\n  const drawPageBorder = () => {\r\n    addRect(margins.left, margins.top, contentWidth, pageHeight - margins.top - margins.bottom, 'S');\r\n  };\r\n\r\n  // Check if we need a new page and draw border\r\n  const checkPageBreak = (requiredSpace: number) => {\r\n    if (currentY + requiredSpace > pageHeight - margins.bottom) {\r\n      pdf.addPage();\r\n      currentY = margins.top + 10; // Add some top margin on new page\r\n      drawPageBorder(); // Draw border on new page\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Draw initial page border\r\n  drawPageBorder();\r\n\r\n  // Add padding inside border\r\n  const innerMargin = 8;\r\n  const innerLeft = margins.left + innerMargin;\r\n  const innerWidth = contentWidth - (innerMargin * 2);\r\n  currentY += innerMargin;\r\n\r\n  // Header section with logo on left, business info on right\r\n  const headerStartY = currentY;\r\n  \r\n  // Logo on the left (if available) - reduced size\r\n  if (receiptData.businessLogo) {\r\n    try {\r\n      const img = new Image();\r\n      img.crossOrigin = 'anonymous';\r\n      \r\n      await new Promise<void>((resolve, reject) => {\r\n        img.onload = () => {\r\n          try {\r\n            const canvas = document.createElement('canvas');\r\n            const ctx = canvas.getContext('2d');\r\n            if (ctx) {\r\n              canvas.width = img.width;\r\n              canvas.height = img.height;\r\n              ctx.drawImage(img, 0, 0);\r\n              \r\n              const dataURL = canvas.toDataURL('image/png');\r\n              \r\n              // Logo dimensions - reduced size for more professional look\r\n              const maxLogoHeight = 15; // Further reduced from 18\r\n              const aspectRatio = img.width / img.height;\r\n              const logoHeight = Math.min(maxLogoHeight, 15);\r\n              const logoWidth = logoHeight * aspectRatio;\r\n              \r\n              // Position logo on the left\r\n              pdf.addImage(dataURL, 'PNG', innerLeft, currentY, logoWidth, logoHeight);\r\n            }\r\n          } catch (error) {\r\n            console.error('Error adding logo to PDF:', error);\r\n          }\r\n          resolve();\r\n        };\r\n        \r\n        img.onerror = () => {\r\n          console.error('Error loading logo image');\r\n          resolve();\r\n        };\r\n        \r\n        img.src = receiptData.businessLogo;\r\n      });\r\n    } catch (error) {\r\n      console.error('Error processing logo:', error);\r\n    }\r\n  }\r\n\r\n  // Business information on the right - extended area with right alignment\r\n  const businessInfoX = innerLeft + innerWidth * 0.25; // Extended area starts earlier\r\n  const businessInfoWidth = innerWidth * 0.75; // Wider area for business info\r\n  const businessInfoRightX = innerLeft + innerWidth; // Right edge for alignment\r\n  let businessY = currentY;\r\n\r\n  if (receiptData.businessName) {\r\n    businessY += addText(receiptData.businessName, businessInfoRightX, businessY, {\r\n      fontSize: 14,\r\n      fontStyle: 'bold',\r\n      align: 'right'\r\n    });\r\n    businessY += 1.5; // Reduced spacing\r\n  }\r\n\r\n  if (receiptData.businessAddress) {\r\n    const lines = pdf.splitTextToSize(receiptData.businessAddress, businessInfoWidth);\r\n    const lineHeight = 10 * 0.35 * 0.9; // Further reduced line height\r\n    \r\n    lines.forEach((line: string, index: number) => {\r\n      pdf.setFontSize(10);\r\n      pdf.setFont('helvetica', 'normal');\r\n      pdf.text(line, businessInfoRightX, businessY + (index * lineHeight), { align: 'right' });\r\n    });\r\n    \r\n    businessY += lines.length * lineHeight + 0.5; // Reduced spacing\r\n  }\r\n\r\n  if (receiptData.businessPhone) {\r\n    businessY += addText(`Phone: ${receiptData.businessPhone}`, businessInfoRightX, businessY, {\r\n      fontSize: 9,\r\n      align: 'right'\r\n    });\r\n    businessY += 0.5; // Reduced spacing\r\n  }\r\n\r\n  if (receiptData.businessEmail) {\r\n    businessY += addText(`Email: ${receiptData.businessEmail}`, businessInfoRightX, businessY, {\r\n      fontSize: 9,\r\n      align: 'right'\r\n    });\r\n    businessY += 0.5; // Reduced spacing\r\n  }\r\n\r\n  // Move currentY to after header section - reduced spacing\r\n  currentY = Math.max(currentY + 18, businessY) + 5; // Further reduced spacing\r\n\r\n  // Check for page break after header\r\n  checkPageBreak(20);\r\n\r\n  // Horizontal line after header\r\n  addLine(innerLeft, currentY, innerLeft + innerWidth, currentY);\r\n  currentY += 6; // Reduced from 8\r\n\r\n  // Document title centered\r\n  currentY += addText(receiptData.documentTitle.toUpperCase(), pageWidth / 2, currentY, {\r\n    fontSize: 16,\r\n    fontStyle: 'bold',\r\n    align: 'center'\r\n  });\r\n  currentY += 4; // Reduced from 6\r\n\r\n  // Receipt details section - further reduced spacing\r\n  const detailsStartY = currentY;\r\n  \r\n  // Left side - Receipt details with minimal spacing\r\n  let leftY = detailsStartY;\r\n  leftY += addText(`${receiptData.documentNumberLabel} ${receiptData.receiptNumber}`, innerLeft, leftY, {\r\n    fontSize: 11,\r\n    fontStyle: 'bold'\r\n  });\r\n  leftY += 2; // Further reduced from 3\r\n  \r\n  leftY += addText(`Date: ${receiptData.date}`, innerLeft, leftY, {\r\n    fontSize: 10\r\n  });\r\n  leftY += 2; // Further reduced from 3\r\n  \r\n  leftY += addText(`Time: ${receiptData.time}`, innerLeft, leftY, {\r\n    fontSize: 10\r\n  });\r\n\r\n  // Right side - Payment status\r\n  const rightX = innerLeft + innerWidth * 0.7;\r\n  addText(`Status: ${receiptData.status}`, rightX, detailsStartY, {\r\n    fontSize: 11,\r\n    fontStyle: 'bold',\r\n    align: 'left'\r\n  });\r\n\r\n  currentY = leftY + 4; // Reduced from 6\r\n\r\n  // Customer information without labels\r\n  if (receiptData.customerName && receiptData.customerName.trim() !== '') {\r\n    checkPageBreak(30);\r\n    \r\n    currentY += addText('Customer Information:', innerLeft, currentY, {\r\n      fontSize: 11,\r\n      fontStyle: 'bold'\r\n    });\r\n    currentY += 3; // Reduced from 4\r\n\r\n    // Customer name without \"Name:\" label\r\n    currentY += addText(receiptData.customerName, innerLeft, currentY, {\r\n      fontSize: 10\r\n    });\r\n    currentY += 2.5; // Reduced spacing\r\n\r\n    if (receiptData.customerAddress && receiptData.customerAddress.trim() !== '') {\r\n      // Customer address without \"Address:\" label\r\n      const addressHeight = addMultilineText(receiptData.customerAddress, innerLeft, currentY, innerWidth * 0.8, {\r\n        fontSize: 10,\r\n        lineHeight: 1.0 // Reduced from 1.1\r\n      });\r\n      currentY += addressHeight;\r\n      currentY += 2.5; // Reduced spacing\r\n    }\r\n\r\n    if (receiptData.customerContact && receiptData.customerContact.trim() !== '') {\r\n      // Customer contact without \"Contact:\" label\r\n      currentY += addText(receiptData.customerContact, innerLeft, currentY, {\r\n        fontSize: 10\r\n      });\r\n      currentY += 2.5; // Reduced spacing\r\n    }\r\n\r\n    currentY += 3; // Reduced from 6\r\n  }\r\n\r\n  // Items table - check if any items have discounts to add discount column\r\n  const hasDiscounts = receiptData.items.some(item => \r\n    (item.discountPercentage || 0) > 0 || (item.discountAmount || 0) > 0\r\n  );\r\n  const tableHeaders = hasDiscounts \r\n    ? ['Description', 'Qty', 'Unit Price', 'Discount', 'Amount']\r\n    : ['Description', 'Qty', 'Unit Price', 'Amount'];\r\n  const colWidths = hasDiscounts\r\n    ? [innerWidth * 0.35, innerWidth * 0.15, innerWidth * 0.18, innerWidth * 0.12, innerWidth * 0.2]\r\n    : [innerWidth * 0.45, innerWidth * 0.15, innerWidth * 0.2, innerWidth * 0.2];\r\n  \r\n  // Table header background\r\n  pdf.setFillColor(245, 245, 245);\r\n  addRect(innerLeft, currentY - 2, innerWidth, 10, 'F');\r\n  \r\n  // Table header borders\r\n  addRect(innerLeft, currentY - 2, innerWidth, 10, 'S');\r\n  \r\n  // Table header text\r\n  let tableX = innerLeft;\r\n  tableHeaders.forEach((header, index) => {\r\n    addText(header, tableX + 3, currentY + 4, {\r\n      fontSize: 10,\r\n      fontStyle: 'bold'\r\n    });\r\n    // Add vertical lines between columns\r\n    if (index < tableHeaders.length - 1) {\r\n      addLine(tableX + colWidths[index], currentY - 2, tableX + colWidths[index], currentY + 8);\r\n    }\r\n    tableX += colWidths[index];\r\n  });\r\n  \r\n  currentY += 10;\r\n  \r\n  // Table rows with proper text wrapping and row separation\r\n  let subtotal = 0;\r\n  const minRowHeight = 8; // Minimum row height\r\n  \r\n  receiptData.items.forEach((item, index) => {\r\n    // Calculate required row height based on description text wrapping\r\n    pdf.setFontSize(9);\r\n    const descriptionLines = pdf.splitTextToSize(item.description, colWidths[0] - 6);\r\n    const calculatedRowHeight = Math.max(minRowHeight, descriptionLines.length * 3.5 + 4);\r\n    \r\n    // Check if we need a new page for this item\r\n    checkPageBreak(calculatedRowHeight + 5);\r\n    \r\n    const itemSubtotal = item.unitPrice * item.quantity;\r\n    const discountAmount = item.discountAmount || 0;\r\n    const itemTotal = item.amount; // This should already be calculated with discount applied\r\n    subtotal += itemTotal;\r\n    \r\n    // Alternate row background for better readability\r\n    if (index % 2 === 1) {\r\n      pdf.setFillColor(250, 250, 250);\r\n      addRect(innerLeft, currentY, innerWidth, calculatedRowHeight, 'F');\r\n    }\r\n    \r\n    // Row border\r\n    addRect(innerLeft, currentY, innerWidth, calculatedRowHeight, 'S');\r\n    \r\n    tableX = innerLeft;\r\n    \r\n    // Description with proper text wrapping\r\n    addMultilineText(item.description, tableX + 3, currentY + 4, colWidths[0] - 6, {\r\n      fontSize: 9,\r\n      lineHeight: 1.1\r\n    });\r\n    tableX += colWidths[0];\r\n    \r\n    // Add vertical line after description\r\n    addLine(tableX, currentY, tableX, currentY + calculatedRowHeight);\r\n    \r\n    // Quantity - centered in cell\r\n    addText(item.quantity.toString(), tableX + colWidths[1] - 3, currentY + calculatedRowHeight/2 + 1.5, {\r\n      fontSize: 9,\r\n      align: 'right'\r\n    });\r\n    tableX += colWidths[1];\r\n    \r\n    // Add vertical line after quantity\r\n    addLine(tableX, currentY, tableX, currentY + calculatedRowHeight);\r\n    \r\n    // Unit Price - right aligned\r\n    addText(formatCurrency(item.unitPrice, receiptData.currency), tableX + colWidths[2] - 3, currentY + calculatedRowHeight/2 + 1.5, {\r\n      fontSize: 9,\r\n      align: 'right'\r\n    });\r\n    tableX += colWidths[2];\r\n    \r\n    // Add vertical line after unit price\r\n    addLine(tableX, currentY, tableX, currentY + calculatedRowHeight);\r\n    \r\n    // Discount column (if applicable)\r\n    if (hasDiscounts) {\r\n      let discountText = '-';\r\n      if ((item.discountPercentage || 0) > 0) {\r\n        discountText = `${item.discountPercentage}%`;\r\n      } else if ((item.discountAmount || 0) > 0) {\r\n        discountText = formatCurrency(item.discountAmount, receiptData.currency);\r\n      }\r\n      addText(discountText, tableX + colWidths[3] - 3, currentY + calculatedRowHeight/2 + 1.5, {\r\n        fontSize: 9,\r\n        align: 'right'\r\n      });\r\n      tableX += colWidths[3];\r\n      \r\n      // Add vertical line after discount\r\n      addLine(tableX, currentY, tableX, currentY + calculatedRowHeight);\r\n    }\r\n    \r\n    // Amount - right aligned (final amount after discount)\r\n    const finalColumnIndex = hasDiscounts ? 4 : 3;\r\n    addText(formatCurrency(itemTotal, receiptData.currency), tableX + colWidths[finalColumnIndex] - 3, currentY + calculatedRowHeight/2 + 1.5, {\r\n      fontSize: 9,\r\n      align: 'right'\r\n    });\r\n    \r\n    currentY += calculatedRowHeight;\r\n    \r\n    // Add separator line between items (except for the last item)\r\n    if (index < receiptData.items.length - 1) {\r\n      addLine(innerLeft, currentY, innerLeft + innerWidth, currentY);\r\n    }\r\n  });\r\n  \r\n  currentY += 5; // Reduced from 10\r\n  \r\n  // Professional totals section with improved layout for large figures\r\n  checkPageBreak(70); // Increased space requirement for installment sales\r\n  \r\n  // Create a proper totals table without header\r\n  const totalsStartX = innerLeft + innerWidth * 0.45;\r\n  const totalsWidth = innerWidth * 0.55;\r\n  const labelWidth = totalsWidth * 0.55;\r\n  const valueWidth = totalsWidth * 0.45;\r\n  \r\n  // Calculate total discount for the totals section\r\n  const totalDiscount = receiptData.items.reduce((total, item) => {\r\n    const itemSubtotal = item.unitPrice * item.quantity;\r\n    const discountAmount = (item.discountType === 'amount') \r\n      ? (item.discountAmount || 0)\r\n      : (itemSubtotal * (item.discountPercentage || 0)) / 100;\r\n    return total + discountAmount;\r\n  }, 0);\r\n  \r\n  // Subtotal (before discount) row - only show if there are discounts\r\n  if (totalDiscount > 0) {\r\n    addRect(totalsStartX, currentY, totalsWidth, 8, 'S');\r\n    pdf.setFillColor(248, 248, 248);\r\n    addRect(totalsStartX, currentY, totalsWidth, 8, 'F');\r\n    \r\n    addText('Subtotal (before discount):', totalsStartX + 4, currentY + 5.5, {\r\n      fontSize: 10,\r\n      fontStyle: 'normal'\r\n    });\r\n    \r\n    // Vertical line separating label and value\r\n    addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 8);\r\n    \r\n    addText(formatCurrency(subtotal + totalDiscount, receiptData.currency), totalsStartX + labelWidth + valueWidth - 4, currentY + 5.5, {\r\n      fontSize: 10,\r\n      fontStyle: 'normal',\r\n      align: 'right'\r\n    });\r\n    currentY += 8;\r\n    \r\n    // Total discount row\r\n    addRect(totalsStartX, currentY, totalsWidth, 8, 'S');\r\n    pdf.setFillColor(255, 240, 220); // Light orange background\r\n    addRect(totalsStartX, currentY, totalsWidth, 8, 'F');\r\n    \r\n    addText('Total Discount:', totalsStartX + 4, currentY + 5.5, {\r\n      fontSize: 10,\r\n      fontStyle: 'normal'\r\n    });\r\n    \r\n    // Vertical line separating label and value\r\n    addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 8);\r\n    \r\n    addText(`-${formatCurrency(totalDiscount, receiptData.currency)}`, totalsStartX + labelWidth + valueWidth - 4, currentY + 5.5, {\r\n      fontSize: 10,\r\n      fontStyle: 'normal',\r\n      align: 'right'\r\n    });\r\n    currentY += 8;\r\n  }\r\n  \r\n  // Subtotal row (after discount or just subtotal if no discounts)\r\n  addRect(totalsStartX, currentY, totalsWidth, 8, 'S');\r\n  pdf.setFillColor(248, 248, 248);\r\n  addRect(totalsStartX, currentY, totalsWidth, 8, 'F');\r\n  \r\n  addText(totalDiscount > 0 ? 'Subtotal (after discount):' : 'Subtotal:', totalsStartX + 4, currentY + 5.5, {\r\n    fontSize: 10,\r\n    fontStyle: 'normal'\r\n  });\r\n  \r\n  // Vertical line separating label and value\r\n  addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 8);\r\n  \r\n  addText(formatCurrency(subtotal, receiptData.currency), totalsStartX + labelWidth + valueWidth - 4, currentY + 5.5, {\r\n    fontSize: 10,\r\n    fontStyle: 'normal',\r\n    align: 'right'\r\n  });\r\n  currentY += 8;\r\n  \r\n  // Tax row (if applicable)\r\n  if (receiptData.showTaxRow && receiptData.taxAmount > 0) {\r\n    addRect(totalsStartX, currentY, totalsWidth, 8, 'S');\r\n    pdf.setFillColor(250, 250, 250);\r\n    addRect(totalsStartX, currentY, totalsWidth, 8, 'F');\r\n    \r\n    addText(`Tax (${receiptData.taxRate}%):`, totalsStartX + 4, currentY + 5.5, {\r\n      fontSize: 10,\r\n      fontStyle: 'normal'\r\n    });\r\n    \r\n    // Vertical line separating label and value\r\n    addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 8);\r\n    \r\n    addText(formatCurrency(receiptData.taxAmount, receiptData.currency), totalsStartX + labelWidth + valueWidth - 4, currentY + 5.5, {\r\n      fontSize: 10,\r\n      fontStyle: 'normal',\r\n      align: 'right'\r\n    });\r\n    currentY += 8;\r\n  }\r\n  \r\n  // Total row with emphasis and larger height for big figures\r\n  addRect(totalsStartX, currentY, totalsWidth, 12, 'S');\r\n  pdf.setFillColor(220, 220, 220);\r\n  addRect(totalsStartX, currentY, totalsWidth, 12, 'F');\r\n  \r\n  addText('TOTAL:', totalsStartX + 4, currentY + 7.5, {\r\n    fontSize: 12,\r\n    fontStyle: 'bold'\r\n  });\r\n  \r\n  // Vertical line separating label and value\r\n  addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 12);\r\n  \r\n  addText(formatCurrency(receiptData.totalAmount, receiptData.currency), totalsStartX + labelWidth + valueWidth - 4, currentY + 7.5, {\r\n    fontSize: 12,\r\n    fontStyle: 'bold',\r\n    align: 'right'\r\n  });\r\n  currentY += 12;\r\n\r\n  // Add Amount Paid and Amount Due for installment sales\r\n  if (receiptData.isInstallmentSale) {\r\n    // Amount Paid row\r\n    if (receiptData.amountPaid !== undefined) {\r\n      addRect(totalsStartX, currentY, totalsWidth, 8, 'S');\r\n      pdf.setFillColor(240, 248, 255); // Light blue background\r\n      addRect(totalsStartX, currentY, totalsWidth, 8, 'F');\r\n      \r\n      addText('Amount Paid:', totalsStartX + 4, currentY + 5.5, {\r\n        fontSize: 10,\r\n        fontStyle: 'bold'\r\n      });\r\n      \r\n      // Vertical line separating label and value\r\n      addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 8);\r\n      \r\n      addText(formatCurrency(receiptData.amountPaid, receiptData.currency), totalsStartX + labelWidth + valueWidth - 4, currentY + 5.5, {\r\n        fontSize: 10,\r\n        fontStyle: 'bold',\r\n        align: 'right'\r\n      });\r\n      currentY += 8;\r\n    }\r\n    \r\n    // Amount Due row\r\n    if (receiptData.amountDue !== undefined) {\r\n      addRect(totalsStartX, currentY, totalsWidth, 8, 'S');\r\n      pdf.setFillColor(255, 240, 240); // Light red background\r\n      addRect(totalsStartX, currentY, totalsWidth, 8, 'F');\r\n      \r\n      addText('Amount Due:', totalsStartX + 4, currentY + 5.5, {\r\n        fontSize: 10,\r\n        fontStyle: 'bold'\r\n      });\r\n      \r\n      // Vertical line separating label and value\r\n      addLine(totalsStartX + labelWidth, currentY, totalsStartX + labelWidth, currentY + 8);\r\n      \r\n      addText(formatCurrency(receiptData.amountDue, receiptData.currency), totalsStartX + labelWidth + valueWidth - 4, currentY + 5.5, {\r\n        fontSize: 10,\r\n        fontStyle: 'bold',\r\n        align: 'right'\r\n      });\r\n      currentY += 8;\r\n    }\r\n  }\r\n  \r\n  currentY += 7; // Reduced from 15\r\n\r\n  // Amount in words with slightly increased spacing\r\n  if (receiptData.totalAmountInWords) {\r\n    checkPageBreak(20);\r\n    \r\n    currentY += 2; // Keep existing spacing\r\n    addText('Amount in words:', innerLeft, currentY, {\r\n      fontSize: 10,\r\n      fontStyle: 'bold'\r\n    });\r\n    currentY += 4; // Increased from 3 to 4\r\n    \r\n    // Better text wrapping for amount in words with increased line height\r\n    const amountText = `${receiptData.currency} ${receiptData.totalAmountInWords} only`;\r\n    const wordsHeight = addMultilineText(amountText, innerLeft, currentY, innerWidth * 0.9, {\r\n      fontSize: 10,\r\n      fontStyle: 'italic',\r\n      lineHeight: 1.4 // Increased from 1.2 to 1.4 for better spacing\r\n    });\r\n    currentY += wordsHeight + 4; // Increased from 3 to 4\r\n  }\r\n\r\n  // Improved Payment information table with reduced spacing\r\n  if (receiptData.hasPaymentInfo && receiptData.paymentMethods && receiptData.paymentMethods.length > 0) {\r\n    checkPageBreak(40);\r\n    \r\n    // Strong separator line with reduced spacing\r\n    addLine(innerLeft, currentY, innerLeft + innerWidth, currentY);\r\n    currentY += 5; // Reduced from 8\r\n\r\n    addText('Payment Information:', innerLeft, currentY, {\r\n      fontSize: 11,\r\n      fontStyle: 'bold'\r\n    });\r\n    currentY += 4; // Reduced from 6\r\n\r\n    // Payment table with better proportions\r\n    const paymentHeaders = ['Payment Method', 'Account Number', 'Account Name'];\r\n    const paymentColWidths = [innerWidth * 0.28, innerWidth * 0.36, innerWidth * 0.36];\r\n    \r\n    // Header background with stronger color\r\n    pdf.setFillColor(240, 240, 240);\r\n    const headerHeight = 10;\r\n    addRect(innerLeft, currentY - 2, innerWidth, headerHeight, 'F');\r\n    addRect(innerLeft, currentY - 2, innerWidth, headerHeight, 'S');\r\n    \r\n    // Header text with proper spacing\r\n    let paymentX = innerLeft;\r\n    paymentHeaders.forEach((header, index) => {\r\n      addText(header, paymentX + 4, currentY + 4, {\r\n        fontSize: 9,\r\n        fontStyle: 'bold'\r\n      });\r\n      if (index < paymentHeaders.length - 1) {\r\n        addLine(paymentX + paymentColWidths[index], currentY - 2, paymentX + paymentColWidths[index], currentY + headerHeight - 2);\r\n      }\r\n      paymentX += paymentColWidths[index];\r\n    });\r\n    \r\n    currentY += headerHeight;\r\n    \r\n    // Payment rows with consistent formatting\r\n    const validPayments = receiptData.paymentMethods.filter(payment => \r\n      payment.method.trim() || payment.accountNumber.trim() || payment.accountName.trim()\r\n    );\r\n    \r\n    validPayments.forEach((payment, index) => {\r\n      const rowHeight = 10;\r\n      checkPageBreak(rowHeight + 5);\r\n      \r\n      // Alternating row colors\r\n      if (index % 2 === 1) {\r\n        pdf.setFillColor(248, 248, 248);\r\n        addRect(innerLeft, currentY, innerWidth, rowHeight, 'F');\r\n      }\r\n      \r\n      // Row border\r\n      addRect(innerLeft, currentY, innerWidth, rowHeight, 'S');\r\n      \r\n      paymentX = innerLeft;\r\n      \r\n      // Payment method\r\n      addText(payment.method, paymentX + 4, currentY + 5, {\r\n        fontSize: 9,\r\n        fontStyle: 'bold'\r\n      });\r\n      paymentX += paymentColWidths[0];\r\n      addLine(paymentX, currentY, paymentX, currentY + rowHeight);\r\n      \r\n      // Account number\r\n      addText(payment.accountNumber, paymentX + 4, currentY + 5, {\r\n        fontSize: 9\r\n      });\r\n      paymentX += paymentColWidths[1];\r\n      addLine(paymentX, currentY, paymentX, currentY + rowHeight);\r\n      \r\n      // Account name\r\n      addText(payment.accountName, paymentX + 4, currentY + 5, {\r\n        fontSize: 9\r\n      });\r\n      \r\n      currentY += rowHeight;\r\n    });\r\n    \r\n    currentY += 4; // Reduced from 8\r\n  }\r\n\r\n  // Notes section (if available)\r\n  if (receiptData.notes && receiptData.notes.trim()) {\r\n    checkPageBreak(25);\r\n    \r\n    // Add separator line\r\n    addLine(innerLeft, currentY, innerLeft + innerWidth, currentY);\r\n    currentY += 4;\r\n    \r\n    // Notes title\r\n    addText('Notes:', innerLeft, currentY, {\r\n      fontSize: 11,\r\n      fontStyle: 'bold'\r\n    });\r\n    currentY += 6;\r\n    \r\n    // Notes content with text wrapping\r\n    const maxWidth = innerWidth - 8;\r\n    const lines = pdf.splitTextToSize(receiptData.notes, maxWidth);\r\n    \r\n    lines.forEach((line: string) => {\r\n      checkPageBreak(8);\r\n      addText(line, innerLeft + 4, currentY, {\r\n        fontSize: 10\r\n      });\r\n      currentY += 5;\r\n    });\r\n    \r\n    currentY += 4;\r\n  }\r\n\r\n  // Signature section (if available) with reduced spacing\r\n  if (receiptData.signature) {\r\n    try {\r\n      checkPageBreak(35);\r\n      \r\n      const img = new Image();\r\n      img.crossOrigin = 'anonymous';\r\n      \r\n      await new Promise<void>((resolve) => {\r\n        img.onload = () => {\r\n          try {\r\n            const canvas = document.createElement('canvas');\r\n            const ctx = canvas.getContext('2d');\r\n            if (ctx) {\r\n              canvas.width = img.width;\r\n              canvas.height = img.height;\r\n              ctx.drawImage(img, 0, 0);\r\n              \r\n              const dataURL = canvas.toDataURL('image/png');\r\n              \r\n              // Calculate signature dimensions while maintaining aspect ratio\r\n              const maxSigWidth = 40;\r\n              const maxSigHeight = 20;\r\n              const aspectRatio = img.width / img.height;\r\n              \r\n              let sigWidth, sigHeight;\r\n              \r\n              // Calculate dimensions based on aspect ratio\r\n              if (aspectRatio > (maxSigWidth / maxSigHeight)) {\r\n                // Image is wider, constrain by width\r\n                sigWidth = maxSigWidth;\r\n                sigHeight = maxSigWidth / aspectRatio;\r\n              } else {\r\n                // Image is taller, constrain by height\r\n                sigHeight = maxSigHeight;\r\n                sigWidth = maxSigHeight * aspectRatio;\r\n              }\r\n              \r\n              // Position signature on the right\r\n              const sigX = innerLeft + innerWidth - sigWidth;\r\n              \r\n              addLine(innerLeft, currentY, innerLeft + innerWidth, currentY);\r\n              currentY += 4; // Reduced from 6\r\n              \r\n              pdf.addImage(dataURL, 'PNG', sigX, currentY, sigWidth, sigHeight);\r\n              currentY += sigHeight + 2; // Reduced from 3\r\n              \r\n              addText('Authorized Signature', sigX + sigWidth / 2, currentY, {\r\n                fontSize: 8,\r\n                align: 'center'\r\n              });\r\n              currentY += 4; // Reduced from 6\r\n            }\r\n          } catch (error) {\r\n            console.error('Error adding signature to PDF:', error);\r\n          }\r\n          resolve();\r\n        };\r\n        \r\n        img.onerror = () => {\r\n          console.error('Error loading signature image');\r\n          resolve();\r\n        };\r\n        \r\n        img.src = receiptData.signature;\r\n      });\r\n    } catch (error) {\r\n      console.error('Error processing signature:', error);\r\n    }\r\n  }\r\n\r\n  // Footer message with reduced spacing\r\n  checkPageBreak(25);\r\n  currentY += 6; // Reduced from 8\r\n  addText('Thank you for your business!', pageWidth / 2, currentY, {\r\n    fontSize: 11,\r\n    fontStyle: 'bold',\r\n    align: 'center'\r\n  });\r\n  \r\n  currentY += 5; // Add spacing between messages\r\n  addText('Created by Gonza Systems', pageWidth / 2, currentY, {\r\n    fontSize: 9,\r\n    align: 'center'\r\n  });\r\n\r\n  // Return blob or download\r\n  if (returnBlob) {\r\n    return pdf.output('blob');\r\n  } else if (filename) {\r\n    pdf.save(filename);\r\n  }\r\n};\r\n"],"names":[],"mappings":"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","ignoreList":[5,6,7,8,9,10]}