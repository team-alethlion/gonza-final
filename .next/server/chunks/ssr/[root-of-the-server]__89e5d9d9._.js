module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},909270,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.AppRouterContext},736313,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.HooksClientContext},818341,(a,b,c)=>{"use strict";b.exports=a.r(342602).vendored.contexts.ServerInsertedHtml},811011,a=>{"use strict";var b=a.i(572131),c=a.i(470121),d=a.i(187924),e=Symbol.for("react.lazy"),f=b[" use ".trim().toString()];function g(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===e&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}function h(a){var e;let h,i=(e=a,(h=b.forwardRef((a,d)=>{let{children:e,...h}=a;if(g(e)&&"function"==typeof f&&(e=f(e._payload)),b.isValidElement(e)){var i;let a,f,g=(i=e,(f=(a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.ref:(f=(a=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.props.ref:i.props.ref||i.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(h,e.props);return e.type!==b.Fragment&&(j.ref=d?(0,c.composeRefs)(d,g):g),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${e}.SlotClone`,h),j=b.forwardRef((a,c)=>{let{children:e,...h}=a;g(e)&&"function"==typeof f&&(e=f(e._payload));let j=b.Children.toArray(e),l=j.find(k);if(l){let a=l.props.children,e=j.map(c=>c!==l?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,d.jsx)(i,{...h,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,e):null})}return(0,d.jsx)(i,{...h,ref:c,children:e})});return j.displayName=`${a}.Slot`,j}var i=h("Slot"),j=Symbol("radix.slottable");function k(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===j}a.s(["Slot",()=>i,"createSlot",()=>h])},699570,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(811011),e=a.i(400187),f=a.i(368114);let g=(0,e.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h,"buttonVariants",()=>g])},591119,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},866718,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","number"===c&&"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",a),onWheel:"number"===c?a=>{"number"===c&&a.currentTarget.blur()}:void 0,ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},949105,a=>{"use strict";var b=a.i(572131);a.i(935112);var c=a.i(811011),d=a.i(187924),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,c.createSlot)(`Primitive.${e}`),g=b.forwardRef((a,b)=>{let{asChild:c,...g}=a;return(0,d.jsx)(c?f:e,{...g,ref:b})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=b.forwardRef((a,b)=>(0,d.jsx)(e.label,{...a,ref:b,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label",a.s(["Label",()=>f,"Root",()=>f],949105)},870430,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(949105),e=a.i(400187),f=a.i(368114);let g=(0,e.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Root,{ref:e,className:(0,f.cn)(g(),a),...c}));h.displayName=d.Root.displayName,a.s(["Label",()=>h])},124348,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(400187),e=a.i(368114);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c}));h.displayName="AlertTitle";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));i.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>i,"AlertTitle",()=>h])},177156,a=>{"use strict";let b=(0,a.i(170106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],177156)},141379,a=>{"use strict";let b=(0,a.i(170106).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],141379)},593755,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(699570),f=a.i(866718),g=a.i(591119),h=a.i(441921),i=a.i(88780),j=a.i(695245),k=a.i(159501),l=a.i(823292),m=a.i(405050);let n=(0,m.createServerReference)("60b4ae0f406ec773d479f8c810284331e005276a79",m.callServer,void 0,m.findSourceMapURL,"resetPasswordAction"),o=(0,m.createServerReference)("00d7265d135808e9c70b4e1d48649ff9e645425b5c",m.callServer,void 0,m.findSourceMapURL,"signOutAction");var p=a.i(124348),q=a.i(391956),r=a.i(177156),s=a.i(141379);let t=i.z.object({password:i.z.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:i.z.string()}).refine(a=>a.password===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});a.s(["default",0,()=>{let[a,i]=(0,c.useState)(!1),[m,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),D=(0,d.useRouter)(),E=(0,j.useForm)({resolver:(0,k.zodResolver)(t),defaultValues:{password:"",confirmPassword:""}}),{user:F}=(0,q.useAuth)();(0,c.useEffect)(()=>{let a=window.location.hash.substring(1);if(F){window.location.hash&&window.history.replaceState(null,"",window.location.pathname);return}if(a)try{let b=new URLSearchParams(a),c=b.get("access_token"),d=b.get("type");c&&"recovery"===d?w(c):y("Invalid or missing recovery token")}catch(a){y("Invalid URL format")}else y("No reset token found in URL")},[F]);let G=async a=>{if(!v&&!F)return void y("Reset token is missing");i(!0);try{let b=await n(a.password,v||void 0);if(!b.success)throw Error(b.error);u(!0),l.toast.success("Password has been reset successfully"),setTimeout(()=>{D.push("/login")},3e3)}catch(a){console.error("Reset password error:",a),l.toast.error(`Failed to reset password: ${a?.message||"Unknown error"}`),y(a?.message||"An unknown error occurred")}finally{i(!1)}};return m?(0,b.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/lovable-uploads/2fca69a3-fd1f-4833-bb84-fd7f5764059f.png')"},children:(0,b.jsxs)(g.Card,{className:"w-full max-w-md border-primary/10 shadow-lg bg-white/90",children:[(0,b.jsx)(g.CardHeader,{className:"space-y-1",children:(0,b.jsx)(g.CardTitle,{className:"text-2xl font-bold text-center text-primary",children:"Password Reset Successful"})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsx)(p.Alert,{children:(0,b.jsx)(p.AlertDescription,{children:"Your password has been reset successfully. You will be redirected to the login page shortly."})}),(0,b.jsx)(e.Button,{onClick:()=>D.push("/login"),className:"w-full",children:"Go to Login"})]})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('/lovable-uploads/2fca69a3-fd1f-4833-bb84-fd7f5764059f.png')"},children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("img",{src:"/lovable-uploads/da3f3948-8e6b-4501-b4aa-5e365d8e799e.png",alt:"Gonzo Sales & Profit Tracker",className:"h-16 md:h-20 object-contain"})}),(0,b.jsxs)(g.Card,{className:"w-full max-w-md border-primary/10 shadow-lg bg-white/90",children:[(0,b.jsxs)(g.CardHeader,{className:"space-y-1",children:[(0,b.jsx)(g.CardTitle,{className:"text-2xl font-bold text-center text-primary",children:"Reset Your Password"}),(0,b.jsx)(g.CardDescription,{className:"text-center",children:"Enter your new password below"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[x&&(0,b.jsx)(p.Alert,{variant:"destructive",children:(0,b.jsx)(p.AlertDescription,{children:x})}),!x&&(0,b.jsx)(h.Form,{...E,children:(0,b.jsxs)("form",{onSubmit:E.handleSubmit(G),className:"space-y-4",children:[(0,b.jsx)(h.FormField,{control:E.control,name:"password",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"New Password"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{...a,type:z?"text":"password",placeholder:"Enter new password",className:"border-input focus:border-primary pr-10"}),(0,b.jsx)("button",{type:"button",onClick:()=>A(!z),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:z?(0,b.jsx)(s.EyeOff,{size:18}):(0,b.jsx)(r.Eye,{size:18})})]})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:E.control,name:"confirmPassword",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Confirm Password"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{...a,type:B?"text":"password",placeholder:"Confirm new password",className:"border-input focus:border-primary pr-10"}),(0,b.jsx)("button",{type:"button",onClick:()=>C(!B),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:B?(0,b.jsx)(s.EyeOff,{size:18}):(0,b.jsx)(r.Eye,{size:18})})]})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:a,children:a?"Resetting...":"Reset Password"})]})}),(0,b.jsx)("div",{className:"text-center pt-2",children:(0,b.jsx)(e.Button,{variant:"link",className:"text-primary",onClick:async()=>{await o(),D.push("/login")},children:"Back to Login"})})]})]})]})}],593755)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__89e5d9d9._.js.map